!function(e){"use strict";function n(){return j.__string_rec(this,"")}var i={};function t(t,e){function i(){}i.prototype=t;var s,n=new i;for(s in e)n[s]=e[s];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}function L(t,e){this.r=new RegExp(t,e.split("u").join(""))}(i.EReg=L).__name__=["EReg"],L.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new Y("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw new Y("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(t,e,i){if(null==i&&(i=-1),this.r.global){this.r.lastIndex=e;var s=this.r,n=i<0?t:D.substr(t,0,e+i);this.r.m=s.exec(n);n=null!=this.r.m;return n&&(this.r.s=t),n}i=this.match(i<0?D.substr(t,e,null):D.substr(t,e,i));return i&&(this.r.s=t,this.r.m.index+=e),i},split:function(t){var e="#__delim__#";return t.replace(this.r,e).split(e)},map:function(t,e){for(var i=0,s="";!(i>=t.length);){if(!this.matchSub(t,i)){s+=F.string(D.substr(t,i,null));break}var n=this.matchedPos();if(s+=F.string(D.substr(t,i,n.pos-i)),s+=F.string(e(this)),i=0==n.len?(s+=F.string(D.substr(t,n.pos,1)),n.pos+1):n.pos+n.len,!this.r.global)break}return!this.r.global&&0<i&&i<t.length&&(s+=F.string(D.substr(t,i,null))),s},__class__:L};var D=function(){};function N(){this.length=0}(i.HxOverrides=D).__name__=["HxOverrides"],D.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:var s=t.split("-");return new Date(s[0],s[1]-1,s[2],0,0,0);case 19:i=t.split(" "),s=i[0].split("-"),i=i[1].split(":");return new Date(s[0],s[1]-1,s[2],i[0],i[1],i[2]);default:throw new Y("Invalid date format : "+t)}},D.cca=function(t,e){e=t.charCodeAt(e);if(e==e)return e},D.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},D.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},(i.List=N).__name__=["List"],N.prototype={add:function(t){t=new s(t,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},__class__:N};var s=function(t,e){this.item=t,this.next=e};function O(){}(i["_List.ListNode"]=s).__name__=["_List","ListNode"],s.prototype={__class__:s},Math.__name__=["Math"],(i.Reflect=O).__name__=["Reflect"],O.field=function(t,e){try{return t[e]}catch(t){return null}},O.fields=function(t){var e=[];if(null!=t){var i,s=Object.prototype.hasOwnProperty;for(i in t)"__id__"!=i&&"hx__closures__"!=i&&s.call(t,i)&&e.push(i)}return e},O.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},O.compareMethods=function(t,e){return t==e||!(!O.isFunction(t)||!O.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},O.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)};var F=function(){};function a(){this.b=""}function r(){}(i.Std=F).__name__=["Std"],F.string=function(t){return j.__string_rec(t,"")},F.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=D.cca(t,1)&&88!=D.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},(i.StringBuf=a).__name__=["StringBuf"],a.prototype={__class__:a},(i.StringTools=r).__name__=["StringTools"],r.isSpace=function(t,e){e=D.cca(t,e);return 8<e&&e<14||32==e},r.ltrim=function(t){for(var e=t.length,i=0;i<e&&r.isSpace(t,i);)++i;return 0<i?D.substr(t,i,e-i):t},r.rtrim=function(t){for(var e=t.length,i=0;i<e&&r.isSpace(t,e-i-1);)++i;return 0<i?D.substr(t,0,e-i):t},r.trim=function(t){return r.ltrim(r.rtrim(t))};var o=i.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};function W(){}o.TNull=["TNull",0],o.TNull.toString=n,(o.TNull.__enum__=o).TInt=["TInt",1],o.TInt.toString=n,(o.TInt.__enum__=o).TFloat=["TFloat",2],o.TFloat.toString=n,(o.TFloat.__enum__=o).TBool=["TBool",3],o.TBool.toString=n,(o.TBool.__enum__=o).TObject=["TObject",4],o.TObject.toString=n,(o.TObject.__enum__=o).TFunction=["TFunction",5],o.TFunction.toString=n,(o.TFunction.__enum__=o).TClass=function(t){t=["TClass",6,t];return t.__enum__=o,t.toString=n,t},o.TEnum=function(t){t=["TEnum",7,t];return t.__enum__=o,t.toString=n,t},o.TUnknown=["TUnknown",8],o.TUnknown.toString=n,o.TUnknown.__enum__=o,(i.Type=W).__name__=["Type"],W.getClassName=function(t){t=t.__name__;return null==t?null:t.join(".")},W.getEnumName=function(t){return t.__ename__.join(".")},W.resolveClass=function(t){t=i[t];return null!=t&&t.__name__?t:null},W.resolveEnum=function(t){t=i[t];return null!=t&&t.__ename__?t:null},W.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},W.createEnum=function(t,e,i){var s=O.field(t,e);if(null==s)throw new Y("No such constructor "+e);if(O.isFunction(s)){if(null==i)throw new Y("Constructor "+e+" need parameters");return s.apply(t,i)}if(null!=i&&0!=i.length)throw new Y("Constructor "+e+" does not need parameters");return s},W.typeof=function(t){switch(typeof t){case"boolean":return o.TBool;case"function":return t.__name__||t.__ename__?o.TObject:o.TFunction;case"number":return Math.ceil(t)==t%2147483648?o.TInt:o.TFloat;case"object":if(null==t)return o.TNull;var e=t.__enum__;if(null!=e)return o.TEnum(e);e=j.getClass(t);return null!=e?o.TClass(e):o.TObject;case"string":return o.TClass(String);case"undefined":return o.TNull;default:return o.TUnknown}};var h=function(){};(i["haxe.IMap"]=h).__name__=["haxe","IMap"];var G=function(){this.buf=new a,this.cache=[],this.useCache=G.USE_CACHE,this.useEnumIndex=G.USE_ENUM_INDEX,this.shash=new q,this.scount=0};function l(){}(i["haxe.Serializer"]=G).__name__=["haxe","Serializer"],G.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,i=null!=bn[t]?e.getReserved(t):e.h[t];if(null!=i)return this.buf.b+="R",void(this.buf.b+=null==i?"null":""+i);e=this.shash,i=this.scount++;null!=bn[t]?e.setReserved(t,i):e.h[t]=i,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=F.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,i=0,s=this.cache.length;i<s;){var n=i++,a=this.cache[n];if(typeof a==e&&a==t)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=O.fields(t);e<i.length;){var s=i[e];++e,this.serializeString(s),this.serialize(O.field(t,s))}this.buf.b+="g"},serialize:function(t){var e=W.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var i=t;if(0==i)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==i?"null":""+i;break;case 2:i=t;isNaN(i)?this.buf.b+="k":isFinite(i)?(this.buf.b+="d",this.buf.b+=null==i?"null":""+i):this.buf.b+=i<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(j.__instanceof(t,mn)){var s=W.getClassName(t);this.buf.b+="A",this.serializeString(s)}else if(j.__instanceof(t,vn))this.buf.b+="B",this.serializeString(W.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new Y("Cannot serialize function");case 6:var n=e[2];if(n==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(n){case Array:var a=0;this.buf.b+="a";for(var r=0,o=t.length;r<o;){var h=r++;null==t[h]?++a:(0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a),a=0),this.serialize(t[h]))}0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a)),this.buf.b+="h";break;case Date:var l=t;this.buf.b+="v",this.buf.b+=F.string(l.getTime());break;case N:this.buf.b+="l";for(var c=t.h;null!=c;){var R=c.item,c=c.next;this.serialize(R)}this.buf.b+="h";break;case V:this.buf.b+="q";for(var u=t,y=u.keys();y.hasNext();){var g=y.next();this.buf.b+=":",this.buf.b+=null==g?"null":""+g,this.serialize(u.h[g])}this.buf.b+="h";break;case U:this.buf.b+="M";for(var d=t,p=d.keys();p.hasNext();){var _=p.next(),f=O.field(_,"__id__");O.deleteField(_,"__id__"),this.serialize(_),_.__id__=f,this.serialize(d.h[_.__id__])}this.buf.b+="h";break;case q:this.buf.b+="b";for(var m=t,v=m.keys();v.hasNext();){var b=v.next();this.serializeString(b),this.serialize(null!=bn[b]?m.getReserved(b):m.h[b])}this.buf.b+="h";break;case Z:var S=t;this.buf.b+="s",this.buf.b+=F.string(Math.ceil(8*S.length/6)),this.buf.b+=":";var w,x=0,A=S.length-2;if(null==(T=G.BASE64_CODES)){for(var z=G.BASE64.length,T=new Array(z),L=0,M=G.BASE64.length;L<M;){var I=L++;T[I]=D.cca(G.BASE64,I)}G.BASE64_CODES=T}for(;x<A;){var C=S.b[x++],E=S.b[x++],P=S.b[x++];this.buf.b+=String.fromCharCode(T[C>>2]),this.buf.b+=String.fromCharCode(T[63&(C<<4|E>>4)]),this.buf.b+=String.fromCharCode(T[63&(E<<2|P>>6)]),this.buf.b+=String.fromCharCode(T[63&P])}x==A?(z=S.b[x++],w=S.b[x++],this.buf.b+=String.fromCharCode(T[z>>2]),this.buf.b+=String.fromCharCode(T[63&(z<<4|w>>4)]),this.buf.b+=String.fromCharCode(T[w<<2&63])):x==1+A&&(w=S.b[x++],this.buf.b+=String.fromCharCode(T[w>>2]),this.buf.b+=String.fromCharCode(T[w<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(W.getClassName(n)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(W.getClassName(n)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:s=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=F.string(this.useEnumIndex?"j":"w"),this.serializeString(W.getEnumName(s)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=F.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";s=t.length;this.buf.b+=F.string(s-2);for(var k=2,H=s;k<H;){var B=k++;this.serialize(t[B])}this.useCache&&this.cache.push(t);break;default:throw new Y("Cannot serialize "+F.string(t))}},__class__:G},(i["haxe._Unserializer.DefaultResolver"]=l).__name__=["haxe","_Unserializer","DefaultResolver"],l.prototype={resolveClass:function(t){return W.resolveClass(t)},resolveEnum:function(t){return W.resolveEnum(t)},__class__:l};var k=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];t=k.DEFAULT_RESOLVER;null==t&&(t=new l,k.DEFAULT_RESOLVER=t),this.resolver=t};function R(){}(i["haxe.Unserializer"]=k).__name__=["haxe","Unserializer"],k.initCodes=function(){for(var t=[],e=0,i=k.BASE64.length;e<i;){var s=e++;t[k.BASE64.charCodeAt(s)]=s}return t},k.prototype={readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45!=s){if(s<48||57<s)break;t=10*t+(s-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat(D.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new Y("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new Y("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new Y("Invalid enum format");var i=this.readDigits();if(0==i)return W.createEnum(t,e);for(var s=[];0<i--;)s.push(this.unserialize());return W.createEnum(t,e,s)},unserialize:function(){var t;switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize(),i=this.resolver.resolveClass(e);if(null==i)throw new Y("Class not found "+e);return i;case 66:var i=this.unserialize(),s=this.resolver.resolveEnum(i);if(null==s)throw new Y("Enum not found "+i);return s;case 67:var s=this.unserialize(),n=this.resolver.resolveClass(s);if(null==n)throw new Y("Class not found "+s);n=W.createEmptyInstance(n);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new Y("Invalid custom data");return n;case 77:var a=new U;this.cache.push(a);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var r=this.unserialize();a.set(r,this.unserialize())}return this.pos++,a;case 82:n=this.readDigits();if(n<0||n>=this.scache.length)throw new Y("Invalid string reference");return this.scache[n];case 97:this.buf;var o=[];for(this.cache.push(o);;){var h=this.buf.charCodeAt(this.pos);if(104==h){this.pos++;break}117==h?(this.pos++,h=this.readDigits(),o[o.length+h-1]=null):o.push(this.unserialize())}return o;case 98:var l=new q;this.cache.push(l);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var c=this.unserialize(),R=this.unserialize();null!=bn[c]?l.setReserved(c,R):l.h[c]=R}return this.pos++,l;case 99:var u=this.unserialize(),y=this.resolver.resolveClass(u);if(null==y)throw new Y("Class not found "+u);var g=W.createEmptyInstance(y);return this.cache.push(g),this.unserializeObject(g),g;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:u=this.unserialize(),y=this.resolver.resolveEnum(u);if(null==y)throw new Y("Enum not found "+u);this.pos++;var g=this.readDigits(),d=y.__constructs__.slice()[g];if(null==d)throw new Y("Unknown enum index "+u+"@"+g);d=this.unserializeEnum(y,d);return this.cache.push(d),d;case 107:return NaN;case 108:var p=new N;this.cache.push(p);for(this.buf;104!=this.buf.charCodeAt(this.pos);)p.add(this.unserialize());return this.pos++,p;case 109:return-1/0;case 110:return null;case 111:var _={};return this.cache.push(_),this.unserializeObject(_),_;case 112:return 1/0;case 113:var f=new V;this.cache.push(f);this.buf;for(var m=this.buf.charCodeAt(this.pos++);58==m;){var v=this.readDigits(),b=this.unserialize();f.h[v]=b,m=this.buf.charCodeAt(this.pos++)}if(104!=m)throw new Y("Invalid IntMap format");return f;case 114:var S=this.readDigits();if(S<0||S>=this.cache.length)throw new Y("Invalid reference");return this.cache[S];case 115:var w=this.readDigits(),x=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<w)throw new Y("Invalid bytes length");var A=k.CODES;null==A&&(A=k.initCodes(),k.CODES=A);for(var z=this.pos,d=3&w,T=z+(w-d),L=new Z(new Sn(3*(w>>2)+(2<=d?d-1:0))),M=0;z<T;){var I=A[x.charCodeAt(z++)],C=A[x.charCodeAt(z++)];L.b[M++]=255&(I<<2|C>>4);I=A[x.charCodeAt(z++)];L.b[M++]=255&(C<<4|I>>2);C=A[x.charCodeAt(z++)];L.b[M++]=255&(I<<6|C)}return 2<=d&&(_=A[x.charCodeAt(z++)],S=A[x.charCodeAt(z++)],L.b[M++]=255&(_<<2|S>>4),3==d&&(d=A[x.charCodeAt(z++)],L.b[M++]=255&(S<<4|d>>2))),this.pos+=w,this.cache.push(L),L;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(t=D.strDate(D.substr(this.buf,this.pos,19)),this.pos+=19):(w=this.readFloat(),t=new Date(w)),this.cache.push(t),t;case 119:var E=this.unserialize(),P=this.resolver.resolveEnum(E);if(null==P)throw new Y("Enum not found "+E);E=this.unserializeEnum(P,this.unserialize());return this.cache.push(E),E;case 120:throw Y.wrap(this.unserialize());case 121:P=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<P)throw new Y("Invalid string length");E=D.substr(this.buf,this.pos,P);return this.pos+=P,E=decodeURIComponent(E.split("+").join(" ")),this.scache.push(E),E;case 122:return 0}throw this.pos--,new Y("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:k},(i["haxe.ds.ArraySort"]=R).__name__=["haxe","ds","ArraySort"],R.sort=function(t,e){R.rec(t,e,0,t.length)},R.rec=function(t,e,i,s){var n=i+s>>1;if(s-i<12){if(!(s<=i))for(var a=i+1,r=s;a<r;)for(var o=a++;i<o&&e(t[o],t[o-1])<0;)R.swap(t,o-1,o),--o}else R.rec(t,e,i,n),R.rec(t,e,n,s),R.doMerge(t,e,i,n,s,n-i,s-n)},R.doMerge=function(t,e,i,s,n,a,r){var o,h,l,c;0!=a&&0!=r&&(a+r!=2?(r<a?l=(o=R.lower(t,e,s,n,c=i+(h=a>>1)))-s:h=(c=R.upper(t,e,i,s,o=s+(l=r>>1)))-i,R.rotate(t,e,c,s,o),R.doMerge(t,e,i,c,c=c+l,h,l),R.doMerge(t,e,c,o,n,a-h,r-l)):e(t[s],t[i])<0&&R.swap(t,s,i))},R.rotate=function(t,e,i,s,n){var a;if(i!=s&&s!=n)for(a=R.gcd(n-i,s-i);0!=a--;){for(var r=t[i+a],o=s-i,h=i+a,l=i+a+o;l!=i+a;)t[h]=t[l],o<n-(h=l)?l+=o:l=i+(o-(n-l));t[h]=r}},R.gcd=function(t,e){for(;0!=e;){var i=t%e;t=e,e=i}return t},R.upper=function(t,e,i,s,n){for(var a,r,o=s-i;0<o;)r=i+(a=o>>1),o=e(t[n],t[r])<0?a:(i=r+1,o-a-1);return i},R.lower=function(t,e,i,s,n){for(var a,r,o=s-i;0<o;)o=e(t[r=i+(a=o>>1)],t[n])<0?(i=r+1,o-a-1):a;return i},R.swap=function(t,e,i){var s=t[e];t[e]=t[i],t[i]=s};var V=function(){this.h={}};(i["haxe.ds.IntMap"]=V).__name__=["haxe","ds","IntMap"],V.__interfaces__=[h],V.prototype={remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t,e=[];for(t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return D.iter(e)},__class__:V};var U=function(){this.h={__keys__:{}}};(i["haxe.ds.ObjectMap"]=U).__name__=["haxe","ds","ObjectMap"],U.__interfaces__=[h],U.assignId=function(t){return t.__id__=++U.count},U.getId=function(t){return t.__id__},U.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++U.count);this.h[i]=e,this.h.__keys__[i]=t},keys:function(){var t,e=[];for(t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return D.iter(e)},__class__:U};var q=function(){this.h={}};(i["haxe.ds.StringMap"]=q).__name__=["haxe","ds","StringMap"],q.__interfaces__=[h],q.prototype={setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},keys:function(){return D.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:q};var Z=function(t){this.length=t.byteLength,this.b=new wn(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(i["haxe.io.Bytes"]=Z).__name__=["haxe","io","Bytes"],Z.alloc=function(t){return new Z(new Sn(t))},Z.ofString=function(t){for(var e=[],i=0;i<t.length;){var s=t.charCodeAt(i++);55296<=s&&s<=56319&&(s=s-55232<<10|1023&t.charCodeAt(i++)),s<=127?e.push(s):(s<=2047?e.push(192|s>>6):(s<=65535?e.push(224|s>>12):(e.push(240|s>>18),e.push(128|s>>12&63)),e.push(128|s>>6&63)),e.push(128|63&s))}return new Z(new wn(e).buffer)},Z.ofData=function(t){var e=t.hxBytes;return null!=e?e:new Z(t)},Z.fastGet=function(t,e){return t.bytes[e]},Z.prototype={__class__:Z};var c=function(){};(i["haxevx.vuex.core.IBuildListed"]=c).__name__=["haxevx","vuex","core","IBuildListed"];var u=function(){};(i["haxevx.vuex.core.IPayload"]=u).__name__=["haxevx","vuex","core","IPayload"],u.prototype={__class__:u};var y=function(){};function g(){}function d(){this._Init()}function p(){}(i["haxevx.vuex.core.NoneT"]=y).__name__=["haxevx","vuex","core","NoneT"],y.prototype={toString:function(){return"NoneT"},__class__:y},(i["haxevx.vuex.core.Singletons"]=g).__name__=["haxevx","vuex","core","Singletons"],g.addLookup=function(t,e){var i,s,n=g.NAMES;(null!=bn[t]?n.existsReserved(t):n.h.hasOwnProperty(t))?(s=g.NAMES,i=null!=bn[t]?s.getReserved(t):s.h[t]):(i=[],s=g.NAMES,null!=bn[t]?s.setReserved(t,i):s.h[t]=i),i.push(e)},g.setAsSingleton=function(t){var e=g.SINGLETON_CACHE,i=W.getClassName(null==t?null:j.getClass(t)),s=t;return null!=bn[i]?e.setReserved(i,s):e.h[i]=s,t},g.getSingleton=function(t){var e=g.SINGLETON_CACHE;return null!=bn[t]?e.getReserved(t):e.h[t]},g.getClassNameOfInstance=function(t){return W.getClassName(null==t?null:j.getClass(t))},g.clearLookups=function(){for(var t=g.NAMES.keys();t.hasNext();){var e=t.next(),i=g.SINGLETON_CACHE;null==(null!=bn[e]?i.getReserved(e):i.h[e])&&(i=g.NAMES,console.log("Warning:: Could not find singleton dependency from/to: ["+F.string(null!=bn[e]?i.getReserved(e):i.h[e])+"] -> "+e))}g.NAMES=new q},(i["haxevx.vuex.core.VComponent"]=d).__name__=["haxevx","vuex","core","VComponent"],d.__super__=Object,d.prototype=t(Object.prototype,{_Init:function(){},get__props:function(){return this},get__vData:function(){return this.$data},PropsData:function(){return null},Data:function(){return null},Created:function(){},BeforeCreate:function(){},BeforeDestroy:function(){},Destroy:function(){},BeforeMount:function(){},Mounted:function(){},BeforeUpdate:function(){},Updated:function(){},Activated:function(){},Deactivated:function(){},El:function(){return null},Render:function(t){return null},Template:function(){return null},Components:function(){return null},GetDefaultPropSettings:function(){return null},GetDefaultPropValues:function(){return null},__class__:d}),(i["haxevx.vuex.core.VxBoot"]=p).__name__=["haxevx","vuex","core","VxBoot"],p.registerModuleWithStore=function(t,e,i){e._Init(t+"/"),i[t]=e,i.registerModule(t,e),p.clearModuleInjStack(i)},p.clearModuleInjStack=function(t){for(var e=t.getters,i=_.stack,s=i.length;-1<--s;)i[s]._InjNative(e);_.stack=[]},p.notifyStarted=function(){g.clearLookups()},p.getRenderComponentMethod=function(e){return function(t){return t(e,null,null)}},p.prototype={startStore:function(t){if(null!=this.STORE)throw new Y("Vuex store already started! Only 1 store is allowed");for(var e=new Vuex.Store(t),i=e.getters,s=_.stack,n=s.length;-1<--n;)s[n]._InjNative(i);if(s=[],null!=t.modules)for(var a=0,r=t.modules,o=O.fields(r);a<o.length;){var h=o[a];++a;O.field(r,h);var l=t[h];e[h]=l}return this.STORE=e},startVueWithRootComponent:function(t,e){var i={};i.el=t,null!=this.STORE&&(i.store=this.STORE),i.render=p.getRenderComponentMethod(e);i=new Vue(i);return p.notifyStarted(),i},__class__:p};var _=function(){};(i["haxevx.vuex.core.ModuleStack"]=_).__name__=["haxevx","vuex","core","ModuleStack"];var f=function(){};(i["haxevx.vuex.native.ActionContext"]=f).__name__=["haxevx","vuex","native","ActionContext"],f.prototype={__class__:f};var m=function(){};function Ne(){}function v(t,e,i){null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.w=i}(i["haxevx.vuex.util.VHTMacros"]=m).__name__=["haxevx","vuex","util","VHTMacros"],(i["hxGeomAlgo.Bayazit"]=Ne).__name__=["hxGeomAlgo","Bayazit"],Ne.decomposePoly=function(t){var e=[];if(t.length<3)return e;Ne.poly=[];for(var i=0;i<t.length;){var s=t[i];++i,Ne.poly.push(Oe._new(s.x,s.y))}return Ne.reversed=Fe.makeCW(Ne.poly),Ne.reflexVertices.length=0,Ne.steinerPoints.length=0,Ne._decomposePoly(Ne.poly,e),e},Ne._decomposePoly=function(t,e){for(var i=Oe._new(),s=Oe._new(),n=Oe._new(),a=(Oe._new(),0),r=0,o=0,h=0,l=0,c=0,R=0,u=[],y=[],g=0,d=t.length;g<d;){var p=g++;if(Fe.isReflex(t,p)){Ne.reflexVertices.push(t[p]),a=r=1/0;for(var _=0,f=t.length;_<f;){for(var m=_++,v=p-1,b=t.length;v<0;)v+=b;for(var S=t[v%b],w=p,x=t.length;w<0;)w+=x;for(var A=t[w%x],z=m,T=t.length;z<0;)z+=T;var L=t[z%T];if(0<(A.x-S.x)*(L.y-S.y)-(L.x-S.x)*(A.y-S.y)){for(var M=p-1,I=t.length;M<0;)M+=I;for(var C=t[M%I],E=p,P=t.length;E<0;)E+=P;for(var k=t[E%P],H=m-1,B=t.length;H<0;)H+=B;var D=t[H%B],N=(k.x-C.x)*(D.y-C.y)-(D.x-C.x)*(k.y-C.y)<=0}else N=!1;if(N){for(var O=p-1,F=t.length;O<0;)O+=F;for(var D=t[O%F],W=p,G=t.length;W<0;)W+=G;for(var k=t[W%G],V=m,U=t.length;V<0;)V+=U;for(var C=t[V%U],q=m-1,Z=t.length;q<0;)q+=Z;n=Fe.intersection(D,k,C,t[q%Z]);for(var Y=1+p,j=t.length;Y<0;)Y+=j;for(var k=t[Y%j],K=p,X=t.length;K<0;)K+=X;C=t[K%X];(C.x-k.x)*(n.y-k.y)-(n.x-k.x)*(C.y-k.y)<0&&((o=(J=(it=t[p]).x-n.x)*J+(at=it.y-n.y)*at)<r&&(r=o,s=n,c=m))}for(var Q=1+p,$=t.length;Q<0;)Q+=$;for(var J=t[Q%$],tt=p,et=t.length;tt<0;)tt+=et;for(var it=t[tt%et],st=1+m,nt=t.length;st<0;)st+=nt;var at=t[st%nt];if(0<(it.x-J.x)*(at.y-J.y)-(at.x-J.x)*(it.y-J.y)){for(var rt=1+p,ot=t.length;rt<0;)rt+=ot;for(var ht=t[rt%ot],lt=p,ct=t.length;lt<0;)lt+=ct;for(var Rt=t[lt%ct],ut=m,yt=t.length;ut<0;)ut+=yt;var gt=t[ut%yt],dt=(Rt.x-ht.x)*(gt.y-ht.y)-(gt.x-ht.x)*(Rt.y-ht.y)<=0}else dt=!1;if(dt){for(var pt=1+p,_t=t.length;pt<0;)pt+=_t;for(var gt=t[pt%_t],ft=p,mt=t.length;ft<0;)ft+=mt;for(var Rt=t[ft%mt],vt=m,bt=t.length;vt<0;)vt+=bt;for(var ht=t[vt%bt],St=1+m,wt=t.length;St<0;)St+=wt;n=Fe.intersection(gt,Rt,ht,t[St%wt]);for(var xt=p-1,At=t.length;xt<0;)xt+=At;for(var Rt=t[xt%At],zt=p,Tt=t.length;zt<0;)zt+=Tt;ht=t[zt%Tt];0<(ht.x-Rt.x)*(n.y-Rt.y)-(n.x-Rt.x)*(ht.y-Rt.y)&&((o=(Rt=(ht=t[p]).x-n.x)*Rt+(ht=ht.y-n.y)*ht)<a&&(a=o,i=n,l=m))}}if(c==(l+1)%t.length)if(n.x=(s.x+i.x)/2,n.y=(s.y+i.y)/2,Ne.steinerPoints.push(n),p<l){for(var Lt=p,Mt=l+1;Lt<Mt;){var It=Lt++;y.push(t[It])}if(y.push(n),u.push(n),0!=c)for(var Ct=c,Et=t.length;Ct<Et;){var Pt=Ct++;u.push(t[Pt])}for(var kt=0,Ht=1+p;kt<Ht;){var Bt=kt++;u.push(t[Bt])}}else{if(0!=p)for(var Dt=p,Nt=t.length;Dt<Nt;){var Ot=Dt++;y.push(t[Ot])}for(var Ft=0,Wt=l+1;Ft<Wt;){var Gt=Ft++;y.push(t[Gt])}y.push(n),u.push(n);for(var Vt=c,Ut=1+p;Vt<Ut;){var qt=Vt++;u.push(t[qt])}}else{l<c&&(l+=t.length),h=1/0;for(var Zt=c,Yt=l+1;Zt<Yt;){for(var jt=Zt++,Kt=p-1,Xt=t.length;Kt<0;)Kt+=Xt;for(var Qt=t[Kt%Xt],$t=p,Jt=t.length;$t<0;)$t+=Jt;for(var te=t[$t%Jt],ee=jt,ie=t.length;ee<0;)ee+=ie;var se=t[ee%ie];if(0<=(te.x-Qt.x)*(se.y-Qt.y)-(se.x-Qt.x)*(te.y-Qt.y)){for(var ne=1+p,ae=t.length;ne<0;)ne+=ae;for(var re=t[ne%ae],oe=p,he=t.length;oe<0;)oe+=he;for(var le=t[oe%he],ce=jt,Re=t.length;ce<0;)ce+=Re;var ue=t[ce%Re],ye=(le.x-re.x)*(ue.y-re.y)-(ue.x-re.x)*(le.y-re.y)<=0}else ye=!1;if(ye){for(var ge=p,de=t.length;ge<0;)ge+=de;for(var ue=t[ge%de],pe=jt,_e=t.length;pe<0;)pe+=_e;le=t[pe%_e],re=ue.x-le.x,le=ue.y-le.y;if((o=re*re+le*le)<h){h=o;for(var fe=jt,me=t.length;fe<0;)fe+=me;t[fe%me],R=jt%t.length}}}if(p<R){for(var ve=p,be=R+1;ve<be;){var Se=ve++;y.push(t[Se])}if(0!=R)for(var we=R,xe=t.length;we<xe;){var Ae=we++;u.push(t[Ae])}for(var ze=0,Te=1+p;ze<Te;){var Le=ze++;u.push(t[Le])}}else{if(0!=p)for(var Me=p,Ie=t.length;Me<Ie;){var Ce=Me++;y.push(t[Ce])}for(var Ee=0,Pe=R+1;Ee<Pe;){var ke=Ee++;y.push(t[ke])}for(var He=R,Be=1+p;He<Be;){var De=He++;u.push(t[De])}}}return void(y.length<u.length?(Ne._decomposePoly(y,e),Ne._decomposePoly(u,e)):(Ne._decomposePoly(u,e),Ne._decomposePoly(y,e)))}}e.push(t)},(i["hxGeomAlgo.HomogCoord"]=v).__name__=["hxGeomAlgo","HomogCoord"],v.det=function(t,e,i){return t.w*e.perpdot(i)-e.w*t.perpdot(i)+i.w*t.perpdot(e)},v.ccw=function(t,e,i){return 0<v.det(t,e,i)},v.cw=function(t,e,i){return v.det(t,e,i)<0},v.prototype={add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},neg:function(){return this.w=-this.w,this.x=-this.x,this.y=-this.y,this},mul:function(t){return this.w*=t,this.x*=t,this.y*=t,this},div:function(t){return this.w/=t,this.x/=t,this.y/=t,this},normalize:function(){return this.div(this.length())},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},perp:function(){var t=-this.y;return this.y=this.x,this.x=t,this},dotPoint:function(t){return this.w+this.x*t.x+this.y*t.y},dot:function(t){return this.w*t.w+this.x*t.x+this.y*t.y},perpdot:function(t){return this.x*t.y-this.y*t.x},dotperp:function(t){return-this.x*t.y+this.y*t.x},equals:function(t){return t.w*this.x==this.w*t.x&&t.w*this.y==this.w*t.y},left:function(t){return 0<this.dotPoint(t)},right:function(t){return this.dotPoint(t)<0},toScreen:function(){return Oe._new(this.x/this.w,-this.y/this.w)},toPoint:function(){return Oe._new(this.x/this.w,this.y/this.w)},meet:function(t){return new v(t.w*this.y-this.w*t.y,this.w*t.x-t.w*this.x,this.x*t.y-this.y*t.x)},meetPoint:function(t){return new v(this.y-this.w*t.y,this.w*t.x-this.x,this.x*t.y-this.y*t.x)},toString:function(){return" (w:"+this.w+"; x:"+this.x+", y:"+this.y+")  "},__class__:v};var Oe={};(i["hxGeomAlgo._HxPoint.HxPoint_Impl_"]=Oe).__name__=["hxGeomAlgo","_HxPoint","HxPoint_Impl_"],Oe.get_x=function(t){return t.x},Oe.set_x=function(t,e){return t.x=e},Oe.get_y=function(t){return t.y},Oe.set_y=function(t,e){return t.y=e},Oe._new=function(t,e){return null==e&&(e=0),null==t&&(t=0),new b(t,e)},Oe.setTo=function(t,e,i){t.x=e,t.y=i},Oe.equals=function(t,e){return null!=t&&null!=e&&e.x==t.x&&e.y==t.y},Oe.notEequals=function(t,e){return!(null!=t&&null!=e&&e.x==t.x&&e.y==t.y)},Oe.clone=function(t){return Oe._new(t.x,t.y)},Oe.toString=function(t){return"("+t.x+", "+t.y+")"},Oe.fromPointStruct=function(t){return Oe._new(t.x,t.y)},Oe.toPointStruct=function(t){return{x:t.x,y:t.y}},Oe.areEqual=function(t,e){return null!=t&&null!=e&&e.x==t.x&&e.y==t.y},Oe.areNotEqual=function(t,e){return!(null!=t&&null!=e&&e.x==t.x&&e.y==t.y)};var b=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};(i["hxGeomAlgo.HxPointData"]=b).__name__=["hxGeomAlgo","HxPointData"],b.prototype={__class__:b};var Fe=function(){};(i["hxGeomAlgo.PolyTools"]=Fe).__name__=["hxGeomAlgo","PolyTools"],Fe.isCCW=function(t){if(t.length<=2)return!0;for(var e=0,i=0,s=t.length;i<s;){for(var n=i++,a=n-1,r=t.length;a<0;)a+=r;for(var o=t[a%r].x*t[n].y,h=t[n].x,l=n-1,c=t.length;l<0;)l+=c;e+=o-h*t[l%c].y}return e<0},Fe.makeCCW=function(t){var e=!1;return Fe.isCCW(t)||(t.reverse(),e=!0),e},Fe.makeCW=function(t){var e=!1;return Fe.isCCW(t)&&(t.reverse(),e=!0),e},Fe.isConvex=function(t){for(var e=null,i=0,s=t.length;i<s;){var n=i++,a=0==n?t.length-1:n-1,r=n==t.length-1?0:1+n,o=t[n].x-t[a].x,h=t[n].y-t[a].y,a=t[r].x-t[n].x,a=o*(t[r].y-t[n].y)-a*h,h=0<a;if(0!=a)if(null==e)e=h;else if(e!=h)return!1}return!0},Fe.isSimple=function(t){var e=t.length;if(e<=3)return!0;for(var i=0,s=e;i<s;)for(var n=i++,a=n,r=n==e-1?0:1+n,o=1+n,h=e;o<h;){var l=o++,c=l,R=l==e-1?0:1+l,u=Fe.segmentIntersect(t[a],t[r],t[c],t[R]);if(!!(null!=u&&(l=t[a],!(null!=u&&null!=l&&l.x==u.x&&l.y==u.y||(l=t[r],null!=u&&null!=l&&l.x==u.x&&l.y==u.y))))&&(c=t[c],!(null!=u&&null!=c&&c.x==u.x&&c.y==u.y||(R=t[R],null!=u&&null!=R&&R.x==u.x&&R.y==u.y))))return!1}return!0},Fe.segmentIntersect=function(t,e,i,s){var n,a=e.y-t.y,r=t.x-e.x,o=e.x*t.y-t.x*e.y,h=s.y-i.y,l=i.x-s.x,c=s.x*i.y-i.x*s.y,R=a*l-h*r;if(0==R)return null;(n=Oe._new()).x=(r*c-l*o)/R,n.y=(h*o-a*c)/R;o=n.x-e.x,a=n.y-e.y,c=t.x-e.x,R=t.y-e.y;if(c*c+R*R<o*o+a*a)return null;R=n.x-t.x,o=n.y-t.y,a=t.x-e.x,e=t.y-e.y;if(a*a+e*e<R*R+o*o)return null;a=n.x-s.x,e=n.y-s.y,R=i.x-s.x,o=i.y-s.y;if(R*R+o*o<a*a+e*e)return null;o=n.x-i.x,a=n.y-i.y,e=i.x-s.x,s=i.y-s.y;return e*e+s*s<o*o+a*a?null:n},Fe.findDuplicatePoints=function(t,e,i){null==i&&(i=!0),null==e&&(e=!0);var s=t.length;if(s<=1)return[];for(var n,a=[],r=0,o=s-1;r<o;)for(var h=r++,l=1+h;l<s;){var c=t[h],R=t[l],c=null!=c&&null!=R&&R.x==c.x&&R.y==c.y;if(c&&a.push(h),e||c&&!e)break;++l}return!(!i||!e)&&(n=t[0],i=t[s-1],null!=n&&null!=i&&i.x==n.x&&i.y==n.y)&&a.push(s-1),a},Fe.intersection=function(t,e,i,s){var n=null,a=e.y-t.y,r=t.x-e.x,o=a*t.x+r*t.y,e=s.y-i.y,t=i.x-s.x,s=e*i.x+t*i.y,i=a*t-e*r;return Math.abs(i)<=Fe.EPSILON||((n=Oe._new()).x=(t*o-r*s)/i,n.y=(a*s-e*o)/i),n},Fe.isReflex=function(t,e){for(var i=e-1,s=t.length;i<0;)i+=s;for(var n=t[i%s],a=e,r=t.length;a<0;)a+=r;for(var o=t[a%r],h=e+1,l=t.length;h<0;)h+=l;t=t[h%l];return(o.x-n.x)*(t.y-n.y)-(t.x-n.x)*(o.y-n.y)<0},Fe.at=function(t,e){for(var i=t.length;e<0;)e+=i;return t[e%i]},Fe.side=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},Fe.isLeft=function(t,e,i){return 0<(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},Fe.isLeftOrOn=function(t,e,i){return 0<=(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},Fe.isRight=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<0},Fe.isRightOrOn=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<=0},Fe.isCollinear=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)==0},Fe.distance=function(t,e){var i=t.x-e.x,e=t.y-e.y;return Math.sqrt(i*i+e*e)},Fe.distanceToSegment=function(t,e,i){return Math.sqrt(Fe.distanceToSegmentSquared(t,e,i))},Fe.distanceSquared=function(t,e){var i=t.x-e.x,e=t.y-e.y;return i*i+e*e},Fe.distanceToSegmentSquared=function(t,e,i){var s=e.x-i.x,n=e.y-i.y,s=s*s+n*n;if(0==s){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a}a=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/s;if(a<0){var s=t.x-e.x,r=t.y-e.y;return s*s+r*r}if(1<a){var r=t.x-i.x,o=t.y-i.y;return r*r+o*o}o=Fe.point;o.x=e.x+a*(i.x-e.x),o.y=e.y+a*(i.y-e.y);i=Fe.point,e=t.x-i.x,i=t.y-i.y;return e*e+i*i},Fe.meet=function(t,e){return new v(t.y-e.y,e.x-t.x,t.x*e.y-t.y*e.x)},Fe.dot=function(t,e){return t.x*e.x+t.y*e.y},Fe.sqr=function(t){return t*t},Fe.eq=function(t,e){return Math.abs(t-e)<=Fe.EPSILON},Fe.clear=function(t){t.length=0},Fe.toFloatArray=function(t,e){null!=e||(e=[]);for(var i=0;i<t.length;){var s=t[i];++i,e.push(s.x),e.push(s.y)}return e},Fe.reverseFloatArray=function(t,e){null==e&&(e=!1);for(var i=e?t:[],s=t.length>>1,n=0,a=s;n<a;){var r=n++,o=2*(s-r-1);i[2*r]=t[o],i[2*r+1]=t[1+o]}return i},Fe.flatten=function(t,e){for(var i=null!=e?e:[],s=0;s<t.length;){var n=t[s];++s;for(var a=0;a<n.length;){var r=n[a];++a,i.push(r)}}return i},Fe.toPointArray=function(t,e){null!=e||(e=[]);var i=t.length;t.length%2==1&&--i;for(var s=0,n=i>>1;s<n;){var a=s++;e.push(Oe._new(t[2*a],t[2*a+1]))}return e};var Y=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,Y)};(i["js._Boot.HaxeError"]=Y).__name__=["js","_Boot","HaxeError"],Y.wrap=function(t){return t instanceof Error?t:new Y(t)},Y.__super__=Error,Y.prototype=t(Error.prototype,{__class__:Y});var j=function(){};function S(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{t=t;this.a=[];for(var e=0,i=t;e<i;){var s=e++;this.a[s]=0}this.byteLength=t}}function w(){}function x(t){null==t&&(t=[]),this.valueClasses=t,this.slots=P.NIL,this.priorityBased=!1}(i["js.Boot"]=j).__name__=["js","Boot"],j.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;t=j.__nativeClassName(t);return null!=t?j.__resolveNativeClass(t):null},j.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i,s=typeof t;switch("function"==s&&(t.__name__||t.__ename__)&&(s="object"),s){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var a=2,r=t.length;a<r;){var o=a++;n+=2!=o?","+j.__string_rec(t[o],e):j.__string_rec(t[o],e)}return n+")"}var h="[";e+="\t";for(var l=0,c=t.length;l<c;){var R=l++;h+=(0<R?",":"")+j.__string_rec(t[R],e)}return h+="]"}try{i=t.toString}catch(t){return"???"}if(null!=i&&i!=Object.toString&&"function"==typeof i){var u=t.toString();if("[object Object]"!=u)return u}var y=null,g="{\n";e+="\t";var d=null!=t.hasOwnProperty;for(y in t)d&&!t.hasOwnProperty(y)||"prototype"!=y&&"__class__"!=y&&"__super__"!=y&&"__interfaces__"!=y&&"__properties__"!=y&&(2!=g.length&&(g+=", \n"),g+=e+y+" : "+j.__string_rec(t[y],e));return g+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},j.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var s=0,n=i.length;s<n;){var a=i[s++];if(a==e||j.__interfLoop(a,e))return!0}return j.__interfLoop(t.__super__,e)},j.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case fn:return"boolean"==typeof t;case pn:return!0;case _n:return"number"==typeof t;case dn:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(j.__interfLoop(j.getClass(t),e))return!0}else if("object"==typeof e&&j.__isNativeObj(e)&&t instanceof e)return!0;return e==mn&&null!=t.__name__?!0:e==vn&&null!=t.__ename__||t.__enum__==e}},j.__nativeClassName=function(t){t=j.__toStr.call(t).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},j.__isNativeObj=function(t){return null!=j.__nativeClassName(t)},j.__resolveNativeClass=function(t){return e[t]},(i["js.html.compat.ArrayBuffer"]=S).__name__=["js","html","compat","ArrayBuffer"],S.sliceImpl=function(t,e){e=new wn(this,t,null==e?null:e-t),t=new Sn(e.byteLength);return new wn(t).set(e),t},S.prototype={slice:function(t,e){return new S(this.a.slice(t,e))},__class__:S},(i["js.html.compat.Uint8Array"]=w).__name__=["js","html","compat","Uint8Array"],w._new=function(t,e,i){var s;if("number"==typeof t){s=[];for(var n=0,a=t;n<a;)s[n++]=0;s.byteLength=s.length,s.byteOffset=0,s.buffer=new S(s)}else if(j.__instanceof(t,S)){var r=t;null==e&&(e=0),null==i&&(i=r.byteLength-e),(s=0==e?r.a:r.a.slice(e,e+i)).byteLength=s.length,s.byteOffset=e,s.buffer=r}else{if(!(t instanceof Array&&null==t.__enum__))throw new Y("TODO "+F.string(t));(s=t.slice()).byteLength=s.length,s.byteOffset=0,s.buffer=new S(s)}return s.subarray=w._subarray,s.set=w._set,s},w._set=function(t,e){if(j.__instanceof(t.buffer,S)){var i=t;if(t.byteLength+e>this.byteLength)throw new Y("set() outside of range");for(var s=0,n=t.byteLength;s<n;){var a=s++;this[a+e]=i[a]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new Y("TODO");var r=t;if(r.length+e>this.byteLength)throw new Y("set() outside of range");for(var o=0,h=r.length;o<h;){var l=o++;this[l+e]=r[l]}}},w._subarray=function(t,e){e=w._new(this.slice(t,e));return e.byteOffset=t,e},(i["msignal.Signal"]=x).__name__=["msignal","Signal"],x.prototype={add:function(t){return this.registerListener(t)},addOnce:function(t){return this.registerListener(t,!0)},addWithPriority:function(t,e){return null==e&&(e=0),this.registerListener(t,!1,e)},addOnceWithPriority:function(t,e){return null==e&&(e=0),this.registerListener(t,!0,e)},remove:function(t){var e=this.slots.find(t);return null==e?null:(this.slots=this.slots.filterNot(t),e)},removeAll:function(){this.slots=P.NIL},registerListener:function(t,e,i){if(null==i&&(i=0),null==e&&(e=!1),this.registrationPossible(t,e)){e=this.createSlot(t,e,i);return this.priorityBased||0==i||(this.priorityBased=!0),this.priorityBased||0!=i?this.slots=this.slots.insertWithPriority(e):this.slots=this.slots.prepend(e),e}return this.slots.find(t)},registrationPossible:function(t,e){return!this.slots.nonEmpty||null==this.slots.find(t)},createSlot:function(t,e,i){return null==i&&(i=0),null==e&&(e=!1),null},get_numListeners:function(){return this.slots.get_length()},__class__:x};var A=function(){x.call(this)};function z(t){x.call(this,[t])}(i["msignal.Signal0"]=A).__name__=["msignal","Signal0"],A.__super__=x,A.prototype=t(x.prototype,{dispatch:function(){for(var t=this.slots;t.nonEmpty;)t.head.execute(),t=t.tail},createSlot:function(t,e,i){return null==i&&(i=0),null==e&&(e=!1),new I(this,t,e,i)},__class__:A}),(i["msignal.Signal1"]=z).__name__=["msignal","Signal1"],z.__super__=x,z.prototype=t(x.prototype,{dispatch:function(t){for(var e=this.slots;e.nonEmpty;)e.head.execute(t),e=e.tail},createSlot:function(t,e,i){return null==i&&(i=0),null==e&&(e=!1),new C(this,t,e,i)},__class__:z});var T=function(t,e){x.call(this,[t,e])};function M(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),this.signal=t,this.set_listener(e),this.once=i,this.priority=s,this.enabled=!0}(i["msignal.Signal2"]=T).__name__=["msignal","Signal2"],T.__super__=x,T.prototype=t(x.prototype,{dispatch:function(t,e){for(var i=this.slots;i.nonEmpty;)i.head.execute(t,e),i=i.tail},createSlot:function(t,e,i){return null==i&&(i=0),null==e&&(e=!1),new E(this,t,e,i)},__class__:T}),(i["msignal.Slot"]=M).__name__=["msignal","Slot"],M.prototype={remove:function(){this.signal.remove(this.listener)},set_listener:function(t){return this.listener=t},__class__:M};var I=function(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),M.call(this,t,e,i,s)};(i["msignal.Slot0"]=I).__name__=["msignal","Slot0"],I.__super__=M,I.prototype=t(M.prototype,{execute:function(){this.enabled&&(this.once&&this.remove(),this.listener())},__class__:I});var C=function(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),M.call(this,t,e,i,s)};(i["msignal.Slot1"]=C).__name__=["msignal","Slot1"],C.__super__=M,C.prototype=t(M.prototype,{execute:function(t){this.enabled&&(this.once&&this.remove(),null!=this.param&&(t=this.param),this.listener(t))},__class__:C});var E=function(t,e,i,s){null==s&&(s=0),null==i&&(i=!1),M.call(this,t,e,i,s)};(i["msignal.Slot2"]=E).__name__=["msignal","Slot2"],E.__super__=M,E.prototype=t(M.prototype,{execute:function(t,e){this.enabled&&(this.once&&this.remove(),null!=this.param1&&(t=this.param1),null!=this.param2&&(e=this.param2),this.listener(t,e))},__class__:E});var P=function(t,e){this.nonEmpty=!1,null==t&&null==e?this.nonEmpty=!1:null!=t&&(this.head=t,this.tail=null==e?P.NIL:e,this.nonEmpty=!0)};function H(){this.linkUpdateCount=0,this.combatants=[],this.roundCount=0,this.secondTempo=!1,this.s=0,this.c=0}function B(t,e,i){null==i&&(i=0),this.label=t,this.charSheet=e,this.fight=new X,this.sideIndex=i}(i["msignal.SlotList"]=P).__name__=["msignal","SlotList"],P.prototype={get_length:function(){if(!this.nonEmpty)return 0;if(this.tail==P.NIL)return 1;for(var t=0,e=this;e.nonEmpty;)++t,e=e.tail;return t},prepend:function(t){return new P(t,this)},append:function(t){if(null==t)return this;if(!this.nonEmpty)return new P(t);if(this.tail==P.NIL)return new P(t).prepend(this.head);for(var e=new P(this.head),i=e,s=this.tail;s.nonEmpty;)i=i.tail=new P(s.head),s=s.tail;return i.tail=new P(t),e},insertWithPriority:function(t){if(!this.nonEmpty)return new P(t);var e=t.priority;if(e>=this.head.priority)return this.prepend(t);for(var i=new P(this.head),s=i,n=this.tail;n.nonEmpty;){if(e>n.head.priority)return s.tail=n.prepend(t),i;s=s.tail=new P(n.head),n=n.tail}return s.tail=new P(t),i},filterNot:function(t){if(!this.nonEmpty||null==t)return this;if(O.compareMethods(this.head.listener,t))return this.tail;for(var e=new P(this.head),i=e,s=this.tail;s.nonEmpty;){if(O.compareMethods(s.head.listener,t))return i.tail=s.tail,e;i=i.tail=new P(s.head),s=s.tail}return this},contains:function(t){if(!this.nonEmpty)return!1;for(var e=this;e.nonEmpty;){if(O.compareMethods(e.head.listener,t))return!0;e=e.tail}return!1},find:function(t){if(!this.nonEmpty)return null;for(var e=this;e.nonEmpty;){if(O.compareMethods(e.head.listener,t))return e.head;e=e.tail}return null},__class__:P},(i["troshx.components.Bout"]=H).__name__=["troshx","components","Bout"],H.prototype={setStep:function(t){this.s=t},setupAllNewSideLinks:function(){for(var t=null,e=0,i=this.combatants.length;e<i;)for(var s=e++,n=1+s,a=this.combatants.length;n<a;){var r=n++;this.combatants[s].sideIndex!=this.combatants[r].sideIndex&&(t=null!=t?t.next=new K(this.combatants[s],this.combatants[r]):this.links=new K(this.combatants[s],this.combatants[r]))}this.linkUpdateCount++},pushNewFightNode:function(t){var e=null,i=!1;if(null==t.targetLink)for(var s=0,n=this.combatants.length;s<n;){var a=s++,a=this.combatants[a];a.sideIndex!=t.sideIndex&&(e=new K(t,a),t.targetLink=e,null==a.targetLink&&(a.targetLink=e),null!=this.links&&(e.next=this.links),this.links=e,i=!0)}i&&this.linkUpdateCount++,this.combatants.push(t)},clearLinksWithCondition:function(t){for(var e,i=this.links,s=!1,n=null;null!=i;)e=i.next,t(i)&&(s=!0,null!=n?n.next=e:this.links=e,i.a.targetLink==i&&(i.a.targetLink=null),i.b.targetLink==i&&(i.b.targetLink=null)),n=i,i=e;return s&&this.linkUpdateCount++,s},findLink:function(t,e){for(var i=this.links;null!=i;){if(i.a==t&&i.b==e||i.b==t&&i.a==e)return i;i=i.next}return null},findLinkedOpponents:function(t){for(var e=[],i=this.links;null!=i;)i.a!=t&&i.b!=t||e.push(i.a!=t?i.a:i.b),i=i.next;return e},countLinkedOpponents:function(t){for(var e=0,i=this.links;null!=i;)i.a!=t&&i.b!=t||++e,i=i.next;return e},removeLinksFromAgainst:function(e,i){return this.clearLinksWithCondition(function(t){return t.a==e?0<=i.indexOf(t.b):t.b==e&&0<=i.indexOf(t.a)})},purgeDeadLinks:function(){return this.clearLinksWithCondition(function(t){return!!t.a.fight.dead||t.b.fight.dead})},step:function(t){0==t?this.s++:1==t?(this.s=0,this.c++):2==t&&(this.s=0,this.c=0,this.roundCount++)},__class__:H},(i["troshx.components.FightNode"]=B).__name__=["troshx","components","FightNode"],B.prototype={getTargetOpponent:function(){return null!=this.targetLink?this.targetLink.a!=this?this.targetLink.a:this.targetLink.b:null},__class__:B};var K=function(t,e){this.reach=0,this.a=t,this.b=e,Object.defineProperty(this,"next",{enumerable:!1,iterable:!1,writable:!0,configurable:!1}),Object.defineProperty(this,"a",{enumerable:!1,iterable:!1,writable:!1,configurable:!1}),Object.defineProperty(this,"b",{enumerable:!1,iterable:!1,writable:!1,configurable:!1})};(i["troshx.components.FightLink"]=K).__name__=["troshx","components","FightLink"],K.prototype={findNodeSide:function(t){return t==this.a?-1:t==this.b?1:0},__class__:K};var X=function(){this.kd=!1,this.KO=!1,this.lastAttacking=!1,this.orientation=0,this.defensiveManevers=[],this.attackManuevers=[],this.dead=!1,this.cp=0};function Q(){}function $(t,e,i){null==i&&(i=""),this.label=t,this.savedData=e,this.description=i}(i["troshx.components.FightState"]=X).__name__=["troshx","components","FightState"],X.prototype={__class__:X},(i["troshx.core.BoutMessage"]=Q).__name__=["troshx","core","BoutMessage"],Q.create=function(t,e){null==t&&(t=0);var i=new Q;return i.type=t,i.text=e,i},Q.prototype={__class__:Q},(i["troshx.core.CharSave"]=$).__name__=["troshx","core","CharSave"],$.prototype={__class__:$};var J=function(){};function tt(){this.replyTo=null,this.activeEnemyItem=null,this.activeEnemyZone=-1,this.activeEnemyBody=null,this.usingLeftLimb=!1,this.activeItem=null,this.typePreference=0}function et(){this.stack=[]}function it(){this.hash={},this.list=[]}function st(){this.list=[]}function nt(t,e){this.name=t,this.costs=e,this.flags=0,this.clampRank=!1,this.multipleTimes=0,this.channels=0,this.superChannels=0}function at(t,e){nt.call(this,t,e)}function rt(){at.call(this,"Allies",[1,5,10]),this.clampRank=!0,this.multipleTimes=-2}function ot(){this._minRequired=0,this._canceled=!1,this._forcePermanent=!1,this.discount=0}(i["troshx.core.IBodyChar"]=J).__name__=["troshx","core","IBodyChar"],J.prototype={__class__:J},h=function(){},(i["troshx.core.IBoutController"]=h).__name__=["troshx","core","IBoutController"],h.prototype={__class__:h},c=function(){},(i["troshx.core.IBoutModel"]=c).__name__=["troshx","core","IBoutModel"],c.prototype={__class__:c},u=function(){},(i["troshx.core.IManuever"]=u).__name__=["troshx","core","IManuever"],y=function(){},(i["troshx.core.IUid"]=y).__name__=["troshx","core","IUid"],y.prototype={__class__:y},(i["troshx.core.ManueverSpec"]=tt).__name__=["troshx","core","ManueverSpec"],tt.prototype={resetPlayer:function(){this.typePreference=0,this.usingLeftLimb=!1,this.activeItem=null,this.activeEnemyItem=null,this.activeEnemyZone=-1},resetAll:function(){this.typePreference=0,this.usingLeftLimb=!1,this.activeItem=null,this.activeEnemyItem=null,this.activeEnemyBody=null,this.activeEnemyZone=-1},setNewEnemy:function(t){this.activeEnemyZone=-1,this.activeEnemyBody=t,this.activeEnemyItem=null},__class__:tt},(i["troshx.core.ManueverStack"]=et).__name__=["troshx","core","ManueverStack"],et.prototype={reset:function(){this.stack.length=0},reverseOrder:function(){this.stack.reverse()},pushManuever:function(t){this.stack.push(t)},sortOnLowestToHighestReflex:function(){R.sort(this.stack,function(t,e){return t.reflexScore!=e.reflexScore?t.reflexScore>e.reflexScore?1:-1:0})},sortOnHighestToLowestReflex:function(t){R.sort(this.stack,function(t,e){return t.reflexScore!=e.reflexScore?t.reflexScore>e.reflexScore?-1:1:0})},__class__:et},f=function(){},(i["troshx.ds.IMatchArray"]=f).__name__=["troshx","ds","IMatchArray"],f.prototype={__class__:f},(i["troshx.ds.HashedArray"]=it).__name__=["troshx","ds","HashedArray"],it.__interfaces__=[f],it.prototype={filter:function(t){this.list=this.list.filter(t),this.rehash()},rehash:function(){for(var t={},e=0,i=this.list.length;e<i;){var s=e++,s=this.list[s];t[s.get_uid()]=s}this.hash=t},add:function(t){var e=t.get_uid();this.hashContains(t)?this.hash[e].updateAgainst(t):(this.hash[e]=t,this.list.push(t))},indexOf:function(t){for(var e=0,i=this.list.length;e<i;){var s=e++;if(this.list[s].get_uid()==t.get_uid())return s}return-1},delete:function(t){var e=t.get_uid();this.hashContains(t)?O.deleteField(this.hash,e):console.log("Warning: No item found to be removed for uid:"+t.get_uid());t=this.indexOf(t);0<=t?this.list.splice(t,1):console.log("Warning: No item found to be removed for array index:"+t)},contains:function(t){return this.hashContains(t)},containsId:function(t){return Object.prototype.hasOwnProperty.call(this.hash,t)},hashContains:function(t){var e=this.hash,t=t.get_uid();return Object.prototype.hasOwnProperty.call(e,t)},findById:function(t){return O.field(this.hash,t)},listContains:function(t){return 0<=this.indexOf(t)},__class__:it},(i["troshx.ds.IDMatchArray"]=st).__name__=["troshx","ds","IDMatchArray"],st.__interfaces__=[f],st.prototype={filter:function(t){this.list=this.list.filter(t)},add:function(t){t.get_uid();var e,i=this.getMatchingItem(t);null==i?this.list.push(t):(i.updateAgainst(t),t!=i&&0<=(e=this.list.indexOf(t))&&this.list.splice(e,1))},delete:function(t){t.get_uid();this.contains(t)||console.log("Warning: No item found to be removed for uid:"+t.get_uid());t=this.list.indexOf(t);0<=t?this.list.splice(t,1):console.log("Warning: No item found to be removed for array index:"+t)},contains:function(t){for(var e=0,i=this.list.length;e<i;){var s=e++;if(this.list[s].get_uid()==t.get_uid())return!0}return!1},splicedAgainst:function(t){for(var e=-1,i=null,s=0,n=this.list.length;s<n;){var a=s++,r=this.list[a];if(r.get_uid()==t.get_uid()){i=r,e=a;break}}return null!=i&&(i.spliceAgainst(t)<=0&&this.list.splice(e,1),!0)},getMatchingItem:function(t){for(var e=0,i=this.list.length;e<i;){var s=e++,s=this.list[s];if(s.get_uid()==t.get_uid())return s}return null},listContains:function(t){return 0<=this.list.indexOf(t)},get_length:function(){return this.list.length},__class__:st},m=function(){},(i["troshx.ds.IUpdateWith"]=m).__name__=["troshx","ds","IUpdateWith"],m.prototype={__class__:m},A=function(){},(i["troshx.ds.IValidable"]=A).__name__=["troshx","ds","IValidable"],A.prototype={__class__:A},T=function(t){this.value=t},(i["troshx.ds.ValueHolder"]=T).__name__=["troshx","ds","ValueHolder"],T.prototype={__class__:T},f=function(t){this.value=t},(i["troshx.ds.ValueHolder_Int"]=f).__name__=["troshx","ds","ValueHolder_Int"],f.prototype={__class__:f},(i["troshx.sos.core.BoonBane"]=nt).__name__=["troshx","sos","core","BoonBane"],nt.prototype={isAvailableCharacterCreation:function(){return this.costs!=nt.COSTLESS_ARRAY},get_uid:function(){return this.name},__class__:nt},(i["troshx.sos.core.Boon"]=at).__name__=["troshx","sos","core","Boon"],at.__super__=nt,at.prototype=t(nt.prototype,{getEmptyAssignInstance:function(t){return new ht},getAssign:function(t,e){e=this.getEmptyAssignInstance(e);return e.boon=this,e.rank=t,e},__class__:at}),(i["troshx.sos.bnb.Allies"]=rt).__name__=["troshx","sos","bnb","Allies"],rt.__super__=at,rt.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new lt},__class__:rt}),T=function(){},(i["troshx.sos.bnb.IBuildUIFields"]=T).__name__=["troshx","sos","bnb","IBuildUIFields"],(i["troshx.sos.core.BoonBaneAssign"]=ot).__name__=["troshx","sos","core","BoonBaneAssign"],ot.__interfaces__=[y],ot.prototype={freeze:function(){},unfreezeAll:function(){},dontCountCost:function(){return!!this._canceled||this._forcePermanent},cleanup:function(){},cleanupUIArrays:function(){},onFurtherAdded:function(t){},onRemoved:function(t){},onInited:function(t){},getQty:function(){return 1},getCost:function(t){return 0},getCosting:function(t,e){return t.costs[e-1]},isValid:function(){return!0},getBoonOrBane:function(){return null},getUIFields:function(){return null},get_uid:function(){return""},__class__:ot};var ht=function(){ot.call(this)};(i["troshx.sos.core.BoonAssign"]=ht).__name__=["troshx","sos","core","BoonAssign"],ht.__interfaces__=[m],ht.__super__=ot,ht.prototype=t(ot.prototype,{getMaxLength:function(t,e){return(this._remainingCached+e*t)/t|0},clampLength:function(t,e){return null==e&&(e=1),e<=t?t:e},bitmaskIndexCanBeToggledAtCost:function(t,e,i){t=0!=(e&1<<t),i=this._remainingCached>=i;return t||i},updateRemainingCache:function(t){this._remainingCached=t},get_uid:function(){return this.boon.name},getCost:function(t){return this.boon.costs[(t<2?1:t)-1]},getBaseCost:function(t){return this.boon.costs[(t<2?1:t)-1]},getBoonOrBane:function(){return this.boon},getUIFields:function(){return null},toString:function(){return"[BoonAssign: "+this.boon.name+"]"},updateAgainst:function(t){},spliceAgainst:function(t){return 0},__class__:ht});var lt=function(){this.__hasUIFields__=!0,this.majorPowerList=[],this.moderatePowerList=[],this.minorPowerList=[""],ht.call(this)};function ct(t,e){nt.call(this,t,e),this.isBane=!0}function Rt(){ct.call(this,"Bad Eyes",[4,6]),this.channels=1,this.flags=2}function ut(){}(i["troshx.sos.bnb.AlliesAssign"]=lt).__name__=["troshx","sos","bnb","AlliesAssign"],lt.__super__=ht,lt.prototype=t(ht.prototype,{getQty:function(){return this.minorPowerList.length+this.moderatePowerList.length+this.majorPowerList.length},getMaxLengthCost:function(t,e){return e*t},getCost:function(t){return this.getMaxLengthCost(1,this.minorPowerList.length)+this.getMaxLengthCost(5,this.moderatePowerList.length)+this.getMaxLengthCost(10,this.majorPowerList.length)},cleanupUIArrays:function(){var t=this.minorPowerList.length;this.minorPowerList=this.minorPowerList.slice(0,0|+(this._remainingCached+(1<=t?t:1))),this.moderatePowerList=this.moderatePowerList.slice(0,(this._remainingCached+5*this.moderatePowerList.length)/5|0),this.majorPowerList=this.majorPowerList.slice(0,(this._remainingCached+10*this.majorPowerList.length)/10|0)},getUIFields:function(){var t=this.minorPowerList.length;return[{prop:"minorPowerList",minLength:0,maxLength:0|+(this._remainingCached+(1<=t?t:1)),of:"String",defaultValue:"",type:"Array",label:"Minor Power List"},{prop:"moderatePowerList",minLength:0,maxLength:(this._remainingCached+5*this.moderatePowerList.length)/5|0,of:"String",defaultValue:"",type:"Array",label:"Moderate Power List"},{prop:"majorPowerList",minLength:0,maxLength:(this._remainingCached+10*this.majorPowerList.length)/10|0,of:"String",defaultValue:"",type:"Array",label:"Major Power List"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:lt}),(i["troshx.sos.core.Bane"]=ct).__name__=["troshx","sos","core","Bane"],ct.__super__=nt,ct.prototype=t(nt.prototype,{getEmptyAssignInstance:function(t){return new yt},getAssign:function(t,e){e=this.getEmptyAssignInstance(e);return e.bane=this,e.rank=t,e},__class__:ct}),(i["troshx.sos.bnb.BadEyes"]=Rt).__name__=["troshx","sos","bnb","BadEyes"],Rt.__super__=ct,Rt.prototype=t(ct.prototype,{__class__:Rt}),(i["troshx.sos.bnb.Banes"]=ut).__name__=["troshx","sos","bnb","Banes"],ut.getList=function(){return[new gt,new dt,new Rt,new pt,new Bt,new _t,new ft,new mt,new oe,new le,new vt,new bt,new ye,new pe,new fe,new St,new wt,new Se,new xt,new At,new Tt,new zt,new Ie,new Lt,new ke,new Be,new Mt,new We,new Ve,new It,new Ct,new qe,new Et,new Pt,new kt,new Ht]},ut.prototype={__class__:ut};var yt=function(){ot.call(this)};(i["troshx.sos.core.BaneAssign"]=yt).__name__=["troshx","sos","core","BaneAssign"],yt.__interfaces__=[m],yt.__super__=ot,yt.prototype=t(ot.prototype,{get_uid:function(){return this.bane.name},getCost:function(t){return this.bane.costs[(t<2?1:t)-1]},getBaseCost:function(t){return this.bane.costs[(t<2?1:t)-1]},getBoonOrBane:function(){return this.bane},getUIFields:function(){return null},toString:function(){return"[BaneAssign: "+this.bane.name+"]"},updateAgainst:function(t){},spliceAgainst:function(t){return 0},__class__:yt}),f=function(){this.__hasUIFields__=!0,this.notes="",yt.call(this)},(i["troshx.sos.bnb.BaneNotesAssign"]=f).__name__=["troshx","sos","bnb","BaneNotesAssign"],f.__super__=yt,f.prototype=t(yt.prototype,{getUIFields:function(){return[{prop:"notes",type:"textarea",label:"Notes"}]},__class__:f});var gt=function(){ct.call(this,"Arrow Magnet",[3])};(i["troshx.sos.bnb.ArrowMagnet"]=gt).__name__=["troshx","sos","bnb","ArrowMagnet"],gt.__super__=ct,gt.prototype=t(ct.prototype,{__class__:gt});var dt=function(){ct.call(this,"Bad Ears",[2,4]),this.channels=2,this.flags=2};(i["troshx.sos.bnb.BadEars"]=dt).__name__=["troshx","sos","bnb","BadEars"],dt.__super__=ct,dt.prototype=t(ct.prototype,{__class__:dt});var pt=function(){ct.call(this,"Bad Reputation",[3,6,9])};(i["troshx.sos.bnb.BadReputation"]=pt).__name__=["troshx","sos","bnb","BadReputation"],pt.__super__=ct,pt.prototype=t(ct.prototype,{__class__:pt});var _t=function(){ct.call(this,"Bigoted",[5])};(i["troshx.sos.bnb.Bigoted"]=_t).__name__=["troshx","sos","bnb","Bigoted"],_t.__super__=ct,_t.prototype=t(ct.prototype,{__class__:_t});var ft=function(){ct.call(this,"Blind",[20]),this.flags=2,this.superChannels=65};(i["troshx.sos.bnb.Blind"]=ft).__name__=["troshx","sos","bnb","Blind"],ft.__super__=ct,ft.prototype=t(ct.prototype,{__class__:ft});var mt=function(){ct.call(this,"Braggart",[3])};(i["troshx.sos.bnb.Braggart"]=mt).__name__=["troshx","sos","bnb","Braggart"],mt.__super__=ct,mt.prototype=t(ct.prototype,{__class__:mt});var vt=function(){ct.call(this,"Complete Monster",[10]),this.channels=256};(i["troshx.sos.bnb.CompleteMonster"]=vt).__name__=["troshx","sos","bnb","CompleteMonster"],vt.__super__=ct,vt.prototype=t(ct.prototype,{__class__:vt});var bt=function(){ct.call(this,"Craven",[4,8]),this.channels=128};(i["troshx.sos.bnb.Craven"]=bt).__name__=["troshx","sos","bnb","Craven"],bt.__super__=ct,bt.prototype=t(ct.prototype,{__class__:bt});var St=function(){ct.call(this,"Enemies",[3,10,15])};(i["troshx.sos.bnb.Enemies"]=St).__name__=["troshx","sos","bnb","Enemies"],St.__super__=ct,St.prototype=t(ct.prototype,{__class__:St});var wt=function(){ct.call(this,"Facial Deformity",[2,4,8]),this.flags=2};(i["troshx.sos.bnb.FacialDeformity"]=wt).__name__=["troshx","sos","bnb","FacialDeformity"],wt.__super__=ct,wt.prototype=t(ct.prototype,{__class__:wt});var xt=function(){ct.call(this,"Frail",[8]),this.channels=32,this.staticModifiers=[_i.create(12,"Frail",-1)]};(i["troshx.sos.bnb.Frail"]=xt).__name__=["troshx","sos","bnb","Frail"],xt.__super__=ct,xt.prototype=t(ct.prototype,{__class__:xt});var At=function(){ct.call(this,"Haemophilia",[8]),this.flags=2};(i["troshx.sos.bnb.Haemophilia"]=At).__name__=["troshx","sos","bnb","Haemophilia"],At.__super__=ct,At.prototype=t(ct.prototype,{__class__:At});var zt=function(){ct.call(this,"Hothead",[3])};(i["troshx.sos.bnb.Hothead"]=zt).__name__=["troshx","sos","bnb","Hothead"],zt.__super__=ct,zt.prototype=t(ct.prototype,{__class__:zt});var Tt=function(){ct.call(this,"Honorable",[5]),this.channels=256};(i["troshx.sos.bnb.Honorable"]=Tt).__name__=["troshx","sos","bnb","Honorable"],Tt.__super__=ct,Tt.prototype=t(ct.prototype,{__class__:Tt});var Lt=function(){ct.call(this,"Mute",[5,8]),this.flags=2};(i["troshx.sos.bnb.Mute"]=Lt).__name__=["troshx","sos","bnb","Mute"],Lt.__super__=ct,Lt.prototype=t(ct.prototype,{__class__:Lt});var Mt=function(){ct.call(this,"One-Eyed",[10]),this.flags=2,this.channels=64;var t=_i.create(13,"One-Eyed",-1);t.next=_i.create(15,"One-Eyed",-2),this.staticModifiers=[t]};(i["troshx.sos.bnb.OneEyed"]=Mt).__name__=["troshx","sos","bnb","OneEyed"],Mt.__super__=ct,Mt.prototype=t(ct.prototype,{__class__:Mt});var It=function(){ct.call(this,"Sheltered",[2,4,6]),this.flags=1,this.channels=16,this.staticModifiers=[_i.create(20,"Sheltered (i)",-1),_i.create(20,"Sheltered (ii)",-2),_i.create(20,"Sheltered (iii)",-3)]};(i["troshx.sos.bnb.Sheltered"]=It).__name__=["troshx","sos","bnb","Sheltered"],It.__super__=ct,It.prototype=t(ct.prototype,{__class__:It});var Ct=function(){ct.call(this,"Short",[8,15]),this.channels=512;var t=_i.create(14,"Short (i)",-1);t.next=_i.create(9,"Short (i)",-1);var e=_i.create(14,"Short (ii)",-2);e.next=_i.create(9,"Short (ii)",-2),this.staticModifiers=[t,e]};(i["troshx.sos.bnb.Short"]=Ct).__name__=["troshx","sos","bnb","Short"],Ct.__super__=ct,Ct.prototype=t(ct.prototype,{__class__:Ct});var Et=function(){ct.call(this,"Technologically Impaired",[5])};(i["troshx.sos.bnb.TechnologicallyImpaired"]=Et).__name__=["troshx","sos","bnb","TechnologicallyImpaired"],Et.__super__=ct,Et.prototype=t(ct.prototype,{__class__:Et});var Pt=function(){ct.call(this,"Unhappily Married",[1,2,3])};(i["troshx.sos.bnb.UnhappilyMarried"]=Pt).__name__=["troshx","sos","bnb","UnhappilyMarried"],Pt.__super__=ct,Pt.prototype=t(ct.prototype,{__class__:Pt});var kt=function(){ct.call(this,"Virtuous",[5])};(i["troshx.sos.bnb.Virtuous"]=kt).__name__=["troshx","sos","bnb","Virtuous"],kt.__super__=ct,kt.prototype=t(ct.prototype,{__class__:kt});var Ht=function(){ct.call(this,"Wanted",[5,10,15])};(i["troshx.sos.bnb.Wanted"]=Ht).__name__=["troshx","sos","bnb","Wanted"],Ht.__super__=ct,Ht.prototype=t(ct.prototype,{__class__:Ht});var Bt=function(){ct.call(this,"Barren/Sterility",[1,3]),this.flags=2,this.conditions=[null,new Nt]};function Dt(){}(i["troshx.sos.bnb.BarrenOrSterility"]=Bt).__name__=["troshx","sos","bnb","BarrenOrSterility"],Bt.__super__=ct,Bt.prototype=t(ct.prototype,{__class__:Bt}),(i["troshx.sos.core.BoonBaneCondition"]=Dt).__name__=["troshx","sos","core","BoonBaneCondition"],Dt.prototype={valid:function(t){return!0},__class__:Dt};var Nt=function(){Dt.call(this)};function Ot(){}(i["troshx.sos.bnb.EunuchCondition"]=Nt).__name__=["troshx","sos","bnb","EunuchCondition"],Nt.__super__=Dt,Nt.prototype=t(Dt.prototype,{valid:function(t){return 0==t.gender},__class__:Nt}),(i["troshx.sos.bnb.Boons"]=Ot).__name__=["troshx","sos","bnb","Boons"],Ot.getList=function(){return[new rt,new Ft,new Wt,new Gt,new Vt,new Ut,new qt,new Zt,new Yt,new ve,new jt,new we,new Kt,new Ae,new Xt,new Qt,new $t,new Jt,new ze,new te,new Le,new Ee,new ee,new ie,new ae,new re,new se,new ne]},Ot.prototype={__class__:Ot},T=function(){this.notes="",ht.call(this)},(i["troshx.sos.bnb.BoonNotesAssign"]=T).__name__=["troshx","sos","bnb","BoonNotesAssign"],T.__super__=ht,T.prototype=t(ht.prototype,{getUIFields:function(){return[]},__class__:T});var Ft=function(){at.call(this,"Ambidextrous",[3]),this.flags=1};(i["troshx.sos.bnb.Ambidextrous"]=Ft).__name__=["troshx","sos","bnb","Ambidextrous"],Ft.__super__=at,Ft.prototype=t(at.prototype,{__class__:Ft});var Wt=function(){at.call(this,"Animal Affinity",[2,4,6])};(i["troshx.sos.bnb.AnimalAffinity"]=Wt).__name__=["troshx","sos","bnb","AnimalAffinity"],Wt.__super__=at,Wt.prototype=t(at.prototype,{__class__:Wt});var Gt=function(){at.call(this,"Beautiful",[3,6])};(i["troshx.sos.bnb.Beautiful"]=Gt).__name__=["troshx","sos","bnb","Beautiful"],Gt.__super__=at,Gt.prototype=t(at.prototype,{__class__:Gt});var Vt=function(){at.call(this,"Berserker",[8,12]);var t=_i.create(13,"Berserker",4);this.staticModifiers=[t,t]};(i["troshx.sos.bnb.Berserker"]=Vt).__name__=["troshx","sos","bnb","Berserker"],Vt.__super__=at,Vt.prototype=t(at.prototype,{__class__:Vt});var Ut=function(){at.call(this,"Bloodthirsty",[4])};(i["troshx.sos.bnb.Bloodthirsty"]=Ut).__name__=["troshx","sos","bnb","Bloodthirsty"],Ut.__super__=at,Ut.prototype=t(at.prototype,{__class__:Ut});var qt=function(){at.call(this,"Brave",[3])};(i["troshx.sos.bnb.Brave"]=qt).__name__=["troshx","sos","bnb","Brave"],qt.__super__=at,qt.prototype=t(at.prototype,{__class__:qt});var Zt=function(){at.call(this,"Contacts",[1,4,6,8])};(i["troshx.sos.bnb.Contacts"]=Zt).__name__=["troshx","sos","bnb","Contacts"],Zt.__super__=at,Zt.prototype=t(at.prototype,{__class__:Zt});var Yt=function(){at.call(this,"Direction Sense",[3])};(i["troshx.sos.bnb.DirectionSense"]=Yt).__name__=["troshx","sos","bnb","DirectionSense"],Yt.__super__=at,Yt.prototype=t(at.prototype,{__class__:Yt});var jt=function(){at.call(this,"Famous",[2,4])};(i["troshx.sos.bnb.Famous"]=jt).__name__=["troshx","sos","bnb","Famous"],jt.__super__=at,jt.prototype=t(at.prototype,{__class__:jt});var Kt=function(){at.call(this,"Folks Back Home",[3,6,8])};(i["troshx.sos.bnb.FolksBackHome"]=Kt).__name__=["troshx","sos","bnb","FolksBackHome"],Kt.__super__=at,Kt.prototype=t(at.prototype,{__class__:Kt});var Xt=function(){at.call(this,"Good Ears",[3]),this.channels=2};(i["troshx.sos.bnb.GoodEars"]=Xt).__name__=["troshx","sos","bnb","GoodEars"],Xt.__super__=at,Xt.prototype=t(at.prototype,{__class__:Xt});var Qt=function(){at.call(this,"Good Eyes",[3]),this.channels=1};(i["troshx.sos.bnb.GoodEyes"]=Qt).__name__=["troshx","sos","bnb","GoodEyes"],Qt.__super__=at,Qt.prototype=t(at.prototype,{__class__:Qt});var $t=function(){at.call(this,"Good Nose",[3]),this.channels=4};(i["troshx.sos.bnb.GoodNose"]=$t).__name__=["troshx","sos","bnb","GoodNose"],$t.__super__=at,$t.prototype=t(at.prototype,{__class__:$t});var Jt=function(){at.call(this,"Hale and Hearty",[2,4])};(i["troshx.sos.bnb.HaleAndHearty"]=Jt).__name__=["troshx","sos","bnb","HaleAndHearty"],Jt.__super__=at,Jt.prototype=t(at.prototype,{__class__:Jt});var te=function(){at.call(this,"Known for Virtue",[5])};(i["troshx.sos.bnb.KnownForVirtue"]=te).__name__=["troshx","sos","bnb","KnownForVirtue"],te.__super__=at,te.prototype=t(at.prototype,{__class__:te});var ee=function(){at.call(this,"Natural Born Killer",[6,12,18]),this.staticModifiers=[_i.create(13,"Natural Born Killer (i)",1),_i.create(13,"Natural Born Killer (ii)",2),_i.create(13,"Natural Born Killer (iii)",3)]};(i["troshx.sos.bnb.NaturalBornKiller"]=ee).__name__=["troshx","sos","bnb","NaturalBornKiller"],ee.__super__=at,ee.prototype=t(at.prototype,{__class__:ee});var ie=function(){at.call(this,"Natural Leader",[3])};(i["troshx.sos.bnb.NaturalLeader"]=ie).__name__=["troshx","sos","bnb","NaturalLeader"],ie.__super__=at,ie.prototype=t(at.prototype,{__class__:ie});var se=function(){at.call(this,"Tall",[8,12]),this.flags=1,this.channels=512,this.staticModifiers=[null,_i.create(14,"Tall",1)]};(i["troshx.sos.bnb.Tall"]=se).__name__=["troshx","sos","bnb","Tall"],se.__super__=at,se.prototype=t(at.prototype,{__class__:se});var ne=function(){at.call(this,"True Grit",[2,4,6]),this.flags=1,this.channels=16,this.staticModifiers=[_i.create(20,"True Grit (i)",1),_i.create(20,"True Grit (ii)",2),_i.create(20,"True Grit (iii)",3)]};(i["troshx.sos.bnb.TrueGrit"]=ne).__name__=["troshx","sos","bnb","TrueGrit"],ne.__super__=at,ne.prototype=t(at.prototype,{__class__:ne});var ae=function(){at.call(this,"Rich",[1,3,5]),this.channels=8,this.flags=1,this.staticModifiers=[_i.create(19,"Rich (i)",0,1.1),_i.create(19,"Rich (ii)",0,1.5),_i.create(19,"Rich (iii)",0,2)]};(i["troshx.sos.bnb.Rich"]=ae).__name__=["troshx","sos","bnb","Rich"],ae.__super__=at,ae.prototype=t(at.prototype,{__class__:ae});var re=function(){at.call(this,"Robust",[8]),this.channels=32,this.staticModifiers=[_i.create(12,"Robust",1)]};(i["troshx.sos.bnb.Robust"]=re).__name__=["troshx","sos","bnb","Robust"],re.__super__=at,re.prototype=t(at.prototype,{__class__:re});var oe=function(){ct.call(this,"Brain Damage",[4,8]),this.flags=2,this.multipleTimes=-2,this.clampRank=!0};(i["troshx.sos.bnb.BrainDamage"]=oe).__name__=["troshx","sos","bnb","BrainDamage"],oe.__super__=ct,oe.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new he(t)},__class__:oe});var he=function(t){this.__hasUIFields__=!0,this.intModifier=_i.create(6,"Brain Damage",0),this.count2=0,this.count1=0,yt.call(this),this.char=t,this.oldWound=(new Be).getAssign(0,t),this.mute=(new Lt).getAssign(0,t),this.lastingPain=(new Ie).getAssign(0,t),this.badEyes=(new Rt).getAssign(0,t),this.badEars=(new dt).getAssign(0,t),this.blind=(new ft).getAssign(0,t),this.oneEyed=(new Mt).getAssign(0,t)};(i["troshx.sos.bnb.BrainDamageAssign"]=he).__name__=["troshx","sos","bnb","BrainDamageAssign"],he.__super__=yt,he.prototype=t(yt.prototype,{callbackUITrigger:function(t,e){return this.execute("count1"==e?0:1),this.baneQueue},gainBane:function(t,e){e=t.bane.clampRank?1:e;t.rank>=e&&(e=t.rank),t.rank=e,t._minRequired=e,t.discount=t._costCached=t.getCost(e),this.baneQueue.push(t)},execute:function(t){var e;if(this._minRequired=1,e=0==t?(this.count1++,0):(this.count2++,2),this.char.ingame&&(this.intModifier.add-=1+(Math.random()*(0==t?2:5)|0),0!=this.intModifier.add&&!this.char.hasStaticModifier(this.intModifier))){var i=this.char,s=this.intModifier;if(null!=s){var n=i.staticModifierTable[s.index];n.push(s);for(var a=s.next;null!=a;)(n=i.staticModifierTable[a.index]).push(a),a=a.next}}var t=this.char.banes,s=this.oldWound.get_uid(),r=O.field(t.hash,s),t=this.char.banes,s=this.lastingPain.get_uid(),o=O.field(t.hash,s);r==this.oldWound&&(r=null),o==this.lastingPain&&(o=null),this.baneQueue=[];var h=(10*Math.random()|0)+e+1;switch(h){case 1:case 2:case 3:break;case 4:0==this.blind.rank&&this.gainBane(this.badEyes,1);break;case 5:this.gainBane(this.badEars,2);break;case 6:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.badEars,1);break;case 7:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.badEars,2);break;case 8:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),0==this.blind.rank&&this.gainBane(this.oneEyed,1);break;case 9:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.mute,1);break;case 10:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.lastingPain.inflictRandomMinor(),1),null!=o&&this.lastingPain.mergeWith(o);break;case 11:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.lastingPain.inflictRandomMinor(),1),null!=o&&this.lastingPain.mergeWith(o),this.char.ingame&&(this.char.intelligence-=2);break;case 12:this.gainBane(this.oldWound.inflictRandom(),1),null!=r&&this.oldWound.mergeWith(r),this.gainBane(this.lastingPain.inflictRandomMajor(),2),null!=o&&this.lastingPain.mergeWith(o),this.gainBane(this.blind,1);break;default:console.log("Warning, unforeseen roll index number detected: "+h)}},getCost:function(t){return 4*this.count1+8*this.count2},getUIFields:function(){return[{prop:"count1",label:"Trigger Brain Damage (4)",type:"ButtonCounter",callback:gn(this,this.callbackUITrigger),preventDefault:!0},{prop:"count2",label:"Trigger Brain Damage (8)",type:"ButtonCounter",callback:gn(this,this.callbackUITrigger),preventDefault:!0}]},__class__:he});var le=function(){ct.call(this,"Broken Limb",nt.COSTLESS_ARRAY),this.flags=2,this.multipleTimes=-2};(i["troshx.sos.bnb.BrokenLimb"]=le).__name__=["troshx","sos","bnb","BrokenLimb"],le.__super__=ct,le.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new ce},__class__:le});var ce=function(){this.__hasUIFields__=!0,this.affectedLimbs=0,yt.call(this);var t=new ue(this);this.situationalModifiers=[t]};function Re(t,e){this.index=t,this.name=e}(i["troshx.sos.bnb.BrokenLimbAssign"]=ce).__name__=["troshx","sos","bnb","BrokenLimbAssign"],ce.__super__=yt,ce.prototype=t(yt.prototype,{isValid:function(){return 0<this.affectedLimbs},getCost:function(t){return this.getQty()*yt.prototype.getCost.call(this,t)},getQty:function(){var t=0;return t+=0!=(1&this.affectedLimbs)?1:0,t+=0!=(2&this.affectedLimbs)?1:0,t+=0!=(4&this.affectedLimbs)?1:0,t+=0!=(8&this.affectedLimbs)?1:0},getUIFields:function(){return[{prop:"affectedLimbs",type:"Bitmask",labels:["Left Arm","Right Arm","Left Leg","Right Leg"],label:"Affected Limbs"}]},__class__:ce}),(i["troshx.sos.core.SituationalCharModifier"]=Re).__name__=["troshx","sos","core","SituationalCharModifier"],Re.prototype={get_name:function(){return this.name},_setIndex:function(t){this.index=t},getModifiedValueMultiply:function(t,e,i){return i},getModifiedValueAdd:function(t,e,i){return i},__class__:Re};var ue=function(t){Re.call(this,9,"Broken Limb"),this.current=t};(i["troshx.sos.bnb.BrokenLimbMOBModifier"]=ue).__name__=["troshx","sos","bnb","BrokenLimbMOBModifier"],ue.__super__=Re,ue.prototype=t(Re.prototype,{getModifiedValueMultiply:function(t,e,i){if(0==(12&this.current.affectedLimbs))return i;var s=t.inventory.wornArmor;t.leftHanded;0!=(4&this.current.affectedLimbs)&&t.leftHanded,0!=(8&this.current.affectedLimbs)&&t.leftHanded;for(var n=0,a=s.length;n<a;)s[n++];return i<1?i:1},__class__:ue});var ye=function(){ct.call(this,"Crippled Limb/Appendage",[8]),this.flags=2,this.multipleTimes=-2};(i["troshx.sos.bnb.CrippledLimb"]=ye).__name__=["troshx","sos","bnb","CrippledLimb"],ye.__super__=ct,ye.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new ge},__class__:ye});var ge=function(){this.__hasUIFields__=!0,this.affectedLimbs=0,yt.call(this);var t=new de(this);this.situationalModifiers=[t]};(i["troshx.sos.bnb.CrippledLimbAssign"]=ge).__name__=["troshx","sos","bnb","CrippledLimbAssign"],ge.__super__=yt,ge.prototype=t(yt.prototype,{isValid:function(){return 0<this.getQty()},getCost:function(t){return this.getQty()*yt.prototype.getCost.call(this,t)},getQty:function(){var t=0;return t+=0!=(1&this.affectedLimbs)?1:0,t+=0!=(2&this.affectedLimbs)?1:0,t+=0!=(4&this.affectedLimbs)?1:0,t+=0!=(8&this.affectedLimbs)?1:0},getUIFields:function(){return[{prop:"affectedLimbs",type:"Bitmask",labels:["Left Arm","Right Arm","Left Leg","Right Leg"],label:"Affected Limbs"}]},__class__:ge});var de=function(t){Re.call(this,9,"Crippled Limb/Appendage"),this.current=t};(i["troshx.sos.bnb.CrippedLimbMOBModifier"]=de).__name__=["troshx","sos","bnb","CrippedLimbMOBModifier"],de.__super__=Re,de.prototype=t(Re.prototype,{getModifiedValueMultiply:function(t,e,i){if(0==(12&this.current.affectedLimbs))return i;var s=12==this.current.affectedLimbs?.25:.5;return e*s<i?e*s:i},__class__:de});var pe=function(){ct.call(this,"Debt",[2,4,8])};(i["troshx.sos.bnb.Debt"]=pe).__name__=["troshx","sos","bnb","Debt"],pe.__super__=ct,pe.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new _e},__class__:pe});var _e=function(){this.__hasUIFields__=!0,this.currentOwed=new li,yt.call(this)};(i["troshx.sos.bnb.DebtAssign"]=_e).__name__=["troshx","sos","bnb","DebtAssign"],_e.__super__=yt,_e.prototype=t(yt.prototype,{getUIFields:function(){return[{prop:"currentOwed",type:"Money",label:"Current Owed"}]},__class__:_e});var fe=function(){ct.call(this,"Dire Past",[0]),this.flags=3};(i["troshx.sos.bnb.DirePast"]=fe).__name__=["troshx","sos","bnb","DirePast"],fe.__super__=ct,fe.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new me(t)},__class__:fe});var me=function(t){this.__hasUIFields__=!0,this.notes="",yt.call(this),this.char=t,this.uiActivated=this.char.direPast};(i["troshx.sos.bnb.DirePastAssign"]=me).__name__=["troshx","sos","bnb","DirePastAssign"],me.__super__=yt,me.prototype=t(yt.prototype,{execute:function(){if(!this.char.direPast){this._forcePermanent=!0,this.char.direPast=!0;for(var t=this.char.banes.list,e=0,i=t.length;e<i;){var s=t[e++];s._minRequired=s.rank,s.discount=s._costCached=s.getCost(s.rank),s.freeze()}}},getUIFields:function(){return[{prop:"notes",type:"textarea",label:"Notes"},{prop:"uiActivated",type:"ButtonPermaPress",label:"Trigger",descriptionDone:"Done!",description:"Warning: For GM use only. Once you trigger Dire Past, all existing banes (assigned by GM based on your given 'story') are baked permanently at their current levels and can no longer be canceled/reduced during character creation! However, you will gain 10 free points to spend on Boons.",callback:gn(this,this.execute)}]},__class__:me});var ve=function(){at.call(this,"Estate",[10]),this.flags=1,this.multipleTimes=-2};(i["troshx.sos.bnb.Estate"]=ve).__name__=["troshx","sos","bnb","Estate"],ve.__super__=at,ve.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new be(t)},__class__:ve});var be=function(t){this.__hasUIFields__=!0,this.notes="",this.estates=[be.getEmptyWealthAssign()],ht.call(this),this.char=t};(i["troshx.sos.bnb.EstateAssign"]=be).__name__=["troshx","sos","bnb","EstateAssign"],be.getEmptyWealthAssign=function(){return{name:"",liquidate:!1,uid:be.COUNT++,worth:2}},be.__super__=ht,be.prototype=t(ht.prototype,{getQty:function(){return this.estates.length},getCost:function(t){return 10*this.estates.length},cleanupUIArrays:function(){this.estates=this.estates.slice(0,(this._remainingCached+10*this.estates.length)/10|0)},getUIFields:function(){return[{prop:"estates",label:"Estates",defaultValue:be.getEmptyWealthAssign,fixedWorth:!0,disableLiquidity:!this.char.ingame,minLength:1,maxLength:(this._remainingCached+10*this.estates.length)/10|0,of:"WealthAssetAssign",type:"Array"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:be});var Se=function(){ct.call(this,"Fat",[5]);var t=e=_i.create(9,"Fat",-2),e=e.next=_i.create(17,"Fat",-2);this.staticModifiers=[t]};(i["troshx.sos.bnb.Fat"]=Se).__name__=["troshx","sos","bnb","Fat"],Se.__super__=ct,Se.prototype=t(ct.prototype,{__class__:Se});var we=function(){at.call(this,"Favor",[1,3]),this.clampRank=!0,this.multipleTimes=-2};(i["troshx.sos.bnb.Favor"]=we).__name__=["troshx","sos","bnb","Favor"],we.__super__=at,we.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new xe},__class__:we});var xe=function(){this.__hasUIFields__=!0,this.notes="",this.greaterFavors=[],this.simpleFavors=[""],ht.call(this)};(i["troshx.sos.bnb.FavorAssign"]=xe).__name__=["troshx","sos","bnb","FavorAssign"],xe.__super__=ht,xe.prototype=t(ht.prototype,{isValid:function(){return 1<=this.getQty()},getQty:function(){return this.simpleFavors.length+this.greaterFavors.length},getCost:function(t){return this.simpleFavors.length+3*this.greaterFavors.length},cleanupUIArrays:function(){var t=this.simpleFavors.length;this.simpleFavors=this.simpleFavors.slice(0,0|+(this._remainingCached+(1<=t?t:1))),this.greaterFavors=this.greaterFavors.slice(0,(this._remainingCached+3*this.greaterFavors.length)/3|0)},getUIFields:function(){var t=this.simpleFavors.length;return[{prop:"simpleFavors",minLength:0,maxLength:0|+(this._remainingCached+(1<=t?t:1)),of:"String",defaultValue:"",type:"Array",label:"Simple Favors"},{prop:"greaterFavors",minLength:0,maxLength:(this._remainingCached+3*this.greaterFavors.length)/3|0,of:"String",defaultValue:"",type:"Array",label:"Greater Favors"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:xe});var Ae=function(){at.call(this,"Follower",[5])};(i["troshx.sos.bnb.Follower"]=Ae).__name__=["troshx","sos","bnb","Follower"],Ae.__super__=at,Ae.prototype=t(at.prototype,{__class__:Ae});var ze=function(){at.call(this,"Impressive Voice",[2]),this.multipleTimes=3};(i["troshx.sos.bnb.ImpressiveVoice"]=ze).__name__=["troshx","sos","bnb","ImpressiveVoice"],ze.__super__=at,ze.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new Te},__class__:ze});var Te=function(){this.__hasUIFields__=!0,this.voiceQualities=0,ht.call(this)};(i["troshx.sos.bnb.ImpressiveVoiceAssign"]=Te).__name__=["troshx","sos","bnb","ImpressiveVoiceAssign"],Te.__super__=ht,Te.prototype=t(ht.prototype,{isValid:function(){return 0!=(7&this.voiceQualities)},canBeToggled:function(t){var e=0!=(this.voiceQualities&1<<t),t=2<=this._remainingCached;return e||t},getQty:function(){var t=0;return t+=0!=(1&this.voiceQualities)?1:0,t+=0!=(2&this.voiceQualities)?1:0,t+=0!=(4&this.voiceQualities)?1:0},getCost:function(t){return 2*this.getQty()},getUIFields:function(){return[{prop:"voiceQualities",type:"Bitmask",labels:["Powerful","Grating","Soothing"],validateOptionFunc:gn(this,this.canBeToggled),label:"Voice Qualities"}]},__class__:Te});var Le=function(){at.call(this,"Language",[1,2,3]),this.customCostInnerSlashes="|/",this.multipleTimes=-2};(i["troshx.sos.bnb.Language"]=Le).__name__=["troshx","sos","bnb","Language"],Le.__super__=at,Le.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new Me(t)},__class__:Le});var Me=function(t){this.__hasUIFields__=!0,this.notes="",this.ingameLanguages=[],this.polyglotLanguages=[],this.secondLanguage=[],this.startingLanguages=[""],ht.call(this),this.char=t};(i["troshx.sos.bnb.LanguageAssign"]=Me).__name__=["troshx","sos","bnb","LanguageAssign"],Me.__super__=ht,Me.prototype=t(ht.prototype,{getQty:function(){return this.startingLanguages.length+this.secondLanguage.length+this.polyglotLanguages.length+this.ingameLanguages.length},getRankCost:function(t){return 1<t?3==t?3:2:1},getCost:function(t){return(1<this.startingLanguages.length?this.startingLanguages.length-1:0)+(1<t?3==t?3:2:1)},cleanupUIArrays:function(){this.startingLanguages=this.startingLanguages.slice(0,0|+(this._remainingCached+this.startingLanguages.length)),this.secondLanguage=this.secondLanguage.slice(0,2==this.rank?1:0),this.polyglotLanguages=this.polyglotLanguages.slice(0,3<=this.rank?this.char.get_INT()+2:0),this.ingameLanguages=this.ingameLanguages.slice(0,this.char.ingame?null:0)},getUIFields:function(){return[{prop:"startingLanguages",minLength:2<=this.rank?0:1,label:"Starting Languages #1",maxLength:0|+(this._remainingCached+this.startingLanguages.length),of:"String",defaultValue:"",type:"Array"},{prop:"secondLanguage",label:"2nd Starting Language #2",maxLength:2==this.rank?1:0,of:"String",defaultValue:"",type:"Array"},{prop:"polyglotLanguages",label:"Starting Polyglot Languages #3",maxLength:3<=this.rank?this.char.get_INT()+2:0,of:"String",defaultValue:"",type:"Array"},{prop:"ingameLanguages",maxLength:this.char.ingame?null:0,of:"String",defaultValue:"",type:"Array",label:"Ingame Languages"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:Me});var Ie=function(){ct.call(this,"Lasting Pain",[4,8]),this.flags=2,this.multipleTimes=-2,this.clampRank=!0};(i["troshx.sos.bnb.LastingPain"]=Ie).__name__=["troshx","sos","bnb","LastingPain"],Ie.__super__=ct,Ie.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new Ce(t)},__class__:Ie});var Ce=function(t){this.__hasUIFields__=!0,this.permaMask2=0,this.permaMask=0,this.hitLocationsMajor=0,this.hitLocationsMinor=0,yt.call(this),this.char=t};(i["troshx.sos.bnb.LastingPainAssign"]=Ce).__name__=["troshx","sos","bnb","LastingPainAssign"],Ce.__super__=yt,Ce.prototype=t(yt.prototype,{isValidUILocation:function(t){return 0==(1<<t&this.permaMask)},isValidUILocation2:function(t){return 0==(1<<t&this.permaMask2)},getCost:function(t){return 4*this.minorCount()+8*this.majorCount()},mergeWith:function(t){this.hitLocationsMajor|=t.hitLocationsMajor,this.hitLocationsMinor|=t.hitLocationsMinor;for(var e=this.permaMask,i=this.char.body.hitLocations.length,s=0;-1<--i;)0!=(1<<i&e)&&++s;for(var t=4*s,n=this.permaMask2,a=this.char.body.hitLocations.length,r=0;-1<--a;)0!=(1<<a&n)&&++r;this.discount=t+8*r},freeze:function(){this.permaMask|=this.hitLocationsMinor,this.permaMask2|=this.hitLocationsMajor},unfreezeAll:function(){this.permaMask=0,this.permaMask2=0},inflictRandomMinor:function(){for(var t=this.char.body.hitLocations.length,e=[];-1<--t;)0==(1<<t&this.hitLocationsMinor)&&e.push(1<<t);return 0<e.length&&(t=e[Math.random()*e.length|0],this.hitLocationsMinor|=t,this.permaMask|=t),this},inflictRandomMajor:function(){for(var t=this.char.body.hitLocations.length,e=[];-1<--t;)0==(1<<t&this.hitLocationsMajor)&&e.push(1<<t);return 0<e.length&&(t=e[Math.random()*e.length|0],this.hitLocationsMajor|=t,this.permaMask2|=t),this},minorCount:function(){for(var t=this.hitLocationsMinor,e=this.char.body.hitLocations.length,i=0;-1<--e;)0!=(1<<e&t)&&++i;return i},majorCount:function(){for(var t=this.hitLocationsMajor,e=this.char.body.hitLocations.length,i=0;-1<--e;)0!=(1<<e&t)&&++i;return i},countMask:function(t){for(var e=this.char.body.hitLocations.length,i=0;-1<--e;)0!=(1<<e&t)&&++i;return i},getQty:function(){return this.minorCount()+this.majorCount()},isValid:function(){return 0!=this.hitLocationsMajor||0!=this.hitLocationsMinor},getUIFields:function(){return[{prop:"hitLocationsMinor",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:gn(this,this.isValidUILocation),label:"Hit Locations Minor"},{prop:"hitLocationsMajor",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:gn(this,this.isValidUILocation2),label:"Hit Locations Major"}]},__class__:Ce});var Ee=function(){at.call(this,"Literate",[1]),this.multipleTimes=-2};(i["troshx.sos.bnb.Literate"]=Ee).__name__=["troshx","sos","bnb","Literate"],Ee.__super__=at,Ee.prototype=t(at.prototype,{getEmptyAssignInstance:function(t){return new Pe},__class__:Ee});var Pe=function(){this.__hasUIFields__=!0,this.notes="",this.scripts=[""],ht.call(this)};(i["troshx.sos.bnb.LiterateAssign"]=Pe).__name__=["troshx","sos","bnb","LiterateAssign"],Pe.__super__=ht,Pe.prototype=t(ht.prototype,{getQty:function(){return this.scripts.length},getCost:function(t){return this.boon.costs[0]*this.scripts.length},cleanupUIArrays:function(){var t=this.scripts.length;this.scripts=this.scripts.slice(0,0|+(this._remainingCached+(1<=t?t:1)))},getUIFields:function(){var t=this.scripts.length;return[{prop:"scripts",label:"Known scripts",minLength:1,maxLength:0|+(this._remainingCached+(1<=t?t:1)),of:"String",defaultValue:"",type:"Array"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:Pe});var ke=function(){ct.call(this,"Oath",[2])};(i["troshx.sos.bnb.Oath"]=ke).__name__=["troshx","sos","bnb","Oath"],ke.__super__=ct,ke.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new He},__class__:ke});var He=function(){this.__hasUIFields__=!0,this.notes="",this.cost=2,yt.call(this)};(i["troshx.sos.bnb.OathAssign"]=He).__name__=["troshx","sos","bnb","OathAssign"],He.__super__=yt,He.prototype=t(yt.prototype,{getCost:function(t){return this.cost},getUIFields:function(){return[{prop:"cost",min:2,max:10,type:"Int",label:"Cost"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:He});var Be=function(){ct.call(this,"Old Wound",[1]),this.flags=2,this.multipleTimes=-2};(i["troshx.sos.bnb.OldWound"]=Be).__name__=["troshx","sos","bnb","OldWound"],Be.__super__=ct,Be.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new De(t)},__class__:Be});var De=function(t){this.__hasUIFields__=!0,this.permaMask=0,this.hitLocations=0,yt.call(this),this.char=t};(i["troshx.sos.bnb.OldWoundAssign"]=De).__name__=["troshx","sos","bnb","OldWoundAssign"],De.__super__=yt,De.prototype=t(yt.prototype,{getCost:function(t){return yt.prototype.getCost.call(this,t)*this.getQty()},isValidUILocation:function(t){return 0==(1<<t&this.permaMask)},freeze:function(){this.permaMask|=this.hitLocations},unfreezeAll:function(){this.permaMask=0},inflictRandom:function(){for(var t=this.char.body.hitLocations.length,e=[];-1<--t;)0==(1<<t&this.hitLocations)&&e.push(1<<t);return 0<e.length&&(t=e[Math.random()*e.length|0],this.hitLocations|=t,this.permaMask|=t),this},mergeWith:function(t){this.hitLocations|=t.hitLocations;for(var t=yt.prototype.getCost.call(this,this.rank),e=this.permaMask,i=this.char.body.hitLocations.length,s=0;-1<--i;)0!=(1<<i&e)&&++s;this.discount=t*s},getQty:function(){for(var t=this.hitLocations,e=this.char.body.hitLocations.length,i=0;-1<--e;)0!=(1<<e&t)&&++i;return i},countMask:function(t){for(var e=this.char.body.hitLocations.length,i=0;-1<--e;)0!=(1<<e&t)&&++i;return i},isValid:function(){return 0!=this.hitLocations},getUIFields:function(){return[{prop:"hitLocations",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:gn(this,this.isValidUILocation),label:"Hit Locations"}]},__class__:De});var We=function(){ct.call(this,"Poor",[4,6,8]),this.flags=1,this.channels=8;var t=_i.create(18,"Poor (i)",0,.5);t.next=_i.create(19,"Poor (i)",0,.5);var e=_i.create(18,"Poor (ii)",0,.25);e.next=_i.create(19,"Poor (ii)",0,.25),this.staticModifiers=[t,e,_i.create(19,"Poor (iii)",0,0)]};(i["troshx.sos.bnb.Poor"]=We).__name__=["troshx","sos","bnb","Poor"],We.__super__=ct,We.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new Ge(t)},__class__:We});var Ge=function(t){yt.call(this),this.char=t};(i["troshx.sos.bnb.PoorAssign"]=Ge).__name__=["troshx","sos","bnb","PoorAssign"],Ge.__super__=yt,Ge.prototype=t(yt.prototype,{getCost:function(t){var e=3==this.rank?4:2==this.rank?3:2,i=this.char.socialClass.wealthIndex+1,t=(i<e?i/e:1)*(0<t?this.bane.costs[t-1]:0);return Math.floor(t)},getUIFields:function(){return[]},__class__:Ge});var Ve=function(){ct.call(this,"Severed Limb/Appendage",[10,15,18]),this.clampRank=!0,this.flags=2,this.multipleTimes=-2};(i["troshx.sos.bnb.SeveredLimb"]=Ve).__name__=["troshx","sos","bnb","SeveredLimb"],Ve.__super__=ct,Ve.prototype=t(ct.prototype,{getEmptyAssignInstance:function(t){return new Ue},__class__:Ve});var Ue=function(){this.__hasUIFields__=!0,this.severedLegRight=0,this.severedLegLeft=0,this.severedArmRight=0,this.severedArmLeft=0,yt.call(this)};(i["troshx.sos.bnb.SeveredLimbAssign"]=Ue).__name__=["troshx","sos","bnb","SeveredLimbAssign"],Ue.__super__=yt,Ue.prototype=t(yt.prototype,{get_severedAreasLeft:function(){return this.severedArmLeft|this.severedLegLeft},get_severedAreasRight:function(){return this.severedArmRight|this.severedLegRight},isValid:function(){var t=0!=(261136&this.get_severedAreasLeft()),e=0!=(261136&this.get_severedAreasRight());return t||e},getCost:function(t){var e=0;return e+=245776==this.severedArmLeft?18:196608==this.severedArmLeft?15:0!=this.severedArmLeft?10:0,e+=245776==this.severedArmRight?18:196608==this.severedArmRight?15:0!=this.severedArmRight?10:0,e+=15360==this.severedLegLeft?18:12288==this.severedLegLeft?15:0!=this.severedLegLeft?10:0,e+=15360==this.severedLegRight?18:12288==this.severedLegRight?15:0!=this.severedLegRight?10:0},getUIFields:function(){return[{prop:"severedArmLeft",type:"SingleSelection",label:"Left Side Upper Limb",labels:["None","Left Hand","Left Lower Arm","Left Full Arm"],values:[0,131072,196608,245776]},{prop:"severedArmRight",type:"SingleSelection",label:"Right Side Upper Limb",labels:["None","Right Hand","Right Lower Arm","Right Full Arm"],values:[0,131072,196608,245776]},{prop:"severedLegLeft",type:"SingleSelection",label:"Left Side Lower Limb",labels:["None","Left Foot","Left Lower Leg","Left Full Leg"],values:[0,8192,12288,15360]},{prop:"severedLegRight",type:"SingleSelection",label:"Right Side Lower Limb",labels:["None","Right Foot","Right Lower Leg","Right Full Leg"],values:[0,8192,12288,15360]}]},__class__:Ue});var qe=function(){ct.call(this,"Skinny",[3]);var t=_i.create(16,"Skinny",-1);this.staticModifiers=[t]};function Ze(t,e,i,s){null==s&&(s=""),this.name=t,this.pcp=e,this.maxCategoryPCP=i,this.desc=s}function Ye(t,e){null==e&&(e=!1),this.pcp=0,this.name=t,this.magic=e}(i["troshx.sos.bnb.Skinny"]=qe).__name__=["troshx","sos","bnb","Skinny"],qe.__super__=ct,qe.prototype=t(ct.prototype,{__class__:qe}),(i["troshx.sos.chargen.CampaignPowerLevel"]=Ze).__name__=["troshx","sos","chargen","CampaignPowerLevel"],Ze.prototype={__class__:Ze},(i["troshx.sos.chargen.CategoryPCP"]=Ye).__name__=["troshx","sos","chargen","CategoryPCP"],Ye.prototype={__class__:Ye};var je=function(t){this.profCoreListRanged=[],this.profCoreListMelee=[],this.packetChoosy=!1,this.emptySocialBenefit={name:"",rank:0,cost:0},this.wealthAssets=[],this.socialBenefitTempArr=[],this.syncSocialWealth=!0,this.wealthIndex=0,this.socialClassIndex=0,this.warningAttributes={warn:!1,remain:0},this.selectedTierIndex=0,this.warningCategories={warn:!1,remain:0},this.campaignPowLevelIndex=1,this.campaignPowerLevels=[new Ze("Low (Grittiest)",14,5),new Ze("Medium(Default)",18,6),new Ze("High Fantasy",22,7),new Ze("Epic Fantasy",26,8),new Ze("Awesome Fantasy",30,10)],this.warningMsgs=[],this.savedCharContents="",this.showBnBs=!0,this.insideInventory=!1,this.char=null!=t?t:new Gs,this.raceTierTable=ds.getTiers(),this.pcpForTiers=ds.PCP_FOR_TIERS.concat([]),null==t&&this.char.set_race(this.raceTierTable[0][0]),this.categories=je.getNewCharGenCategories(),this.categories[2].pcp=4,this.initBoons(),this.initSkills(),this.initSocialClasses(),this.initSocialClassesBenefits(),this.initSchools()};(i["troshx.sos.chargen.CharGenData"]=je).__name__=["troshx","sos","chargen","CharGenData"],je.getTalentsAvailable=function(){for(var t=bi.getTalentAdds(),e=t[0],i=1,s=t.length;i<s;){var n=i++;e+=t[n],t[n]=e}return t},je.getSuperiorsAvailable=function(){for(var t=bi.getSuperiorAdds(),e=t[0],i=1,s=t.length;i<s;){var n=i++;e+=t[n],t[n]=e}return t},je.getNewCharGenCategories=function(){var t=[],e=new Ye("Race");return(t[0]=e).slug="gen-race",e=new Ye("Attributes"),(t[1]=e).slug="gen-attributes",e=new Ye("Boons & Banes"),(t[2]=e).slug="gen-bnb",t[3]=new Ye("Skills"),e.slug="gen-skills",e=new Ye("Social class/Wealth"),(t[4]=e).slug="gen-social-class",e=new Ye("School/Profeciencies"),(t[5]=e).slug="gen-schoolprofs",t},je.GetAttributeTotalCostOfLevel=function(t){return t<11?t-1:9+2*(t-10)},je.MaxAttributeLevelUpsFrom=function(t,e){t+=e;return e-(10<t?t-10:0)},je.getBnBFromPCP=function(t){return 5*t-5-15},je.dynSetField=function(t,e,i){t[e]=i},je.dynSetArray=function(t,e,i){t[e]=i},je.dynDeleteField=function(t,e){O.deleteField(t,e)},je.clamp5=function(t){return 5<=t?5:t},je.prototype={get_shouldShowBnBs:function(){return!!this.showBnBs||this.get_totalBnBScore()<0},initSchools:function(){this.schoolLevelCosts=bi.getLevels();for(var t=this.schoolLevelCosts[0],e=1,i=this.schoolLevelCosts.length;e<i;){var s=e++;t+=this.schoolLevelCosts[s],this.schoolLevelCosts[s]=t}this.talentsAvailable=je.getTalentsAvailable(),this.superiorsAvailable=je.getSuperiorsAvailable(),this.schoolAssignList=[];for(var n=Ps.getList(),a=0,r=n.length;a<r;){var o=n[a++];this.schoolAssignList.push({school:o,bonuses:o.getSchoolBonuses(this.char)})}},initBoons:function(){var t=Ot.getList();this.boonAssignList=[],this.baneAssignList=[];for(var e=0,i=t.length;e<i;){var s,n,a=e++;(n=t[a]).costs!=nt.COSTLESS_ARRAY&&(s=this.boonAssignList,a=t[a].getAssign(0,this.char),s.push(a),a._costCached=n.costs[0],a._remainingCached=999)}for(var r=ut.getList(),o=0,h=r.length;o<h;){var l,c=o++;(n=r[c]).costs!=nt.COSTLESS_ARRAY&&(l=this.baneAssignList,c=r[c].getAssign(0,this.char),l.push(c),c._costCached=n.costs[0])}},initSkills:function(){this.skillPackets=Ke.getNewSkillPackets(),this.skillLabelMappingBases=Ke.getNewSkillLabelMappingBases(),this.skillsTable=Ai.getNewDefaultSkillTable(),this.skillObjs=this.skillsTable.getSkillObjectsAsArray(!0),this.specialisedSkills=this.skillsTable.getSpecialisationList(),this.skillLabelMappings=this.getEmptyMappingsFromBase(this.skillLabelMappingBases);for(var t=0,e=this.skillPackets.length;t<e;)for(var i=t++,s=this.skillPackets[i],n=0,a=O.fields(s.values);n<a.length;){var r=a[n];if(++n,null!=this.skillLabelMappings[r]){s.history=[];break}}this.skillSubjectHash={};for(var o=0,h=O.fields(this.skillValues);o<h.length;){var l=h[o];++o;var c,R,u=xi.getSplitFromSpecialisation(l);null!=u&&(c=u[0],R=u[1],null==(l=this.skillSubjectHash[c])&&(l=[],this.skillSubjectHash[c]=l),null==(u=this.skillSubjectHash[R])&&(u=[],this.skillSubjectHash[R]=u),l.push(R),u.push(c))}this.startingSkillObjsCount=this.skillObjs.length},initSocialClasses:function(){var t={cost:2,name:"Hale and Hearty",rank:1},e={cost:3,name:"Folks Back Home",rank:1},i={cost:6,name:"Folks Back Home",rank:2},s={cost:1,name:"Literate",rank:1},n={cost:2,name:"Literate",rank:1,qty:2},a={cost:2,name:"Language",rank:2},r={cost:1,name:"Language",rank:1},o={cost:1,name:"Contacts",rank:1},h={cost:4,name:"Contacts",rank:2},l={cost:5,name:"Allies",rank:2},c={cost:10,name:"Allies",rank:3},R={cost:2,name:"Famous",rank:1},u={cost:4,name:"Famous",rank:2};this.socialClassList=[{socialClass:new zi("Slave/Exile",li.create(0,10,0),0),boons:[t,a,{cost:3,name:"Beautiful",rank:1}],maxBoons:1},{socialClass:new zi("Peasant",li.create(5,0,0),0),boons:[t,e],maxBoons:1},{socialClass:new zi("Poor Freeman",li.create(15,0,0),0),boons:[t,e,s],maxBoons:1},{socialClass:new zi("Freeman",li.create(25,0,0),1),boons:[t,e,s],maxBoons:2},{socialClass:new zi("High Freeman",li.create(40,0,0),2),boons:[i,s,r,o],maxBoons:2},{socialClass:new zi("Minor Noble",li.create(80,0,0),3),boons:[t,i,s,r,o,l,R],maxBoons:2},{socialClass:new zi("Landed Noble",li.create(150,0,0),6),boons:[t,i,n,a,h,l,R],maxBoons:2},{socialClass:new zi("High Noble",li.create(300,0,0),10),boons:[t,i,n,a,h,c,u],maxBoons:2},{socialClass:new zi("Royalty",li.create(800,0,0),15),boons:[t,i,n,a,h,c,u],maxBoons:3},{socialClass:new zi("High Royalty",li.create(1500,0,0),20),boons:[t,i,{cost:3,name:"Literate",rank:1,qty:3},{cost:3,name:"Language",rank:3},{cost:6,name:"Contacts",rank:3},c,u],maxBoons:3}]},initSocialClassesBenefits:function(){for(var t=0,e=this.socialClassList.length;t<e;)for(var i=t++,s=this.socialClassList[i],n=0,a=s.boons.length;n<a;){var r=n++,r=s.boons[r];if(null==r.index&&(r.index=this.findBoonIndexByName(r.name),r.label=r.name+" ("+r.cost+")",-1==r.index))throw new Y("Could not find Social boon by: "+r.name)}this.socialBenefit1=this.emptySocialBenefit,this.socialBenefit2=this.emptySocialBenefit,this.socialBenefit3=this.emptySocialBenefit},findBoonIndexByName:function(t){for(var e=0,i=this.boonAssignList.length;e<i;){var s=e++;if(this.boonAssignList[s].boon.name==t)return s}return-1},privateInit:function(){for(var t=0,e=this.skillPackets.length;t<e;){var i=t++,i=this.skillPackets[i];i.fields=O.fields(i.values)}this.validateSocialBenefitsWithClass(1)},get_campaignPowLevel:function(){return this.campaignPowerLevels[this.campaignPowLevelIndex]},get_categoryRace:function(){return this.categories[0]},get_categoryAttributes:function(){return this.categories[1]},get_categorySocialClassWealth:function(){return this.categories[4]},get_categoriesRemainingAssignable:function(){for(var t=0,e=0,i=this.categories.length;e<i;){var s=e++;t+=this.categories[s].pcp}return this.campaignPowerLevels[this.campaignPowLevelIndex].pcp-t},get_isValidCategories:function(){return 0==this.get_categoriesRemainingAssignable()},checkWarningCategories:function(){var t=this.get_categoriesRemainingAssignable();return 0<t&&(this.warningCategories.warn=!0,this.warningCategories.remain=t,!0)},get_isHuman:function(){return"Human"==(null!=this.char.race?this.char.race.name:"")},get_selectedRaceName:function(){return null!=this.char.race?this.char.race.name:""},resetToHuman:function(){this.selectedTierIndex=0,this.char.set_race(this.raceTierTable[0][0])},selectRaceAt:function(t,e){this.selectedTierIndex=t,this.char.set_race(this.raceTierTable[t][e])},settleRaceTier:function(){this.categories[0].pcp=this.pcpForTiers[this.selectedTierIndex]},get_promptSettleRaceTier:function(){return this.categories[0].pcp!=this.pcpForTiers[this.selectedTierIndex]},get_raceTier:function(){return this.getRaceTierFromPCP(this.categories[0].pcp)},getRaceTierFromPCP:function(t){for(var e=0,i=0,s=this.pcpForTiers.length;i<s;){var n=i++;if(this.pcpForTiers[n]>t)break;e=n}return e+1},get_totalAttributePointsSpent:function(){var t=0,e=this.char.strength;t+=e<11?e-1:9+2*(e-10);e=this.char.agility;t+=e<11?e-1:9+2*(e-10);e=this.char.endurance;t+=e<11?e-1:9+2*(e-10);e=this.char.health;t+=e<11?e-1:9+2*(e-10);e=this.char.willpower;t+=e<11?e-1:9+2*(e-10);e=this.char.wit;t+=e<11?e-1:9+2*(e-10);e=this.char.intelligence;t+=e<11?e-1:9+2*(e-10);e=this.char.perception;return t+=e<11?e-1:9+2*(e-10)},get_availableAttributePoints:function(){return je.PCP_COLUMN_ATTRIBUTES[this.categories[1].pcp-1]},get_remainingAttributePoints:function(){return this.get_availableAttributePoints()-this.get_totalAttributePointsSpent()},canBuyMoreAttributeLevels:function(){var t=this.get_remainingAttributePoints(),e=this.char.strength+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.agility+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.endurance+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.health+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.willpower+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.wit+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.intelligence+t;if(0<t-(10<e?e-10:0))return!0;e=this.char.perception+t;return 0<t-(10<e?e-10:0)},checkWarningAttributes:function(){var t=this.get_remainingAttributePoints();return!!(0<t&&this.canBuyMoreAttributeLevels())&&(this.warningAttributes.warn=!0,this.warningAttributes.remain=t,!0)},updateSocialBenefitsToBoon:function(t,e){var i;0<e.rank&&((i=this.boonAssignList[e.index]).rank==e.rank&&i.getCost(i.rank)==e.cost&&(i.rank=0),i._minRequired=0,i.discount=0),0<t.rank&&((i=this.boonAssignList[t.index]).discount=t.cost,0==i.rank&&(i.rank=t.rank),i._minRequired=t.rank,t.qty)},validateSocialBenefitsWithClass:function(t){var e=null;1==t?e=this.socialBenefit1:2==t?e=this.socialBenefit2:3==t&&(e=this.socialBenefit3);var i=this.socialClassList[this.socialClassIndex].maxBoons;this.socialBenefitTempArr[0]=1==t?null:this.socialBenefit1.name,this.socialBenefitTempArr[1]=2==t||i<2?null:this.socialBenefit2.name,this.socialBenefitTempArr[2]=3==t||i<3?null:this.socialBenefit3.name;var s=this.socialClassList[this.socialClassIndex].boons,n=s.indexOf(e),a=-1;if(n<0){for(var r=0,o=s.length;r<o;){var h=r++;if(-1==a&&this.socialBenefitTempArr.indexOf(s[h].name)<0&&(a=h),s[h].name==e.name){n=h;break}}n<0&&(n=0<=a?a:0),1==t?this.socialBenefit1=s[n]:2==t?this.socialBenefit2=s[n]:3==t&&(this.socialBenefit3=s[n])}if(n<0)throw new Y("Should have resolved index for social benefit choice!")},socialBenefitSelectChangeHandler:function(t,e){var i=this.socialClassList[this.socialClassIndex].boons;1==t?this.socialBenefit1=i[e]:2==t?this.socialBenefit2=i[e]:3==t&&(this.socialBenefit3=i[e])},get_availableWealthPointsBase:function(){return this.socialClassList[this.wealthIndex].socialClass.wealth},get_availableWealthPoints:function(){var t=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return t<0&&(t=0),t},get_remainingWealthPointsFull:function(){var t=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return t<0&&(t=0),t-this.wealthAssetsWorthFullArray()},get_remainingWealthPoints:function(){var t=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return t<0&&(t=0),t-this.wealthAssetsWorth()},wealthAssetsWorthFullArray:function(){for(var t=this.wealthAssets.length,e=0;-1<--t;)e+=this.wealthAssets[t].worth;return e},wealthAssetsWorthLen:function(){var t=this.wealthAssets.length,e=this.get_maxWealthAssets();return e<=t?e:t},wealthAssetsWorth:function(){for(var t=0,e=this.wealthAssets.length,i=this.get_maxWealthAssets(),s=0,n=i<=e?i:e;s<n;){var a=s++;t+=this.wealthAssets[a].worth}return t},get_socialBenefitChoices:function(){return this.socialClassList[this.socialClassIndex].boons},get_curSelectedSocialClass:function(){return this.socialClassList[this.socialClassIndex]},get_maxSocialClassIndex:function(){return this.categories[4].pcp-1},constraintSocialWealth:function(){var t;this.syncSocialWealth?(t=this.categories[4].pcp-1,this.socialClassIndex>t&&(this.socialClassIndex=t),this.wealthIndex=this.socialClassIndex):(t=this.get_unevenMaxWealthIndex(),this.wealthIndex>t&&(this.wealthIndex=t),t=this.get_unevenMaxSocialClassIndex(),this.socialClassIndex>t&&(this.socialClassIndex=t))},get_socialEitherMaxIndex:function(){var t=this.categories[4].pcp-1,e=this.get_unevenMaxSocialClassIndex();return this.syncSocialWealth?t:e},get_wealthEitherMaxIndex:function(){var t=this.categories[4].pcp-1,e=this.get_unevenMaxWealthIndex();return this.syncSocialWealth?t:e},get_socialClassPlaceHolderName:function(){return this.socialClassIndex!=this.wealthIndex?this.socialClassList[this.socialClassIndex].socialClass.name+" -$: "+this.socialClassList[this.wealthIndex].socialClass.name:this.socialClassList[this.socialClassIndex].socialClass.name},get_promptSettleSocialTier:function(){return(this.socialClassIndex!=this.wealthIndex?this.get_unevenSocialPCPRequired():this.socialClassIndex+1)!=this.categories[4].pcp},get_socialPCPRequired:function(){return this.socialClassIndex!=this.wealthIndex?this.get_unevenSocialPCPRequired():this.socialClassIndex+1},settleSocialTier:function(){this.syncSocialWealth=this.socialClassIndex==this.wealthIndex;var t=this.socialClassIndex!=this.wealthIndex?this.get_unevenSocialPCPRequired():this.socialClassIndex+1;this.categories[4].pcp=t},solveSocialOrWealthMaxX:function(t,e,i){return t=2*i-4-e,t-=1&t^1&e},get_unevenSocialPCPRequired:function(){var t=this.socialClassIndex+1,e=this.wealthIndex+1;this.categories[4].pcp;return Math.ceil((t+e)/2)+2},get_unevenMaxSocialClassIndex:function(){var t=(this.socialClassIndex,0),e=this.wealthIndex+1,t=2*this.categories[4].pcp-4-e,t=(t-=1&t^1&e)-1;return 0<=t?t:0},get_unevenMaxWealthIndex:function(){var t=(this.wealthIndex,0),e=this.socialClassIndex+1,t=2*this.categories[4].pcp-4-e,t=(t-=1&t^1&e)-1;return 0<=t?t:0},setSocialClassIndex:function(t){this.socialClassIndex=t,this.syncSocialWealth&&(this.wealthIndex=t)},setWealthIndex:function(t){this.wealthIndex=t},updateSocialToCharsheet:function(){var t=this.socialClassList[this.socialClassIndex];this.validateSocialBenefitsWithClass(1),2<=t.maxBoons?this.validateSocialBenefitsWithClass(2):this.socialBenefit2=this.emptySocialBenefit,3<=t.maxBoons?this.validateSocialBenefitsWithClass(3):this.socialBenefit3=this.emptySocialBenefit,this.char.socialClass.classIndex=this.socialClassIndex},get_maxWealthAssets:function(){var t=this.wealthAssets.length,e=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return e<0&&(e=0),t+(e-this.wealthAssetsWorthFullArray())},updateMoneyToCharsheet:function(){var t=this.socialClassList[this.wealthIndex];this.char.socialClass.wealthIndex=this.wealthIndex,this.char.socialClass.money.matchWith(t.socialClass.money),this.char.socialClass.wealth=t.socialClass.wealth},filterAwayLiquidatedAssets:function(t){return!t.liquidate},saveFinaliseSocial:function(t){this.socialClassIndex!=this.wealthIndex&&""!=this.char.socialClass.name||(this.char.socialClass.name=this.get_socialClassPlaceHolderName());var e=this.wealthAssets.length,i=this.get_maxWealthAssets(),e=i<=e?i:e,e=(e=this.wealthAssets.slice(0,e)).filter(gn(this,this.filterAwayLiquidatedAssets));this.char.wealthAssets=e,this.char.money.matchWith(t)},get_categoryBnB:function(){return this.categories[2]},get_totalBaneExpenditure:function(){for(var t=this.char.banes.list,e=0,i=t.length;-1<--i;){var s=t[i],n=!(s._canceled||s._forcePermanent)?s._costCached:0;0!=s.discount&&(n-=s.discount)<0&&(n=0),e+=n}return e},get_maxBanePointsEarnable:function(){return this.get_BnBpoints()<0?15-this.get_BnBpoints():15},get_totalBanePointsEarned:function(){var t=this.get_totalBaneExpenditure(),e=this.get_BnBpoints()<0?15-this.get_BnBpoints():15;return e<t?e:t},get_totalBanePointsSpent:function(){return this.get_totalBaneExpenditure()-this.get_totalBanePointsEarned()},get_totalBoonExpenditure:function(){for(var t=this.char.boons.list,e=0,i=t.length;-1<--i;){var s=t[i],n=!(s._canceled||s._forcePermanent)?s._costCached:0;0!=s.discount&&(n-=s.discount)<0&&(n=0),e+=n}return e},get_boonsArray:function(){return this.char.boons.list},get_banesArray:function(){return this.char.banes.list},get_BnBpoints:function(){return 5*this.get_categoryBnB().pcp-5-15},get_totalBnBScore:function(){return this.get_BnBpoints()+this.get_totalBanePointsEarned()-this.get_totalBoonExpenditure()+(this.char.direPast?10:0)},get_maxBoonsSpendable:function(){return this.get_BnBpoints()+(this.get_BnBpoints()<0?15-this.get_BnBpoints():15)},get_maxBoonsSpendableLeft:function(){return this.get_maxBoonsSpendable()-this.get_totalBoonExpenditure()},get_maxBanesSpendable:function(){return(this.get_BnBpoints()<0?15-this.get_BnBpoints():15)+(this.get_BnBpoints()<0?0:this.get_BnBpoints())},get_maxBanesSpendableLeft:function(){return this.get_maxBanesSpendable()-this.get_totalBaneExpenditure()},addSkill:function(t,e){var i,s=this.skillSubjectHash[t];null==s&&(s=[],je.dynSetField(this.skillSubjectHash,t,s)),null==(i=this.skillSubjectHash[e])&&(i=[],je.dynSetField(this.skillSubjectHash,e,i)),s.push(e),i.push(t);e=t+" ("+e+")";je.dynSetField(this.skillValues,e,0),je.dynSetField(this.skillPacketValues,e,0),this.skillObjs.push({name:e,attribs:0})},deleteSkillInput:function(t){var e=this.skillObjs[t],i=xi.getSplitFromSpecialisation(e.name),s=i[0],n=i[1],a=this.skillSubjectHash[s],i=this.skillSubjectHash[n];a.splice(a.indexOf(n),1),i.splice(a.indexOf(s),1),je.dynDeleteField(this.skillValues,e.name),je.dynDeleteField(this.skillPacketValues,e.name),this.skillObjs.splice(t,1),this.truncateSkillPacketHistory()},onSkillPacketChange:function(t,e,i){var s=this.skillPackets[t];if(null==s.history)for(var n=0,a=s.fields.length;n<a;){var r=n++,r=s.fields[r];this.skillPacketValues[r]+=s.values[r]*e}else for(var t=s.qty-e,o=0<=e,h=o?1:-1,l=o?t:t-1,c=t+e;o?l<c:c<=l;){for(var R=s.history[l],u=0,y=s.fields.length;u<y;){var g=u++,d=s.fields[g],g=R[d];this.skillPacketValues[g]+=s.values[d]*h}l+=h}0<e&&(null!=s.history&&!i||this.truncateSkillPacketHistory())},onSkillIndividualChange:function(t){0<t&&this.truncateSkillPacketHistory()},truncateSkillPacketHistory:function(){for(var t=0,e=this.skillPackets.length;t<e;){var i=t++,s=this.skillPackets[i];null!=s.history&&s.history.length!=s.qty&&(i=s.history,s=s.qty,i.splice(s,i.length-s))}},saveFinaliseSkillsFromPackets:function(){for(var t=0,e=this.skillObjs.length;t<e;){var i=t++,s=this.skillObjs[i],i=this.skillPacketValues[s.name],i=(5<=i?5:i)+this.skillValues[s.name];0<i&&(this.char.skills.skillHash[s.name]=i)}},clampSkillValue:function(t){return 5<=t?5:t},isSkillLabelBinded:function(t){return"~"==t.charAt(0)},get_SkillPoints:function(){return 6+3*(this.categories[3].pcp-1)},get_individualSkillsSpent:function(){for(var t=0,e=0,i=O.fields(this.skillValues);e<i.length;){var s=i[e];++e,t+=this.skillValues[s]}return t},get_maxSkillPacketsAllowed:function(){return Math.floor((this.get_totalSkillPointsProvided()-this.get_individualSkillsSpent())/3)},get_maxIndividualSkillsSpendable:function(){return this.get_totalSkillPointsProvided()-3*this.get_skillPacketsBought()},get_individualSkillsRemaining:function(){return this.get_maxIndividualSkillsSpendable()-this.get_individualSkillsSpent()},get_totalSkillPointsProvided:function(){return this.get_SkillPoints()+this.char.intelligence},get_skillPacketsRemaining:function(){return this.get_maxSkillPacketsAllowed()-this.get_skillPacketsBought()},get_skillPacketsBought:function(){for(var t=0,e=this.skillPackets.length;-1<--e;)t+=this.skillPackets[e].qty;return t},get_totalSkillPointsLeft:function(){return this.get_totalSkillPointsProvided()-this.get_individualSkillsSpent()-3*this.get_skillPacketsBought()},getEmptyMappingsFromBase:function(t){for(var e={},i=0,s=O.fields(t);i<s.length;){var n=s[i];++i;var a=t[n];a instanceof Array&&null==a.__enum__?e[n]=(a instanceof Array&&null==a.__enum__?a:null)[0]:e[n]=""}var r=[];this.skillValues={},this.skillPacketValues={};for(var o=0,h=this.skillPackets.length;o<h;)for(var l=o++,l=this.skillPackets[l],c=0,R=O.fields(l.values);c<R.length;){var u=R[c];++c,this.skillValues[u]=0,this.skillPacketValues[u]=0,"~"==u.charAt(0)||Object.prototype.hasOwnProperty.call(this.skillsTable.skillHash,u)||(this.skillsTable.skillHash[u]=0,r.push({name:u,attribs:0}))}for(var y=0,g=O.fields(this.skillsTable.skillHash);y<g.length;){var d=g[y];++y,this.skillsTable.requiresSpecialisation[d]||(this.skillValues[d]=0,this.skillPacketValues[d]=0)}r.sort(Ai.sortArrayMethod),this.skillObjs=this.skillObjs.concat(r),this.skillSubjects=Ke.getExistingSubjects();for(var p={},_=0,f=this.skillSubjects.length;_<f;){var m=_++;p[this.skillSubjects[m]]=!0}return this.skillSubjectsInitial=p,e},selectSchoolAssign:function(t){null!=t?(this.char.set_school(t.school),this.char.set_schoolBonuses(t.bonuses)):(this.char.set_school(null),this.char.set_schoolBonuses(null))},canStillSpendSchool:function(t){var e=0;if(null==this.char.school)return 3*(this.categories[5].pcp-1)!=0;var i=this.char.schoolLevel+1;return i<=20&&(e=this.schoolLevelCosts[i-1]-(2<=i?this.schoolLevelCosts[i-2]:0)),0<e&&e<=t},get_hasSchool:function(){return null!=this.char.school},get_schoolProfLevel:function(){return null!=this.char.school?this.char.schoolLevel:0},get_ProfPoints:function(){return 3*(this.categories[5].pcp-1)},get_totalAvailProfSlots:function(){return null!=this.char.school?this.char.school.profLimit:0},get_profArcCost:function(){return"Human"==(null!=this.char.race?this.char.race.name:"")?0:1},get_schoolArcCost:function(){return null!=this.char.school?this.char.school.costArc:0},get_totalProfSlotExpenditure:function(){var t="Human"==(null!=this.char.race?this.char.race.name:"")?0:1,e=null!=this.char.school?this.char.school.profLimit:0,i=this.profCoreListRanged.length+this.profCoreListMelee.length,e=e<i?e:i;return e*t+2*(i-e)},get_beyondMaxProfs:function(){return this.profCoreListRanged.length+this.profCoreListMelee.length>(null!=this.char.school?this.char.school.profLimit:0)},get_atOrBeyondMaxProfString:function(){return this.profCoreListRanged.length+this.profCoreListMelee.length>(null!=this.char.school?this.char.school.profLimit:0)?"Beyond Max":"Max Reached"},get_maxMeleeProfSlots:function(){var t=(null!=this.char.school?this.char.school.profLimit:0)-this.profCoreListRanged.length,e="Human"==(null!=this.char.race?this.char.race.name:"")?0:1,i=3*(this.categories[5].pcp-1)-(null!=this.char.school?this.char.school.costArc:0)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)-this.profCoreListRanged.length*e;return 0<e&&((i=Math.floor(i/e))<0&&(i=0),i<t&&(t=i)),null==this.char.school||t<0?0:t},get_maxRangedProfSlots:function(){var t=(null!=this.char.school?this.char.school.profLimit:0)-this.profCoreListMelee.length,e="Human"==(null!=this.char.race?this.char.race.name:"")?0:1,i=3*(this.categories[5].pcp-1)-(null!=this.char.school?this.char.school.costArc:0)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)-this.profCoreListMelee.length*e;return 0<e&&((i=Math.floor(i/e))<0&&(i=0),i<t&&(t=i)),null==this.char.school||t<0?0:t},get_maxTalentSlots:function(){var t=0<this.char.schoolLevel?this.talentsAvailable[this.char.schoolLevel-1]:0;return null!=this.char.school?t:0},get_maxSuperiorSlots:function(){var t=0<this.char.schoolLevel?this.superiorsAvailable[this.char.schoolLevel-1]:0;return null!=this.char.school?t:0},get_maxMasterySlots:function(){var t=20<=this.char.schoolLevel?1:0;return null!=this.char.school?t:0},get_levelsExpenditure:function(){return null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0},get_profPointsLeft:function(){var t="Human"==(null!=this.char.race?this.char.race.name:"")?0:1,e=null!=this.char.school?this.char.school.profLimit:0,i=this.profCoreListRanged.length+this.profCoreListMelee.length,e=e<i?e:i;return 3*(this.categories[5].pcp-1)-(e*t+2*(i-e))-(null!=this.char.school?this.char.school.costArc:0)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)},get_traceProfCoreRangedCurrent:function(){return mi.getLabelsOfArrayProfs(null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged(),this.char.profsRanged)},get_traceProfCoreMeleeCurrent:function(){return mi.getLabelsOfArrayProfs(mi.getCoreMelee(),this.char.profsMelee)},get_traceProfCoreRangedCount:function(){return mi.getCountOfArrayProfs(null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged(),this.char.profsRanged)},get_traceProfCoreMeleeCount:function(){return mi.getCountOfArrayProfs(mi.getCoreMelee(),this.char.profsMelee)},saveFinaliseSchoolProfs:function(){this.char.schoolLevel=null!=this.char.school&&null!=this.char.school?this.char.schoolLevel:0;var t=this.char.masteryManueverNotes,e=this.get_maxMasterySlots();this.char.masteryManueverNotes=t.slice(0,e);t=this.char.superiorManueverNotes,e=this.get_maxSuperiorSlots();this.char.superiorManueverNotes=t.slice(0,e);t=this.char.talentNotes,e=this.get_maxTalentSlots();this.char.talentNotes=t.slice(0,e)},saveFinaliseCleanupChar:function(t){this.saveFinaliseSocial(t),this.saveFinaliseSchoolProfs(),this.saveFinaliseSkillsFromPackets(),this.char.boons.filter(function(t){return!t._canceled}),this.char.banes.filter(function(t){return!t._canceled});for(var e=0,i=this.char.boons.list.length;e<i;){var s=e++;this.char.boons.list[s].cleanupUIArrays()}for(var n=0,a=this.char.banes.list.length;n<a;){var r=n++;this.char.banes.list[r].cleanupUIArrays()}for(var o=0,h=this.char.boons.list.length;o<h;){var l=o++;this.char.boons.list[l].cleanup()}for(var c=0,R=this.char.banes.list.length;c<R;){var u=c++;this.char.banes.list[u].cleanup()}this.char.inventory.cleanupBeforeSerialize(),"Human"!=(null!=this.char.race?this.char.race.name:"")&&(this.char.arcFlaw="")},__class__:je};var Ke=function(){};function Xe(){this.manueverStack=new et,this._messages=[],this.bout=null}(i["troshx.sos.chargen.CharGenSkillPackets"]=Ke).__name__=["troshx","sos","chargen","CharGenSkillPackets"],Ke.getNewSkillPackets=function(){var t=new q,e="Profession (Farmer)";null!=bn[e]?t.setReserved(e,2):t.h[e]=2;var i="Crafting (Wood)";null!=bn[i]?t.setReserved(i,1):t.h[i]=1,null!=bn.Cooking?t.setReserved("Cooking",1):t.h.Cooking=1;var s={name:"Farmer",qty:0,values:Ke.strMapValues(t)},n=new q,a="Profession (Trade)";null!=bn[a]?n.setReserved(a,2):n.h[a]=2;var r="Crafting (Trade)";null!=bn[r]?n.setReserved(r,1):n.h[r]=1,null!=bn.Persuasion?n.setReserved("Persuasion",1):n.h.Persuasion=1;var o={name:"Tradesman",qty:0,values:Ke.strMapValues(n)},h=new q,l="Knowledge (Finance)";null!=bn[l]?h.setReserved(l,2):h.h[l]=2,null!=bn.Etiquette?h.setReserved("Etiquette",1):h.h.Etiquette=1,null!=bn.Persuasion?h.setReserved("Persuasion",1):h.h.Persuasion=1;var c={name:"Merchant",qty:0,values:Ke.strMapValues(h)},e=new q;null!=bn["Gather Information"]?e.setReserved("Gather Information",1):e.h["Gather Information"]=1,null!=bn.Intimidation?e.setReserved("Intimidation",1):e.h.Intimidation=1,null!=bn.Observation?e.setReserved("Observation",1):e.h.Observation=1;i="Knowledge (Criminal)";null!=bn[i]?e.setReserved(i,1):e.h[i]=1;t={name:"Criminal",qty:0,values:Ke.strMapValues(e)},a=new q;null!=bn.Intimidation?a.setReserved("Intimidation",1):a.h.Intimidation=1;r="Knowledge (Criminal)";null!=bn[r]?a.setReserved(r,1):a.h[r]=1,null!=bn.Observation?a.setReserved("Observation",2):a.h.Observation=2;n={name:"Guard",qty:0,values:Ke.strMapValues(a)},l=new q;null!=bn.Surgery?l.setReserved("Surgery",2):l.h.Surgery=2,null!=bn.Chymistry?l.setReserved("Chymistry",1):l.h.Chymistry=1;h="Profession (Doctor)";null!=bn[h]?l.setReserved(h,1):l.h[h]=1;i={name:"Surgeon",qty:0,values:Ke.strMapValues(l)},e=new q;null!=bn.Sailing?e.setReserved("Sailing",2):e.h.Sailing=2;r="Profession (Sailing)";null!=bn[r]?e.setReserved(r,1):e.h[r]=1,null!=bn.Navigation?e.setReserved("Navigation",1):e.h.Navigation=1;a={name:"Sailor",qty:0,values:Ke.strMapValues(e)},h=new q;null!=bn.Etiquette?h.setReserved("Etiquette",1):h.h.Etiquette=1;l="Knowledge (Politics)";null!=bn[l]?h.setReserved(l,1):h.h[l]=1,null!=bn.Oration?h.setReserved("Oration",1):h.h.Oration=1,null!=bn.Persuasion?h.setReserved("Persuasion",1):h.h.Persuasion=1;r={name:"Politician",qty:0,values:Ke.strMapValues(h)},e=new q,l="Knowledge (Nobility)";null!=bn[l]?e.setReserved(l,1):e.h[l]=1,null!=bn.Etiquette?e.setReserved("Etiquette",1):e.h.Etiquette=1;h="Knowledge (Politics)";null!=bn[h]?e.setReserved(h,1):e.h[h]=1,null!=bn.Persuasion?e.setReserved("Persuasion",1):e.h.Persuasion=1;l={name:"Nobleman",qty:0,values:Ke.strMapValues(e)},h=new q;null!=bn.Cooking?h.setReserved("Cooking",2):h.h.Cooking=2;e="Crafting (Homestead)";return null!=bn[e]?h.setReserved(e,2):h.h[e]=2,[{name:"Academic",qty:0,values:{"~academic1":1,"~academic2":1,Research:1,"~academicLast":1}},{name:"Athlete",qty:0,values:{Athletics:2,Climbing:1,Swimming:1}},s,o,c,{name:"Thief",qty:0,values:{Stealth:1,Thievery:2,Observation:1}},t,{name:"Hunter",qty:0,values:{"~hunter1":1,Navigation:1,Hunting:2}},n,{name:"Soldier",qty:0,values:{"~soldier1":1,Tactics:1,Drill:2}},i,{name:"Officer",qty:0,values:{Drill:1,Tactics:1,Navigation:1,Strategy:1}},a,{name:"Scout",qty:0,values:{"~scout1":1,Stealth:1,Navigation:1,Observation:1}},r,l,{name:"Domestic",qty:0,values:Ke.strMapValues(h)}]},Ke.getExistingSubjects=function(){return["Farmer","Trade","Finance","Wood","Homestead","Criminal","Nobility","Politics","Sailing","Doctor"]},Ke.getNewSkillLabelMappingBases=function(){return{"~academic1":"Knowledge","~academic2":"Knowledge","~academicLast":["Engineering","Knowledge (Politics)","Chymistry"],"~soldier1":["Athletics","Riding"],"~scout1":["Athletics","Riding"],"~hunter1":["Stealth","Riding"]}},Ke.strMapValues=function(t){for(var e={},i=t.keys();i.hasNext();){var s=i.next();e[s]=null!=bn[s]?t.getReserved(s):t.h[s]}return e},Ke.isSkillLabelBinded=function(t){return"~"==t.charAt(0)},Ke.getSkillLabel=function(t,e,i){return"~"==t.charAt(0)?"string"==typeof e[t]?e[t]+" ("+i[t]+")":i[t]:t},f=function(t){(this.model=t).bout.s=-2},(i["troshx.sos.combat.BoutController"]=f).__name__=["troshx","sos","combat","BoutController"],f.__interfaces__=[h],f.prototype={waitForPlayer:function(){return null},step:function(){},handleCurrentStep:function(){var t=this.model.bout.s;if(-2==t)return-1;if(-1==t)return-1;if(0==t)return-1;if(1==t)return 0;throw new Y("Unhandled step:"+t)},__class__:f},(i["troshx.sos.combat.BoutModel"]=Xe).__name__=["troshx","sos","combat","BoutModel"],Xe.__interfaces__=[c],Xe.prototype={setBout:function(t){this.bout=t},getMessages:function(){return this._messages},getMessagesCount:function(){return this._messages.length},clearMessages:function(){this._messages.length=0},__class__:Xe};var Qe=function(t,e){null==e&&(e=""),null==t&&(t=""),this.unit=1,this.costCurrency=0,this.cost=0,this.flags=0,this.weight=0,this.id=null!=t?t:"Item_"+Qe.UID_COUNT++,this.name=e};function $e(){this.customise=null,this.special=null,this.specialFlags=0,this.pp=0,this.burdinadin=null,this.AVB=0,this.AVP=0,this.AVC=0,Qe.call(this)}(i["troshx.sos.core.Item"]=Qe).__name__=["troshx","sos","core","Item"],Qe.getLabelsOfArray=function(t,e){for(var i=[],s=0,n=t.length;s<n;){var a=s++;0!=(e&1<<a)&&i.push(t[a].name)}return i},Qe.sign=function(t){return 0<=t?"+":""},Qe.labelizeAllCaps=function(t){for(var e=t.split("_"),i=0,s=e.length;i<s;){var n=i++;e[n]=e[n].charAt(0).toUpperCase()+D.substr(e[n],1,null).toLowerCase()}return e.join(" ")},Qe.labelizeCamelCase=function(t){var e=new RegExp("([A-Z]+)","g".split("u").join("")),i=new RegExp("([A-Z][a-z])","g".split("u").join(""));return t=(t=t.replace(e,"$1")).replace(i," $1"),t=(t=r.trim(t)).charAt(0).toUpperCase()+D.substr(t,1,null)},Qe.labelizeAllCapsArr=function(t){for(var e=[],i=0,s=t.length;i<s;){var n=i++;e[n]=Qe.labelizeAllCaps(t[n])}return e},Qe.labelizeCamelCaseArr=function(t){for(var e=[],i=0,s=t.length;i<s;){var n=i++;e[n]=Qe.labelizeCamelCase(t[n])}return e},Qe.prototype={normalize:function(){return this},setWeightCost:function(t,e,i){return this.weight=t,this.cost=e,this.costCurrency=i,this},setUnit:function(t){return this.unit=t,this},serializeClone:function(){var t=new G;return t.serialize(this),new k(t.toString()).unserialize()},addTagsToStrArr:function(t){0!=(2&this.flags)&&t.push("Strapped"),j.getClass(this)!=ai&&0!=(1&this.flags)&&t.push("Two-Handed"),0!=(4&this.flags)&&t.push("Eye-Corrective"),0!=(8&this.flags)&&t.push("Prosthetic")},getTypeLabel:function(){return"MiscItem"},get_uid:function(){return""!=this.id?this.id:this.name},get_label:function(){return this.name},get_twoHanded:function(){return 0!=(1&this.flags)},get_strapped:function(){return 0!=(2&this.flags)},__class__:Qe},(i["troshx.sos.core.Armor"]=$e).__name__=["troshx","sos","core","Armor"],$e.createEmptyInstance=function(){var t=new $e;return t.coverage={},t},$e.__super__=Qe,$e.prototype=t(Qe.prototype,{writeAVsAtLocation:function(t,e,i,s,n,a,r,o){var h=this.coverage[e];if(0!=(n&i)&&-1==this.special.wornWith.layer)return!1;n=0!=(2&h)?.5:1;0!=(4&h)&&0==(t.thrustMask&r)&&(n=0);t=0;0!=i&&null!=this.special&&null!=this.special.hitModifier&&0!=n&&(0==r&&0==this.special.hitModifier.targetZoneMask&&0!=(this.special.hitModifier.locationMask&i)&&(this.special.hitModifier.multiplyAV<1&&this.special.hitModifier.multiplyAV<n&&(n=this.special.hitModifier.multiplyAV),1<this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV>n&&(n=this.special.hitModifier.multiplyAV),t+=this.special.hitModifier.addAV),0==r||0==(this.special.hitModifier.targetZoneMask&r)||0!=this.special.hitModifier.locationMask&&0==(this.special.hitModifier.locationMask&i)||(this.special.hitModifier.multiplyAV<1&&this.special.hitModifier.multiplyAV<n&&(n=this.special.hitModifier.multiplyAV),1<this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV>n&&(n=this.special.hitModifier.multiplyAV),t+=this.special.hitModifier.addAV)),o&&0!=i&&null!=this.customise&&null!=this.customise.hitLocationAllAVModifiers&&null!=this.customise.hitLocationAllAVModifiers[e]&&(t+=this.customise.hitLocationAllAVModifiers[e]);e=a&&0!=(8&this.specialFlags)?2*n:n,a=(this.AVC*n|0)+t,e=(this.AVP*e|0)+t,t=(this.AVB*n|0)+t;return a<0&&(a=0),e<0&&(e=0),t<0&&(t=0),s.avc=a,s.avp=e,s.avb=t,!0},writeAVVAluesTo:function(t,e,i,s,n){var a;null==$e.TEMPAVS&&($e.TEMPAVS={avc:0,avp:0,avb:0}),a=$e.TEMPAVS;for(var r=0,o=O.fields(this.coverage);r<o.length;){var h=o[r];++r;var l=t[h],c=1<<e.hitLocationHash[h];this.writeAVsAtLocation(e,h,c,a,i,s,n,!0)&&(a.avc>l.avc&&(l.avc=a.avc),a.avp>l.avp&&(l.avp=a.avp),a.avb>l.avb&&(l.avb=a.avb),null==l.vis||(c=+a.avc+1.4*a.avp*a.avb*.6)>l.vis&&(l.visArmor=this,l.vis=c))}},checkFubarCrushed:function(t,e,i){var s;null==$e.TEMPAVS&&($e.TEMPAVS={avc:0,avp:0,avb:0}),s=$e.TEMPAVS;for(var n=0,a=O.fields(this.coverage);n<a.length;){var r=a[n];++n;var o=r,r=1<<t.hitLocationHash[o];if(this.writeAVsAtLocation(t,o,r,s,0,!1,e,!0))if(0!=(0==i?s.avc:1==i?s.avp:s.avb))return!1}return!0},normalize:function(){null==this.coverage&&(this.coverage={});var t=null!=this.special&&null!=this.special.otherBodyType?this.special.otherBodyType:Je.getInstance(),e=this.special,i=this.coverage;this.coverage=null,this.special=null;var s=this.serializeClone();s._coverageValues=[];for(var n=0,a=t.hitLocations.length;n<a;){var r=n++,o=t.hitLocations[r].id;null!=i[o]?(s._coverageValues.push(r),s._coverageValues.push(i[o])):(s._coverageValues.push(0),s._coverageValues.push(0))}return null!=e&&(this.special=e,s.special=e),this.coverage=i,s},getCoverageMask:function(t){for(var e=0,i=0,s=O.fields(this.coverage);i<s.length;){var n=s[i];++i,e|=1<<t.hitLocationHash[n]}return e},get_uid:function(){return Qe.prototype.get_uid.call(this)+(null!=this.customise?" *"+this.customise.name+"*":"")},addCoverageTagsToStrArr:function(t){(null!=this.special&&null!=this.special.otherBodyType?this.special.otherBodyType:Je.getInstance()).pushArmorCoverageLabelsTo(this.coverage,t)},addTagsToStrArr:function(t){Qe.prototype.addTagsToStrArr.call(this,t),0<this.pp&&t.push("PP -"+this.pp);var e=this.specialFlags;0!=e&&(0!=(1&e)&&t.push("Movable"),0!=(2&e)&&t.push("Hard"),0!=(4&e)&&t.push("Mail"),0!=(8&e)&&t.push("Textile"),0!=(16&e)&&t.push("Bulletproof")),null!=this.special&&this.special.addTagsToStrArr(t,this),null!=this.burdinadin&&this.burdinadin.addTagsToStrArr(t),null!=this.customise&&this.customise.addTagsToStrArr(t)},get_label:function(){return this.name+(null!=this.customise?" *"+(this.customise.name,this.customise.name)+"*":"")},getTypeLabel:function(){return"Armor"},getLayerValueAt:function(t,e){t=null!=this.special&&0!=this.special.layer?(0==this.special.layerCoverage||0!=(this.special.layerCoverage&t)?1:0)*this.special.layer:0;return 0!=e&&0<this.special.wornWith.layer&&this.special.wornWith.layer>t&&(t=this.special.wornWith.layer),t},__class__:$e}),T=function(){this.crest=0,this.hitLocationAllAVModifiers=null,this.name=""},(i["troshx.sos.core.ArmorCustomise"]=T).__name__=["troshx","sos","core","ArmorCustomise"],T.__interfaces__=[y],T.prototype={addTagsToStrArr:function(t){var e=this.crest;1==e&&t.push("*Identifying"),2==e&&t.push("*Intimidating"),3==e&&t.push("*Ruthlessly Fashionable")},get_uid:function(){return this.name},__class__:T},h=function(){this.otherBodyType=null,this.hitModifier=null,this.wornWith=null,this.layerCoverage=0,this.layer=0,this.restrictsBreathing=0},(i["troshx.sos.core.ArmorSpecial"]=h).__name__=["troshx","sos","core","ArmorSpecial"],h.prototype={addTagsToStrArr:function(t,e){var i,s=null!=this.otherBodyType?this.otherBodyType:Je.getInstance();null!=this.otherBodyType&&t.push("For Body Type: "+s.name),0!=this.restrictsBreathing&&t.push("Restricts Breathing "+this.restrictsBreathing),0<this.layer&&(0!=this.layerCoverage?(i=[],s.pushHitLocationNamesToStrArrByMask(i,this.layerCoverage),t.push("Layer"+(0<i.length?"s":"")+" "+this.layer+" ("+i.join(", ")+")")):t.push("Layer "+this.layer)),null!=this.hitModifier&&this.hitModifier.addTagsToStrArr(t,s),null!=this.wornWith&&this.wornWith.addTagsToStrArr(t,e)},__class__:h},c=function(){this.addAV=0,this.multiplyAV=1,this.targetZoneMask=0,this.locationMask=0},(i["troshx.sos.core.HitModifier"]=c).__name__=["troshx","sos","core","HitModifier"],c.prototype={addTagsToStrArr:function(t,e){var i,s,n;0==this.targetZoneMask&&0==this.locationMask||1==this.multiplyAV&&0==this.addAV||(i=(this.targetZoneMask&e.swingMask)==e.swingMask,s=(this.targetZoneMask&e.thrustMask)==e.thrustMask,0==this.locationMask&&i&&s||(n=0!=this.addAV&&1!=this.multiplyAV,n=0==this.multiplyAV&&0==this.addAV?"No AV":(this.addAV<0?"Reduced ":"")+(n?0!=this.multiplyAV?(0<this.addAV?"+":"")+this.addAV+" AV over "+(.5==this.multiplyAV?"Half AV":this.multiplyAV+"x AV"):0<this.addAV?"Only "+this.addAV+" AV":"+"+-this.addAV+" damage":1!=this.multiplyAV?.5==this.multiplyAV?"Provides Half AV":this.multiplyAV+"x AV":(0<this.addAV?"+":"")+this.addAV+" AV"),t.push(n+(0==this.targetZoneMask||i&&s?"":" vs "+e.describeTargetZones(this.targetZoneMask))+(0!=this.locationMask?" on "+e.getLabelsHitLocationMask(this.locationMask).join(" ,"):""))))},__class__:c},c=function(){this.layer=0,this.name=""},(i["troshx.sos.core.WornWith"]=c).__name__=["troshx","sos","core","WornWith"],c.prototype={addTagsToStrArr:function(t,e){""!=this.name&&(0==this.layer||-1==this.layer?t.push("When worn with "+this.name+": Use "+(0==this.layer?"own":this.name)+" AV value instead"):t.push("Can be worn with "+this.name+" for Layer "+this.layer))},__class__:c};var Je=function(){this.hitLocationHash=null};(i["troshx.sos.core.BodyChar"]=Je).__name__=["troshx","sos","core","BodyChar"],Je.__interfaces__=[J],Je.getInstance=function(){return null!=Je.DEFAULT?Je.DEFAULT:Je.DEFAULT=Je.getNewDefaultInstance()},Je.getNewDefaultInstance=function(){var t=new Je;return t.name="Humanoid",t.targetZones=ti.getNewTargetZones(),t.hitLocations=ti.getNewHitLocations(),t.thrustStartIndex=9,t.rearStartIndex=18,t.missileHitLocations=[-1,9,11,11,12,15,13,14,16,17],t.bake(),t},Je.createBlankInstance=function(){var t=new Je;return t.name="",t.targetZones=[],t.missileHitLocations=[],t.hitLocations=[],t.thrustStartIndex=0,t},Je.createEmptyInstance=function(){return new Je},Je.prototype={getNewHitLocationsFrontSlice:function(){return this.hitLocations.slice(0,this.rearStartIndex)},isSwingingAll:function(t){return(t&this.swingMask)==this.swingMask},isThrustingAll:function(t){return(t&this.thrustMask)==this.thrustMask},isSwingingOnly:function(t){return t==this.swingMask},isThrustingOnly:function(t){return t==this.thrustMask},getNewEmptyAvs:function(){for(var t=this.hitLocations,e={},i=0,s=t.length;i<s;)e[t[i++].id]={avp:0,avc:0,avb:0};return e},getNewEmptyAvsWithVis:function(){for(var t=this.hitLocations,e={},i=0,s=t.length;i<s;)e[t[i++].id]={avp:0,avc:0,avb:0,vis:0,visArmor:null};return e},isThrusting:function(t){return t>=this.thrustStartIndex},bake:function(){for(var t={},e=0,i=this.hitLocations.length;e<i;){var s=e++;t[this.hitLocations[s].id]=s}this.hitLocationHash=t,this.thrustMask=0;for(var n=this.thrustStartIndex,a=this.targetZones.length;n<a;){var r=n++;this.thrustMask|=1<<r}for(var o=this.swingMask=0,h=this.thrustStartIndex;o<h;){var l=o++;this.swingMask|=1<<l}},getTargetZoneHitAreaMasks:function(){for(var t=[],e=0,i=this.targetZones.length;e<i;){var s=e++,s=this.targetZones[s];t.push(s.getHitAreaMask())}return t},getDescLabelTargetZone:function(t,e,i,s){null==i&&(i="Swing to"),null==e&&(e="Thrust to");var n=t>=this.thrustStartIndex,a=this.targetZones[t],i=n?e:i;return(""!=a.description?null!=s&&t<s.length&&null!=s[t]?s[t]:a.description+" to":i)+" "+a.name},getDescLabelsTargetZoneMask:function(t){for(var e=[],i=0,s=this.targetZones.length;i<s;){var n=i++;0!=(1<<n&t)&&e.push(this.getDescLabelTargetZone(n))}return e},getTitleLabelsTargetZoneMask:function(t){for(var e=[],i=0,s=this.targetZones.length;i<s;){var n=i++,a=this.targetZones[n];0!=(1<<n&t)&&e.push(a.name+(""!=a.description?" ("+a.description+")":""))}return e},describeTargetZones:function(t){var e="",i=t&this.swingMask,t=t&this.thrustMask;return i==this.swingMask&&t==this.thrustMask?"all swinging and thrusting attacks":(0!=i&&(i==this.swingMask?e+="all Swinging attacks":e+="Swinging attacks to the "+this.getTitleLabelsTargetZoneMask(i).join(", ")),0!=t&&(0!=i&&(e+=" and "),t==this.thrustMask?e+="all Thrusting attacks":e+="Thrusting attacks to the "+this.getTitleLabelsTargetZoneMask(t).join(", ")),e)},getLabelsHitLocationMask:function(t){for(var e=[],i=0,s=this.hitLocations.length;i<s;){var n=i++;0!=(1<<n&t)&&e.push(this.hitLocations[n].name)}return e},pushHitLocationNamesToStrArrByMask:function(t,e){for(var i=0,s=this.hitLocations.length;i<s;){var n=i++;0!=(e&1<<n)&&t.push(this.hitLocations[n].name)}},pushArmorCoverageLabelsTo:function(t,e){for(var i=0,s=O.fields(this.hitLocationHash);i<s.length;){var n=s[i];++i;var a=this.hitLocations[this.hitLocationHash[n]],n=t[n];e.push(a.name+(0!=(1&n)?"ϕ":"")+(0!=(2&n)?"*":""))}},getHitLocationLabelFromId:function(t){t=this.hitLocationHash[t];return null!=t?this.hitLocations[t].name:null},getHitLocationById:function(t){t=this.hitLocationHash[t];return null!=t?this.hitLocations[t]:null},gotSideWithId:function(t){t=this.getHitLocationById(t);return null!=t&&t.twoSided},__class__:Je},J=function(){},(i["troshx.sos.core.IBodyHitZones"]=J).__name__=["troshx","sos","core","IBodyHitZones"];var ti=function(){};(i["troshx.sos.core.Humanoid"]=ti).__name__=["troshx","sos","core","Humanoid"],ti.getNewTargetZones=function(){return[Ti.create("Head",[3,2,2,3],[4,2,1,0],0,"Downward Swing"),Ti.create("Head",[3,2,3,2],[5,3,2,1],0,"Upward Swing"),Ti.create("Neck",[3,3,2,2],[4,3,2,1]),Ti.create("Torso",[3,4,3],[7,6,5]),Ti.create("Upper Arm",[3,4,3],[15,14,4]),Ti.create("Lower Arm",[3,4,3],[17,16,15]),Ti.create("Upper Leg",[3,4,3],[11,10,8]),Ti.create("Lower Leg",[3,4,3],[13,12,11]),Ti.create("Groin",[3,4,3],[10,9,7]),Ti.create("Head",[3,4,3],[3,1,0]),Ti.create("Neck",[3,4,3],[5,3,1]),Ti.create("Chest",[3,4,2,1],[7,5,4,3]),Ti.create("Belly",[1,1,5,3],[9,8,6,7]),Ti.create("Upper Arm",[3,4,3],[15,14,4]),Ti.create("Lower Arm",[3,4,3],[17,16,15]),Ti.create("Groin",[3,4,3],[10,9,7]),Ti.create("Upper Leg",[3,4,3],[11,10,8]),Ti.create("Lower Leg",[3,4,3],[13,12,11])]},ti.getNewHitLocations=function(){return[new hi("Upper Head","upperHead"),new hi("Face","face"),new hi("Lower Head","lowerHead"),new hi("Neck","neck"),new hi("Shoulder","shoulder",!0),new hi("Chest","chest"),new hi("Side","side",!0),new hi("Belly","belly"),new hi("Hip","hip",!0),new hi("Groin","groin"),new hi("Thigh","thigh",!0),new hi("Knee","knee",!0),new hi("Shin","shin",!0),new hi("Foot","foot",!0),new hi("Upper Arm","upperArm",!0),new hi("Elbow","elbow",!0),new hi("Forearm","forearm",!0),new hi("Hand","hand",!0),new hi("Upper Back","upperBack"),new hi("Lower Back","lowerBack")]},J=function(){},(i["troshx.sos.core.BurdinadinArmory"]=J).__name__=["troshx","sos","core","BurdinadinArmory"],J=function(){this.augmentations=0,this.insulation=0},(i["troshx.sos.core.BurdinadinArmor"]=J).__name__=["troshx","sos","core","BurdinadinArmor"],J.prototype={addTagsToStrArr:function(t){0!=this.insulation&&t.push("Insulation "+this.insulation),0!=this.augmentations&&t.push("Augmentations ("+this.augmentations+")")},__class__:J},J=function(){this.spanningTools=0,this.span=0},(i["troshx.sos.core.Crossbow"]=J).__name__=["troshx","sos","core","Crossbow"],J.prototype={getSpanningToolsStrArr:function(){return Qe.getLabelsOfArray(ei.getDefaultList(),this.spanningTools)},addAmmoTagsToStrArr:function(t){0!=this.span&&t.push("Span "+(0<=this.span?"+":"")+this.span)},__class__:J};var ei=function(t,e,i,s){null==s&&(s=""),null==i&&(i=!1),null==e&&(e=0),null==t&&(t=""),Qe.call(this,s,t),this.spanBonus=e,this.storeSpan=i};function ii(){}function si(){this.firingMechanism=null,this.highCaliber=0,this.revolver=0,this.magazine=0,this.multishot=0,this.double=!1,this.load=0,this.ammunitionsCustom=null,this.ammunitions=0}function ni(t,e,i){null==i&&(i=""),null==e&&(e=0),null==t&&(t=""),this.loadingMechanismsCustom=null,Qe.call(this,i,t),this.loadingMechanisms=e}(i["troshx.sos.core.SpanningTool"]=ei).__name__=["troshx","sos","core","SpanningTool"],ei.getDefaultList=function(){return null!=ei.LIST?ei.LIST:ei.LIST=ei.getNewDefaultList()},ei.getNewDefaultList=function(){var t=[];return t[0]=new ei("Hand",0,!1,"").setWeightCost(0,0,0),t[1]=new ei("Lever",2,!1,"").setWeightCost(0,5,0),t[2]=new ei("Screw",0,!0,"").setWeightCost(0,1,1),t[3]=new ei("Stirrup",5,!1,"").setWeightCost(1,5,0),t[4]=new ei("Windlass",4,!0,"").setWeightCost(1,2,1),t[5]=new ei("Winch",6,!0,"").setWeightCost(2,3,1),t[6]=new ei("Crank",3,!0,"").setWeightCost(0,1,1),t},ei.__super__=Qe,ei.prototype=t(Qe.prototype,{__class__:ei}),(i["troshx.sos.core.DamageType"]=ii).__name__=["troshx","sos","core","DamageType"],ii.isMelee=function(t){return t<4},ii.getNewFlagVarNames=function(){var t=[];return t.push("c"),t.push("p"),t.push("b"),t.push("u"),t.push("fl"),t.push("br"),t.push("el"),t.push("cl"),t},ii.getFlagVarNames=function(){return null!=ii.FLAG_VAR_NAMES?ii.FLAG_VAR_NAMES:ii.FLAG_VAR_NAMES=ii.getNewFlagVarNames()},ii.getNewFlagLabels=function(){var t=[];return t.push("Cutting"),t.push("Piercing"),t.push("Bludgeoning"),t.push("Unarmed"),t.push("Falling"),t.push("Burn"),t.push("Electrical"),t.push("Cold"),t},ii.getFlagLabels=function(){return null!=ii.FLAG_LABELS?ii.FLAG_LABELS:ii.FLAG_LABELS=ii.getNewFlagLabels()},ii.prototype={__class__:ii},(i["troshx.sos.core.Firearm"]=si).__name__=["troshx","sos","core","Firearm"],si.prototype={addTagsToStrArr:function(t,e,i){this.double&&t.push("Double"),0!=this.multishot&&t.push("Multishot "+(e&&0<=this.multishot?"+":"")+this.multishot),0!=this.magazine&&t.push("Magazine "+(e&&0<=this.magazine?"+":"")+this.magazine),0!=this.revolver&&t.push("Revolver "+(e&&0<=this.revolver?"+":"")+this.revolver),0!=this.revolver&&t.push("High Caliber "+(e&&0<=this.highCaliber?"+":"")+this.highCaliber),i&&0!=this.load&&t.push("Load "+(e&&0<=this.load?"+":"")+this.load)},getAmmunitionsStrArr:function(){var t=Qe.getLabelsOfArray(ri.getDefaultList(),this.ammunitions);return null!=this.ammunitionsCustom&&(t=this.ammunitionsCustom.concat(t)),t},__class__:si},(i["troshx.sos.core.FiringMechanism"]=ni).__name__=["troshx","sos","core","FiringMechanism"],ni.getDefaultList=function(){return null!=ni.LIST?ni.LIST:ni.LIST=ni.getNewDefaultList()},ni.getNewDefaultList=function(){var t=[],e=new ni("Caplock",5).setWeightCost(0,12,2);return t[0]=e,e=new ni("Firelock",1),t[1]=e,e=new ni("Flintlock",5).setWeightCost(0,3,1),t[2]=e,e=new ni("Matchlock",5).setWeightCost(0,6,0),t[3]=e,e=new ni("Needlefire",10).setWeightCost(0,5,2),t[4]=e,e=new ni("Snaplock",5).setWeightCost(0,2,1),t[5]=e,e=new ni("Wheelock",5).setWeightCost(0,8,1),t[6]=e,t},ni.__super__=Qe,ni.prototype=t(Qe.prototype,{__class__:ni});var ai=function(t,e){null==e&&(e=""),null==t&&(t=""),this._showCustomTags=!0,this.isAmmo=!1,this.firearm=null,this.crossbow=null,this.requiredStr=0,this.stuckChance=0,this.missileSpecial=null,this.missileFlags=0,this.damageTypeM=1,this.damageM=0,this.atnM=0,this.range=0,this.meleeSpecial=null,this.meleeFlags=0,this.guard=0,this.dtn=0,this.damageTypeT=1,this.damageTypeS=0,this.damageT=0,this.damageS=0,this.atnT=0,this.atnS=0,this.variant=null,this.reach=4,this.ranged=!1,this.profsCustom=null,this.profs=0,this.customise=null,Qe.call(this,t,e)};(i["troshx.sos.core.Weapon"]=ai).__name__=["troshx","sos","core","Weapon"],ai.isTwoHandedOff=function(t){var e=t.meleeFlags,i=t.flags;return!t.ranged&&!t.isAmmo&&0!=(128&e)&&0!=(1&i)},ai.IsPowerOfTwoOrZero=function(t){return 0==(t&t-1)},ai.__super__=Qe,ai.prototype=t(Qe.prototype,{normalize:function(){var t;return this.ranged?(t=0!=(1&this.profs),this.ranged&&t&&!this.isAmmo||(this.requiredStr=0),this.meleeFlags=0,this.meleeSpecial=null,this.atnS=0,this.atnT=0,this.dtn=0,this.guard=0,this.damageS=0,this.damageT=0,this.damageTypeS=0,this.damageTypeT=1,this.variant=null,this.reach=4):(this.missileFlags=0,this.missileSpecial=null,this.stuckChance=0,this.requiredStr=0,this.firearm=null,this.crossbow=null,this.isAmmo=!1,this.damageTypeM=1),this},isAttachment:function(){var t=0!=(65536&this.meleeFlags),e=0!=(16&this.missileFlags);return this.ranged?e:t},isMeleeAttachmentFor:function(t){return!this.ranged&&(0!=(65536&this.meleeFlags)&&t.supportsMeleeAttachment())},supportsMeleeAttachment:function(){var t=this.ranged;return 0!=(20480&this.meleeFlags)&&!t},hasNoProf:function(){return(null==this.profsCustom||0==this.profsCustom.list.length)&&0==this.profs},matchesTypes:function(t,e){var i=this.profs;return this.ranged==t&&(null==e||0!=(e&i))},isMelee:function(){return!this.ranged&&!this.isAmmo},isRangedWeap:function(){return!!this.ranged&&!this.isAmmo},isBow:function(){var t=0!=(1&this.profs);return!(!this.ranged||!t)&&!this.isAmmo},isSling:function(){var t=0!=(2&this.profs);return!(!this.ranged||!t)&&!this.isAmmo},isCrossbow:function(){var t=0!=(4&this.profs);return!(!this.ranged||!t||this.isAmmo)&&null!=this.crossbow},isFirearm:function(){var t=0!=(8&this.profs);return!(!this.ranged||!t||this.isAmmo)&&null!=this.firearm},isThrowing:function(){var t=0!=(16&this.profs);return!(!this.ranged||!t)&&!this.isAmmo},isAmmunition:function(){return!!this.isAmmo&&this.ranged},profLabelStdFirst:function(){return mi.getLabelsOfArrayProfs(this.ranged?null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged():mi.getCoreMelee(),this.profs)[0]},profLabels:function(){var t=mi.getLabelsOfArrayProfs(this.ranged?null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged():mi.getCoreMelee(),this.profs);if(null!=this.profsCustom)for(var e=0,i=this.profsCustom.list.length;e<i;){var s=e++;t.push(this.profsCustom.list[s].name)}return t.join(", ")},addTagsToStrArr:function(t){Qe.prototype.addTagsToStrArr.call(this,t);var e;this.ranged?this.missileFlags:this.meleeFlags;if(this.ranged){for(var i=0,s=(e=di.getLabelsOfFlags(this.missileSpecial,this.missileFlags)).length;i<s;){var n=i++;t.push(e[n])}this.isAmmo&&(null!=this.crossbow&&0!=(4&this.profs)&&this.crossbow.addAmmoTagsToStrArr(t),0!=(1&this.profs)&&0!=this.requiredStr&&t.push("Required STR "+(0<=this.requiredStr?"+":"")+this.requiredStr)),null!=this.firearm&&0!=(8&this.profs)&&this.firearm.addTagsToStrArr(t,this.isAmmo,this.isAmmo)}else{for(var a=0,r=(e=gi.getLabelsOfFlags(this.meleeSpecial,this.meleeFlags)).length;a<r;){var o=a++;t.push(e[o])}null!=this.customise&&this._showCustomTags&&this.customise.addMeleeTagsToStrArr(t)}},isMultipleCoreProf:function(){if(0==this.profs)return!1;var t=this.profs;return 0!=(t&t-1)},hasCustomProf:function(){return null!=this.profsCustom&&0<this.profsCustom.list.length},setSingleProfIndex:function(t){this.profs=1<<t},setMultipleProf:function(t){this.profs=t},get_uid:function(){return Qe.prototype.get_uid.call(this)+(null!=this.customise?"_"+this.customise.get_uid():"")},getWeapLabel:function(t){var e=0!=(8&this.profs),e=!(!this.ranged||!e||this.isAmmo||null==this.firearm)&&null!=this.firearm.firingMechanism,e=e?this.firearm.firingMechanism.name+" ":"";return e+this.name+(t?"*":"")+(null!=this.customise?" *"+(null!=this.customise.name?this.customise.name:this.customise.get_uid())+"*":"")},get_label:function(){var t=0!=(8&this.profs),t=!(!this.ranged||!t||this.isAmmo||null==this.firearm)&&null!=this.firearm.firingMechanism,t=t?this.firearm.firingMechanism.name+" ":"";return t+this.name+""+(null!=this.customise?" *"+(null!=this.customise.name?this.customise.name:this.customise.get_uid())+"*":"")},getLabelHeld:function(t){var e=0!=(8&this.profs),e=!(!this.ranged||!e||this.isAmmo||null==this.firearm)&&null!=this.firearm.firingMechanism,e=e?this.firearm.firingMechanism.name+" ":"";return e+this.name+(t?"*":"")+(null!=this.customise?" *"+(null!=this.customise.name?this.customise.name:this.customise.get_uid())+"*":"")},getTypeLabel:function(){return"Weapon"},__class__:ai});var ri=function(t,e,i){null==i&&(i=""),null==e&&(e=0),null==t&&(t=""),ai.call(this,i,t),this.stuckChance=e,this.ranged=!0,this.isAmmo=!0,this.firearm=new si,this.profs=8};function oi(t,e,i){null==i&&(i=100),null==e&&(e=0),null==t&&(t=""),this.name=t,this.loadBonus=e,this.ammunitionCostModifier=i}(i["troshx.sos.core.Ammunition"]=ri).__name__=["troshx","sos","core","Ammunition"],ri.getDefaultList=function(){return null!=ri.LIST?ri.LIST:ri.LIST=ri.getNewDefaultList()},ri.getNewDefaultList=function(){var t=[],e=new ri("Ball",9).setWeightCost(0,1,0).setUnit(10);return(t[0]=e).missileSpecial=new di,e.missileSpecial.AP=4,e=new ri("Buck and Ball",9).setWeightCost(0,1,0).setUnit(10),(t[1]=e).missileSpecial=new di,e.missileSpecial.scatter=3,e.missileSpecial.scatter_y=6,e.missileSpecial.AP=2,e.missileFlags=8,e=new ri("Heavy Shot",9).setWeightCost(0,3,0).setUnit(10),(t[2]=e).missileSpecial=new di,e.missileSpecial.scatter=8,e.missileSpecial.scatter_y=6,e=new ri("Rifle Ball",8).setWeightCost(0,6,0).setUnit(10),(t[3]=e).atnM=-1,e.missileSpecial=new di,e.missileSpecial.AP=4,e.firearm=new si,e.firearm.load=-10,e=new ri("Shot",9).setWeightCost(0,1,0).setUnit(10),(t[4]=e).missileSpecial=new di,e.missileSpecial.scatter=6,e.missileSpecial.scatter_y=6,e=new ri("Spike",1).setWeightCost(0,1,0),(t[5]=e).damageM=2,e.atnM=-1,e.range=3,e.firearm=new si,e.firearm.load=10,t},ri.__super__=ai,ri.prototype=t(ai.prototype,{__class__:ri}),(i["troshx.sos.core.LoadingMechanism"]=oi).__name__=["troshx","sos","core","LoadingMechanism"],oi.getDefaultList=function(){return null!=oi.LIST?oi.LIST:oi.LIST=oi.getNewDefaultList()},oi.getNewDefaultList=function(){var t=[],e=new oi("Manual",0,100);return t[0]=e,e=new oi("Brass Catridge",10,1e3),t[1]=e,e=new oi("Paper Catridge",3,200),t[2]=e,e=new oi("Paper Mache Catridge",5,300),t[3]=e,t},oi.prototype={get_ammunitionCostRatio:function(){return this.ammunitionCostModifier/100},__class__:oi};var hi=function(t,e,i){null==i&&(i=!1),this.name=t,this.id=e,this.twoSided=i};(i["troshx.sos.core.HitLocation"]=hi).__name__=["troshx","sos","core","HitLocation"],hi.prototype={get_uid:function(){return this.id},__class__:hi};var li=function(){this.cp=0,this.sp=0,this.gp=0};function ci(){this.version=3,this.shieldPosition=0,this.weapons=[],this.shields=[],this.equipedNonMeleeItems=[],this.wornArmor=[],this.dropPack=!1,this.packed=new st,this.dropped=new st}(i["troshx.sos.core.Money"]=li).__name__=["troshx","sos","core","Money"],li.create=function(t,e,i){var s=new li;return s.gp=t,s.sp=e,s.cp=i,s},li.getLabelWith=function(t,e,i){return(0!=t?t+" gp":"")+(0!=e?(0!=t?" ":"")+e+" sp":"")+(0!=i?(0!=e||0!=t?" ":"")+i+" cp":"")},li.prototype={matchWith:function(t){return this.gp=t.gp,this.sp=t.sp,this.cp=t.cp,this},matchWithValues:function(t,e,i){return this.gp=t,this.sp=e,this.cp=i,this},isNegative:function(){return this.cp<0},changeToHighest:function(){var t;return 12<this.cp&&(t=.08333333333333333*this.cp|0,this.sp+=t,this.cp-=12*t),20<this.sp&&(t=.05*this.sp|0,this.gp+=t,this.sp-=20*t),this},getLabel:function(){return(0!=this.gp?this.gp+" gp":"")+(0!=this.sp?(0!=this.gp?" ":"")+this.sp+" sp":"")+(0!=this.cp?(0!=this.sp||0!=this.gp?" ":"")+this.cp+" cp":"")},tempCalc:function(){return li.TEMP.matchWith(this)},resetTo:function(t){return t.matchWith(this),t},addValues:function(t,e,i){return this.gp+=t,this.sp+=e,this.cp+=i,this},getCPValue:function(){return 240*this.gp+12*this.sp+this.cp},getGoldValue:function(){return this.gp+.05*this.sp+.004166666666666667*this.cp},getSilverValue:function(){return 20*this.gp+this.sp+.08333333333333333*this.cp},convertAllToCP:function(){var t=240*this.gp+12*this.sp+this.cp;return this.gp=0,this.sp=0,this.cp=t,this},addCP:function(t){return this.cp+=t,this},subtractCP:function(t){return this.cp-=t,this.cp<0&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp<0&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},addAgainst:function(t){return this.gp+=t.gp,this.sp+=t.sp,this.cp+=t.cp,this},subtractValues:function(t,e,i){return this.gp-=t,this.gp<0&&(this.sp+=20*this.gp,this.gp=0),this.sp-=e,this.sp<0&&(this.cp+=12*this.sp,this.sp=0),this.cp-=i,this.cp<0&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp<0&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},naiveChangeNegativeCP:function(){this.cp<0&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp<0&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0))},subtractAgainst:function(t){return this.gp-=t.gp,this.gp<0&&(this.sp+=20*this.gp,this.gp=0),this.sp-=t.sp,this.sp<0&&(this.cp+=12*this.sp,this.sp=0),this.cp-=t.cp,this.cp<0&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp<0&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},_resetToZero:function(){this.sp=0,this.cp=0,this.gp=0},resetToZero:function(){return this.sp=0,this.cp=0,this.gp=0,this},__class__:li},(i["troshx.sos.core.Inventory"]=ci).__name__=["troshx","sos","core","Inventory"],ci.getUnheldLabelsArray=function(){var t=[];return t.push(""),t.push("Sheath/Holster"),t.push("Strapped-Arm"),t.push("Strapped-Shoulder"),t.push("Back"),t.push("Concealed"),t.push("DISABLED"),t},ci.getReachBetween=function(t,e){return on.maxI(null!=t?t.reach:1,null!=e?e.reach:1)},ci.sortBetweenAttachmentItems=function(t,e){t=t.get_label().toLowerCase(),e=e.get_label().toLowerCase();return t<e?-1:e<t?1:0},ci.sortBetweenSorted=function(t,e){t=t.sortVal,e=e.sortVal;return t<e?-1:e<t?1:0},ci.sortBetweenSortedReversed=function(t,e){t=t.sortVal,e=e.sortVal;return t<e?1:e<t?-1:0},ci.isWeaponary=function(t){return!!j.__instanceof(t,ai)||j.__instanceof(t,wi)},ci.getReadyAssignOf=function(t){return j.__instanceof(t,ai)?{weapon:t,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++,attached:!1,holding1H:!1}:j.__instanceof(t,wi)?{shield:t,attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}:j.__instanceof(t,$e)?{armor:t,attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}:{item:t,attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}},ci.getEmptyReadyAssign=function(t){return"weapon"==t?{weapon:new ai,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++,holding1H:!1,attached:!1}:"shield"==t?{shield:new wi,attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}:"armor"==t?{armor:$e.createEmptyInstance(),attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}:{item:new Qe,attached:!1,held:0,unheld:0,unheldRemark:"",key:ci.UID_COUNT++}},ci.prototype={setNewDroppedList:function(t){this.dropped=t},getSignaler:function(){return null!=this.signaler?this.signaler:this.signaler=this.createSignaler()},createSignaler:function(){return this.signaler=new z,this.signaler},setSignaler:function(t){null!=this.signaler&&t!=this.signaler&&this.signaler.removeAll(),this.signaler=t},dispatchSignal:function(t){(null!=this.signaler?this.signaler:this.signaler=this.createSignaler()).dispatch(t)},findOffHandItem:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(2==this.weapons[i].held)return this.weapons[i].weapon}for(var s=0,n=this.shields.length;s<n;){var a=s++;if(2==this.shields[a].held)return this.shields[a].shield}for(var r=0,o=this.equipedNonMeleeItems.length;r<o;){var h=r++;if(2==this.equipedNonMeleeItems[h].held)return this.equipedNonMeleeItems[h].item}return null},findOffHandAssign:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(2==this.weapons[i].held)return this.weapons[i]}for(var s=0,n=this.shields.length;s<n;){var a=s++;if(2==this.shields[a].held)return this.shields[a]}for(var r=0,o=this.equipedNonMeleeItems.length;r<o;){var h=r++;if(2==this.equipedNonMeleeItems[h].held)return this.equipedNonMeleeItems[h]}return null},findMasterHandItem:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(0!=(1&this.weapons[i].held))return this.weapons[i].weapon}for(var s=0,n=this.shields.length;s<n;){var a=s++;if(0!=(1&this.shields[a].held))return this.shields[a].shield}for(var r=0,o=this.equipedNonMeleeItems.length;r<o;){var h=r++;if(0!=(1&this.equipedNonMeleeItems[h].held))return this.equipedNonMeleeItems[h].item}return null},findMasterHandAssign:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(0!=(1&this.weapons[i].held))return this.weapons[i]}for(var s=0,n=this.shields.length;s<n;){var a=s++;if(0!=(1&this.shields[a].held))return this.shields[a]}for(var r=0,o=this.equipedNonMeleeItems.length;r<o;){var h=r++;if(0!=(1&this.equipedNonMeleeItems[h].held))return this.equipedNonMeleeItems[h]}return null},getOffhandWeaponAssign:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(2==this.weapons[i].held)return this.weapons[i]}return null},getMasterWeaponAssign:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(0!=(1&this.weapons[i].held))return this.weapons[i]}return null},getOffhandWeapon:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(2==this.weapons[i].held){i=this.weapons[i];return i.holding1H&&null!=i.weapon.variant?i.weapon.variant:i.weapon}}return null},getMasterWeapon:function(){for(var t=0,e=this.weapons.length;t<e;){var i=t++;if(0!=(1&this.weapons[i].held)){i=this.weapons[i];return i.holding1H&&null!=i.weapon.variant?i.weapon.variant:i.weapon}}return null},getReach:function(){var t=this.getMasterWeapon(),e=this.getOffhandWeapon();return on.maxI(null!=t?t.reach:1,null!=e?e.reach:1)},findHeldShieldAssign:function(){for(var t=0,e=this.shields.length;t<e;){var i=t++;if(2==this.shields[i].held)return this.shields[i]}for(var s=0,n=this.shields.length;s<n;){var a=s++;if(0!=this.shields[a].held)return this.shields[a]}return null},findHeldShield:function(){var t=this.findHeldShieldAssign();return null!=t?t.shield:null},getSortedWeapons:function(t,e,i,s){null==s&&(s=!1),null==i&&(i=!1);for(var n=this.getWeildableWeaponsTypeFiltered(t,e,s),a=[],r=0,o=n.length;r<o;){var h=r++,l=n[h];a[h]={assign:l,sortVal:t?l.weapon.atnM:10-l.weapon.reach+(l.weapon.atnS/10+l.weapon.atnT/10+l.weapon.dtn/10)/3}}return a.sort(i?ci.sortBetweenSortedReversed:ci.sortBetweenSorted),a},getSortedShields:function(t,e){null==e&&(e=!1),null==t&&(t=!1);for(var i=[],s=0,n=this.shields.length;s<n;){var a=s++,a=this.shields[a];e&&0!=a.unheld||i.push({assign:a,sortVal:10-a.shield.size+a.shield.blockTN/10})}return i.sort(t?ci.sortBetweenSortedReversed:ci.sortBetweenSorted),i},getWeildableWeaponsTypeFiltered:function(t,e,i){null==i&&(i=!1);for(var s=[],n=0,a=this.weapons.length;n<a;){var r,o,h=n++,l=this.weapons[h];i&&0!=l.held||(o=(r=l.weapon).matchesTypes(t,e),!(r.isAmmo&&r.ranged||!o)&&(h=0!=(65536&r.meleeFlags),o=0!=(16&r.missileFlags),!(r.ranged?o:h))&&s.push(l))}return s},get_ammoFiltered:function(){for(var t=[],e=0,i=this.weapons.length;e<i;){var s=e++,n=this.weapons[s],s=this.weapons[s].weapon;s.isAmmo&&s.ranged&&t.push(n)}return t},compareItemsEq:function(t,e){var i=new G,s=new G;return i.serialize(t),s.serialize(e),i.toString()==s.toString()},_shiftItem:function(t,e,i,s){var n,a;{if(null==i&&(i=1),i<=0&&(i=1),0<e)return 4==e?null:1!=e?2!=e?(console.log("Unaccounted prefered unheld case: "+e),null):((a=new ui(t,i)).attachments=s,!!(null!=(n=this.dropped.getMatchingItem(a))&&n.item!=a.item)&&!this.compareItemsEq(n.item.normalize(),a.item.normalize())?a:(this.dropped.add(a),null)):((a=new ui(t,i)).attachments=s,!!(null!=(n=this.packed.getMatchingItem(a))&&n.item!=a.item)&&!this.compareItemsEq(n.item.normalize(),a.item.normalize())?a:(this.packed.add(a),null));if(e<0){t=new ui(t);return(-2==e?this.dropped:this.packed).splicedAgainst(t),null}}return null},packItemEntryFromGround:function(t,e){null==e&&(e=0),0==e?e=t.qty:t=t.getQtyCopy(e);e=this._shiftItem(t.item,1,e);return null!=e?e:(this.dropped.splicedAgainst(t),this.dispatchSignal(Ri.PackItem),null)},dropItemEntryFromPack:function(t,e){null==e&&(e=0),0==e?e=t.qty:t=t.getQtyCopy(e);e=this._shiftItem(t.item,2,e);return null!=e?e:(this.packed.splicedAgainst(t),this.dispatchSignal(Ri.DropItem),null)},equipItemEntryFromGround:function(t,e){return null==e&&(e=""),this.dropped.splicedAgainst(new ui(t.item,1)),this.dispatchSignal(Ri.EquipItem),this.equipItem(t.item,e)},equipItemEntryFromPack:function(t,e){return null==e&&(e=""),this.packed.splicedAgainst(new ui(t.item,1)),this.dispatchSignal(Ri.EquipItem),this.equipItem(t.item,e)},holdEquiped:function(t,e){this._unholdAllItems(e,Object.prototype.hasOwnProperty.call(t,"shield")),t.held=e,this.dispatchSignal(Ri.HoldItem)},getPerceptionPenalty:function(){for(var t=0,e=0,i=this.wornArmor.length;e<i;){var s=e++;t+=this.wornArmor[s].armor.pp}return t},calculateTotalWeight:function(t,e){null==e&&(e=!1),null==t&&(t=!1);var i=0;if(e)for(var s=0,n=this.dropped.list.length;s<n;){var a=s++;i+=this.dropped.list[a].item.weight*this.dropped.list[a].qty}if(!this.dropPack||t)for(var r=0,o=this.packed.list.length;r<o;){var h=r++;i+=this.packed.list[h].item.weight*this.packed.list[h].qty}for(var l=0,c=this.wornArmor.length;l<c;){var R=l++;i+=this.wornArmor[R].armor.weight}for(var u=0,y=this.equipedNonMeleeItems.length;u<y;){var g=u++;i+=this.equipedNonMeleeItems[g].item.weight}for(var d=0,p=this.shields.length;d<p;){var _=d++;i+=this.shields[_].shield.weight}for(var f=0,m=this.weapons.length;f<m;){var v=f++;i+=0==this.weapons[v].held?this.weapons[v].weapon.weight:0}return i},normalizeDroppedItems:function(){for(var t=0,e=this.dropped.list.length;t<e;){var i=t++;this.dropped.list[i].item.normalize()}},normalizeAllItems:function(){for(var t=0,e=this.dropped.list.length;t<e;){var i=t++;this.dropped.list[i].item.normalize()}for(var s=0,n=this.packed.list.length;s<n;){var a=s++;this.packed.list[a].item.normalize()}for(var r=0,o=this.wornArmor.length;r<o;){var h=r++;this.wornArmor[h].armor.normalize()}for(var l=0,c=this.equipedNonMeleeItems.length;l<c;){var R=l++;this.equipedNonMeleeItems[R].item.normalize()}for(var u=0,y=this.shields.length;u<y;){var g=u++;this.shields[g].shield.normalize()}for(var d=0,p=this.weapons.length;d<p;){var _=d++;this.weapons[_].weapon.normalize()}},calculateTotalCost:function(t){null==t&&(t=!1);var e=ci.MONEY_CALC_CACHE;if(e[0]=0,e[1]=0,e[2]=0,t)for(var i=0,s=this.dropped.list.length;i<s;){var n,a=i++;e[(n=this.dropped.list[a]).item.costCurrency]+=n.item.cost*n.qty}for(var r=0,o=this.packed.list.length;r<o;){var h=r++;e[(n=this.packed.list[h]).item.costCurrency]+=n.item.cost*n.qty}for(var l=0,c=this.wornArmor.length;l<c;){var R,u=l++;e[(R=this.wornArmor[u].armor).costCurrency]+=R.cost}for(var y=0,g=this.equipedNonMeleeItems.length;y<g;){var d=y++;e[(R=this.equipedNonMeleeItems[d].item).costCurrency]+=R.cost}for(var p=0,_=this.shields.length;p<_;){var f=p++;e[(R=this.shields[f].shield).costCurrency]+=R.cost}for(var m=0,v=this.weapons.length;m<v;){var b=m++;e[(R=this.weapons[b].weapon).costCurrency]+=R.cost}t=ci.MONEY_REF;return t.matchWithValues(e[2],e[1],e[0]),t.changeToHighest()},getAttachmentArray:function(t,e,i){if(e<0||e+1>=t.length||!t[e+1].attached)return null;for(var s=[],n=e,a=t.length;n<a;){var r=n++;if(s.push(O.field(t[r],i)),!t[r].attached)break}return s.sort(ci.sortBetweenAttachmentItems),s},cleanupShieldLabels:function(){for(var t=0,e=this.shields.length;t<e;){var i=t++;this.shields[i].shield.tempFixSpecsFromName()}},refreshHalfArmorLabels:function(){for(var t=0,e=this.wornArmor.length;t<e;){var i,s=t++,n=this.wornArmor[s],a=n.armor.name;"("==a.charAt(0)?(i=a.indexOf(" "),s=D.substr(a,i,null),(i="_"==(a=D.substr(a,0,i)).charAt(a.length-1))&&(a=D.substr(a,0,a.length-1)),"(Half)"==a||"(single)"==a?("(Half)"==a&&(a="(single)",n.armor.name=a+(i?"_":"")+" "+s),n.half=i?2:1):n.half=4):n.half=4}},weildMeleeEquip:function(t){var e=this.findMasterHandItem(),i=this.findOffHandItem();null!=e&&(j.__instanceof(e,ai)||j.__instanceof(e,wi)||(e=null)),null!=i&&(j.__instanceof(i,ai)||j.__instanceof(i,wi)||(i=null));var s,n=null;if(!(null==e&&(null==n&&(n=this.getSortedWeapons(!1,t,!0,!0)),0<n.length&&(s=n.pop(),this.holdEquiped(s.assign,0!=(1&s.assign.weapon.flags)?3:1),0!=(1&s.assign.weapon.flags))))&&null==i)if(0<(i=this.getSortedShields(!0,!0)).length)this.holdEquiped(i.pop().assign,2);else for(null==n&&(n=this.getSortedWeapons(!1,t,!0,!0));0<n.length;)if(0==(1&(s=n.pop()).assign.weapon.flags))return void this.holdEquiped(s.assign,2)},dropEquipedShield:function(t,e){null==e&&(e=!1);var i=this.shields.indexOf(t);if(!e){t=this._shiftItem(t.shield,2,1);if(null!=t)return t}return this.shields.splice(i,1),this.dispatchSignal(e?Ri.DeleteItem:Ri.DropItem),null},dropMiscItem:function(t,e){null==e&&(e=!1);var i=this.equipedNonMeleeItems.indexOf(t);if(!e){t=this._shiftItem(t.item,2,1,this.getAttachmentArray(this.equipedNonMeleeItems,i,"item"));if(null!=t)return t}return this.equipedNonMeleeItems.splice(i,1),this.dispatchSignal(e?Ri.DeleteItem:Ri.DropItem),null},dropEquipedWeapon:function(t,e){null==e&&(e=!1);var i=this.weapons.indexOf(t);if(!e){t=this._shiftItem(t.weapon,2,1,this.getAttachmentArray(this.weapons,i,"weapon"));if(null!=t)return t}return this.weapons.splice(i,1),this.dispatchSignal(e?Ri.DeleteItem:Ri.DropItem),null},dropWornArmor:function(t,e){null==e&&(e=!1);var i=this.wornArmor.indexOf(t);if(!e){t=this._shiftItem(t.armor,2,1,this.getAttachmentArray(this.wornArmor,i,"armor"));if(null!=t)return t}return this.wornArmor.splice(i,1),this.dispatchSignal(e?Ri.DeleteItem:Ri.DropItem),null},packEquipedShield:function(t){var e=this.shields.indexOf(t),t=this._shiftItem(t.shield,1,1);return null!=t?t:(this.shields.splice(e,1),this.dispatchSignal(Ri.PackItem),null)},packMiscItem:function(t){var e=this.equipedNonMeleeItems.indexOf(t),t=this._shiftItem(t.item,1,1,this.getAttachmentArray(this.equipedNonMeleeItems,e,"item"));return null!=t?t:(this.equipedNonMeleeItems.splice(e,1),this.dispatchSignal(Ri.PackItem),null)},packEquipedWeapon:function(t){var e=this.weapons.indexOf(t),t=this._shiftItem(t.weapon,1,1,this.getAttachmentArray(this.weapons,e,"weapon"));return null!=t?t:(this.weapons.splice(e,1),this.dispatchSignal(Ri.PackItem),null)},packWornArmor:function(t){var e=this.wornArmor.indexOf(t),t=this._shiftItem(t.armor,1,1,this.getAttachmentArray(this.wornArmor,e,"armor"));return null!=t?t:(this.wornArmor.splice(e,1),this.dispatchSignal(Ri.PackItem),null)},deletePacked:function(t){this.packed.delete(t),this.dispatchSignal(Ri.DeleteItem)},deleteDropped:function(t){this.dropped.delete(t),this.dispatchSignal(Ri.DeleteItem)},_unholdAllItems:function(t,e){null==e&&(e=!1);for(var i=0,s=this.weapons.length;i<s;){var n=i++;0==(2&(n=this.weapons[n]).weapon.flags)&&(n.held&=~t,0!=(1&n.weapon.flags)&&3!=n.held&&(n.held=0))}for(var a=0,r=this.shields.length;a<r;){var o=a++;(o=this.shields[o]).held&=~t,0!=(2&o.shield.flags)&&!e||(o.held&=~t,0!=(1&o.shield.flags)&&3!=o.held&&(o.held=0))}for(var h=0,l=this.equipedNonMeleeItems.length;h<l;){var c=h++;0==(2&(c=this.equipedNonMeleeItems[c]).item.flags)&&(c.held&=~t,0!=(1&c.item.flags)&&3!=c.held&&(c.held=0))}},layeredWearingMaskWith:function(t,e,i){for(var s=0,n=this.wornArmor.length;s<n;){var a=s++,a=this.wornArmor[a].armor;if(a.name==e)return t.getCoverageMask(i)&a.getCoverageMask(i)}return 0},equipItem:function(t,e){var i=null;return j.__instanceof(t,ai)?(i={attached:!1,key:ci.UID_COUNT++,weapon:j.__instanceof(t,ai)?t:null,held:0,unheld:0,unheldRemark:e,holding1H:!1},this.weapons.push(i)):j.__instanceof(t,wi)?(i={key:ci.UID_COUNT++,attached:!1,shield:j.__instanceof(t,wi)?t:null,held:0,unheld:0,unheldRemark:e},this.shields.push(i)):j.__instanceof(t,$e)?(i={key:ci.UID_COUNT++,attached:!1,armor:j.__instanceof(t,$e)?t:null,held:0,unheld:0,unheldRemark:e},this.wornArmor.push(i)):(i={key:ci.UID_COUNT++,attached:!1,item:t,held:0,unheld:0,unheldRemark:e},this.equipedNonMeleeItems.push(i)),i},getEquipedAssignList:function(t){return"weapon"==t?this.weapons:"shield"==t?this.shields:"armor"==t?this.wornArmor:this.equipedNonMeleeItems},cleanupBeforeSerialize:function(){this.setSignaler(null)},postSerialization:function(){this.postSerialize_2(),this.postSerialize_3()},postSerialize_2:function(){if(!(null==this.version||this.version<2))return!1;this.version=2;for(var t=0,e=this.wornArmor.length;t<e;){var i=t++;null==this.wornArmor[i].armor.burdinadin&&(this.wornArmor[i].armor.burdinadin=null)}for(var s=0,n=this.dropped.list.length;s<n;){var a=s++,a=this.dropped.list[a].item,r=j.__instanceof(a,$e)?a:null;j.__instanceof(a,ai);null!=r&&null==r.burdinadin&&(r.burdinadin=null)}for(var o=0,h=this.packed.list.length;o<h;){var l=o++,l=this.packed.list[l].item;r=j.__instanceof(l,$e)?l:null,j.__instanceof(l,ai),null!=r&&null==r.burdinadin&&(r.burdinadin=null)}return!0},postSerialize_3:function(){if(!(null==this.version||this.version<3))return!1;this.version=3;for(var t=0,e=this.weapons.length;t<e;){var i=t++;null==this.weapons[i].holding1H&&(this.weapons[i].holding1H=!1)}return!0},__class__:ci};var Ri=i["troshx.sos.core.InventorySignal"]={__ename__:["troshx","sos","core","InventorySignal"],__constructs__:["DeleteItem","PackItem","DropItem","EquipItem","HoldItem"]};Ri.DeleteItem=["DeleteItem",0],Ri.DeleteItem.toString=n,(Ri.DeleteItem.__enum__=Ri).PackItem=["PackItem",1],Ri.PackItem.toString=n,(Ri.PackItem.__enum__=Ri).DropItem=["DropItem",2],Ri.DropItem.toString=n,(Ri.DropItem.__enum__=Ri).EquipItem=["EquipItem",3],Ri.EquipItem.toString=n,(Ri.EquipItem.__enum__=Ri).HoldItem=["HoldItem",4],Ri.HoldItem.toString=n,Ri.HoldItem.__enum__=Ri;var ui=function(t,e){null==e&&(e=1),this.attachments=null,this.item=null!=t?t:new Qe,this.qty=e};function yi(t,e){this.stun=0,this.damageType=-1,this.damage=0,this.reach=0,this.costVaries=!1,this.costFuncInputs=0,this.cost=0,this.bs=0,this.tn=0,this.usingHands=0,this.tags=0,this.targetZoneMode=0,this.reqStuffs=null,this.requisites=0,this.attackTypes=0,this.types=0,this.isSuperior=!1,this.id=t,this.name=e}(i["troshx.sos.core.ItemQty"]=ui).__name__=["troshx","sos","core","ItemQty"],ui.__interfaces__=[A,m,y],ui.prototype={isValid:function(){return 0<this.qty&&null!=this.item&&null!=this.item.name&&""!=r.trim(this.item.name)},getQtyCopy:function(t){t=new ui(this.item,t);return t.attachments=this.attachments,t},getAttachmentsId:function(){for(var t="",e=0,i=this.attachments.length;e<i;){var s=e++;t+="+"+this.attachments[s].get_uid()}return t},getAttachmentsLabels:function(){for(var t="",e=0,i=this.attachments.length;e<i;){var s=e++;t+="+"+this.attachments[s].get_label()}return t},updateAgainst:function(t){this.qty+=t.qty},spliceAgainst:function(t){return this.qty-=t.qty,this.qty},get_uid:function(){return this.item.get_uid()+(null!=this.attachments?this.getAttachmentsId():"")},get_label:function(){return this.item.get_label()+(null!=this.attachments?this.getAttachmentsLabels():"")},__class__:ui},(i["troshx.sos.core.Manuever"]=yi).__name__=["troshx","sos","core","Manuever"],yi.__interfaces__=[y,u],yi.specificTargetZoneModeMask=function(t){return-t},yi.hasInitiative=function(t,e){return(t==e.a?-1:t==e.b?1:0)==e.initiative},yi.getMap=function(){return null!=yi.MAP?yi.MAP:yi.MAP=yi.getNewMap()},yi.getNewMap=function(){return hn.createStrMapFromArray(yi.getNewArray())},yi.getArray=function(){return null!=yi.ARRAY?yi.ARRAY:yi.ARRAY=yi.getNewArray()},yi.getNewArray=function(){return[new yi("","")._tn(-1),new yi("swing","Swing")._types(2)._requisite(1)._attackTypes(1),new Oi,new Hi,new yi("thrust","Thrust")._types(2)._requisite(1)._attackTypes(2),new rs,new qi,new Ui,new Fi,new Bi,new Ci,new ki,new Vi,new Ei,new Di,new yi("parry","Parry")._types(1)._requisite(1)._tags(64),new os,new Ii,new Ni,new yi("void","Void")._types(1)._tags(128)._tn(8)._bs(2),new Gi,new Yi,new Wi,new yi("block","Block")._types(1)._requisite(2)._tags(256),new ls,new us,new hs,new cs,new Ki,new yi("buttStrike","Butt Strike")._types(2)._requisite(1)._attackTypes(1),new yi("pommelStrike","Pommel Strike")._types(2)._requisite(1)._attackTypes(2)._tn(6)._superior(),new yi("halfSword","Half-Sword")._types(8)._requisite(1)._tags(1536)._costs(1),new yi("murderStrike","Murder Strike")._types(8)._requisite(1)._tags(1536)._costs(2),new Rs,new Ji,new $i,new is,new es,new ss,new ts,new ns,new as,new Zi,new ys,new Pi,new Xi,new yi("doNothing","Do Nothing")._types(0)._costs(0,-1)._superiorInit(function(t){t.name="Focus"}),new yi("masterStrike","Masterstrike")._types(0)._costs(2)._superior(),new yi("doubleAttack","Double Attack")._types(0)._costs(1),new yi("doubleShot","Double Shot")._types(0)._costs(2),new yi("quickDefense","Quick Defense")._types(0)._costs(2),new yi("quickDraw","Quick Draw")._types(0)._costs(1,-1)._tags(1024),new yi("allyDefense","Ally Defense")._types(0)._costs(2)._tags(1025),new yi("threadNeedle","Thread the Needle")._types(0)._tags(3072),new yi("rapidRise","Rapid Rise")._types(0)._tags(3072)._costs(3,-1),new yi("guardedAttack","Guarded Attack")._types(0)]},yi.prototype={_types:function(t){return this.types=t,this},_attackTypes:function(t){return this.attackTypes=t,this},_requisite:function(t,e){return this.requisites=t,this.reqStuffs=e,this},getAvailability:function(t,e,i){return!0},validForTargetZone:function(t){if(0!=this.targetZoneMode){if(1==this.targetZoneMode)return j.__instanceof(t.activeEnemyItem,ai);if(2==this.targetZoneMode)return j.__instanceof(t.activeEnemyItem,wi)}if(0!=this.targetZoneMode&&0==(4&this.targetZoneMode))return!0;if(0==this.attackTypes||t.activeEnemyZone<0)return!0;var e=t.activeEnemyBody.isThrusting(t.activeEnemyZone)?2:1,t=this.attackTypes;return 0!=(4&t)&&(t|=2),0!=(e&t)},_targetZoneMode:function(t){return this.targetZoneMode=t,this},_superior:function(t){return(null!=t?t:this.clone()).isSuperior=!0,this},_superiorInit:function(t){var e=this.clone();return e.isSuperior=!0,t(e),this},clone:function(){var t=W.createEmptyInstance(j.getClass(this));return this.clonePropertiesFrom(t),t},clonePropertiesFrom:function(t){t.name=this.name,t.cost=this.cost,t.costFuncInputs=this.costFuncInputs,t.types=this.types,t.attackTypes=this.attackTypes,t.requisites=this.requisites,t.reqStuffs=this.reqStuffs,t.targetZoneMode=this.targetZoneMode,t.tags=this.tags,t.usingHands=this.usingHands,t.tn=this.tn,t.bs=this.bs,t.damage=this.damage,t.damageType=this.damageType,t.stun=this.stun,t.reach=this.reach},getSecondary:function(){return null},_tags:function(t){return this.tags=t,this},_usingHands:function(t){return this.usingHands=t,this},_tn:function(t){return this.tn=t,this},_bs:function(t){return this.bs=t,this},isDeferedCost:function(){return-2==this.costFuncInputs},_costs:function(t,e,i){return null==i&&(i=!1),null==e&&(e=0),this.cost=t,this.costFuncInputs=e,this.costVaries=i,this},_reach:function(t){return this.reach=0,this},hasOwnReach:function(){return 0<this.reach},isRanged:function(){return this.reach<0},_ranged:function(){return this.reach=-1,this},getMaxInvest:function(t,e,i){return-1},_damage:function(t,e,i){return null==i&&(i=0),this.damageType=t,this.damage=e,this.stun=i,this},hasOwnDamage:function(){return 0<=this.damageType},handleEvent:function(t,e,i,s){return!1},getCost:function(t,e,i){return this.cost},resolve:function(t,e,i){},getTN:function(t){return 0!=this.requisites?this.getRequisiteTN(t):this.tn},getRequisiteTN:function(t){var e=t.activeItem,i=this.requisites,s=this.types;0!=t.typePreference&&(s=t.typePreference&s);var n,a=j.__instanceof(e,wi)?e:null,r=j.__instanceof(e,ai)?e:null,o=0;if(o|=null!=a?2:0,o|=null!=r?1:0,0!=(8&i)){if(null==e)return-1;if(null!=this.reqStuffs){if(this.reqStuffs.indexOf(e.name)<0)return-1}else if(8==i&&0!=o)return-1}return 0!=(4&(i&=7))&&null!=e&&!this.itemAsUnarmedAllowed(e)||(o&(i&=3))!=i?-1:0!=(1&i)?(n=0!=(2&s)?this.reach<0?r.atnM:t.activeEnemyBody.isThrusting(t.activeEnemyZone)?r.atnT:r.atnS:r.dtn)<=0?-1:0<this.tn?this.tn:n:0!=(2&i)?(n=0!=(2&s)?a.bashTN:a.blockTN)<=0?-1:0<this.tn?this.tn:n:this.tn},itemAsUnarmedAllowed:function(t){return!1},get_uid:function(){return this.id},__class__:yi};var gi=function(){this.custom=null,this.spatulateTip=0,this.shock=0,this.multiHit_Y=0,this.multiHit=0,this.draw=0,this.crushing=0,this.chain=0,this.bleed=0,this.APThrust=0,this.APSwing=0};(i["troshx.sos.core.MeleeSpecial"]=gi).__name__=["troshx","sos","core","MeleeSpecial"],gi.getLabelsOfFlags=function(t,e){null==e&&(e=0);var i=[];return 0!=e&&(0!=(1&e)&&i.push("Brace"),0!=(2&e)&&i.push("Calvary Sword"),0!=(4&e)&&i.push("Companion Weapon"),0!=(8&e)&&i.push("Couched Charge"),0!=(16&e)&&i.push("Fluid Thrusts"),0!=(32&e)&&i.push("Forward Swept"),0!=(64&e)&&i.push("Freakishly Large"),0!=(128&e)&&i.push("Hand Off"),0!=(256&e)&&i.push("Heavy Weapon"),0!=(512&e)&&i.push("Hook"),0!=(1024&e)&&i.push("Light Blade"),0!=(2048&e)&&i.push("Parrying Teeth"),0!=(4096&e)&&i.push("Swinging Slot"),0!=(8192&e)&&i.push("Thin Blade"),0!=(16384&e)&&i.push("Thrusting Slot"),0!=(32768&e)&&i.push("Tight Grip"),0!=(65536&e)&&i.push("Weapon Attachment")),null!=t&&(0!=t.APSwing&&i.push("AP Swing "+t.APSwing),0!=t.APThrust&&i.push("AP Thrust "+t.APThrust),0!=t.bleed&&i.push("Bleed "+t.bleed),0!=t.chain&&i.push("Chain "+t.chain),0!=t.crushing&&i.push("Crushing "+t.crushing),0!=t.draw&&i.push("Draw "+t.draw),0!=t.multiHit&&i.push("Multi Hit "+t.multiHit),0!=t.shock&&i.push("Shock "+t.shock),0!=t.spatulateTip&&i.push("Spatulate Tip "+t.spatulateTip)),i},gi.getFlagVarLabels=function(){var t=[];return t.push("Brace"),t.push("Calvary Sword"),t.push("Companion Weapon"),t.push("Couched Charge"),t.push("Fluid Thrusts"),t.push("Forward Swept"),t.push("Freakishly Large"),t.push("Hand Off"),t.push("Heavy Weapon"),t.push("Hook"),t.push("Light Blade"),t.push("Parrying Teeth"),t.push("Swinging Slot"),t.push("Thin Blade"),t.push("Thrusting Slot"),t.push("Tight Grip"),t.push("Weapon Attachment"),t},gi.getIntVarNames=function(){var t=[];return t.push("APSwing"),t.push("APThrust"),t.push("bleed"),t.push("chain"),t.push("crushing"),t.push("draw"),t.push("multiHit"),t.push("shock"),t.push("spatulateTip"),t},gi.prototype={__class__:gi};var di=function(){this.custom=null,this.winged=0,this.shock=0,this.scatter_y=1,this.scatter=0,this.flaming=0,this.calvaryBow=0,this.bleed=0,this.AP=0};function pi(){}(i["troshx.sos.core.MissileSpecial"]=di).__name__=["troshx","sos","core","MissileSpecial"],di.getLabelsOfFlags=function(t,e){null==e&&(e=0);var i=[];return 0!=e&&(0!=(1&e)&&i.push("Bludgeon"),0!=(2&e)&&i.push("Narrow"),0!=(4&e)&&i.push("Shield Stick"),0!=(8&e)&&i.push("Ap First Hit Only"),0!=(16&e)&&i.push("Cheat Attachment")),null!=t&&(0!=t.AP&&i.push("AP "+t.AP),0!=t.bleed&&i.push("Bleed "+t.bleed),0!=t.calvaryBow&&i.push("Calvary Bow "+t.calvaryBow),0!=t.flaming&&i.push("Flaming "+t.flaming),0!=t.scatter&&i.push("Scatter "+t.scatter),0!=t.shock&&i.push("Shock "+t.shock),0!=t.winged&&i.push("Winged "+t.winged)),i},di.getFlagVarNames=function(){var t=[];return t.push("BLUDGEON"),t.push("NARROW"),t.push("SHIELD_STICK"),t.push("AP_FIRST_HIT_ONLY"),t.push("CHEAT_ATTACHMENT"),t},di.getFlagVarLabels=function(){var t=[];return t.push("Bludgeon"),t.push("Narrow"),t.push("Shield Stick"),t.push("Ap First Hit Only"),t.push("Cheat Attachment"),t},di.getIntVarNames=function(){var t=[];return t.push("AP"),t.push("bleed"),t.push("calvaryBow"),t.push("flaming"),t.push("scatter"),t.push("shock"),t.push("winged"),t},di.prototype={__class__:di},(i["troshx.sos.core.Modifier"]=pi).__name__=["troshx","sos","core","Modifier"],pi.getStaticModifierSlots=function(){for(var t=[],e=0;e<21;)t[e++]=[];return t},pi.getSituationalModifierSlots=function(){for(var t=[],e=0;e<21;)t[e++]=[];return t},pi.prototype={__class__:pi};var _i=function(){};function fi(){}(i["troshx.sos.core.StaticModifier"]=_i).__name__=["troshx","sos","core","StaticModifier"],_i.create=function(t,e,i,s){null==s&&(s=1);var n=new _i;return n.name=e,n.index=t,n.multiply=s,n.add=i,n},_i.prototype={_setIndex:function(t){this.index=t},getModifiedValueMultiply:function(t){return t*this.multiply},getModifiedValueAdd:function(t){return t+this.add},__class__:_i},(i["troshx.sos.core.EventModifierBinding"]=fi).__name__=["troshx","sos","core","EventModifierBinding"],fi.create=function(t,e,i){var s=new fi;return s.types=t,s.name=e,s.handler=i,s},fi.prototype={__class__:fi};var mi=function(t,e){null==e&&(e=0),null==t&&(t=""),this.type=e,this.name=t};function vi(t){this.name=t,this.magic=!1}(i["troshx.sos.core.Profeciency"]=mi).__name__=["troshx","sos","core","Profeciency"],mi.__interfaces__=[m,y],mi.matchHandOffProfs=function(t){return 4==t?2:8==t?1:t},mi.getCoreMelee=function(){return null!=mi.CORE_MELEE?mi.CORE_MELEE:mi.CORE_MELEE=mi.getNewCoreMelee()},mi.getNewCoreMelee=function(){var t=[];return t[7]=new mi("Wrestling",0),t[8]=new mi("Pugilism",0),t[6]=new mi("Dagger",0),t[0]=new mi("1H Sword",0),t[1]=new mi("1H Blunt",0),t[2]=new mi("2H Blunt",0),t[3]=new mi("2H Sword",0),t[4]=new mi("Spear",0),t[5]=new mi("Polearm",0),t},mi.getCoreRanged=function(){return null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged()},mi.getNewCoreRanged=function(){var t=[];return t[0]=new mi("Bow",1),t[1]=new mi("Sling",1),t[2]=new mi("Crossbow",1),t[3]=new mi("Firearm",1),t[4]=new mi("Throwing",1),t},mi.getProfsLabelsMelee=function(t){return mi.getLabelsOfArrayProfs(mi.getCoreMelee(),t)},mi.getProfsLabelsRanged=function(t){return mi.getLabelsOfArrayProfs(null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged(),t)},mi.getProfsCountMelee=function(t){return mi.getCountOfArrayProfs(mi.getCoreMelee(),t)},mi.getProfsCountRanged=function(t){return mi.getCountOfArrayProfs(null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged(),t)},mi.getCountOfArrayProfs=function(t,e){for(var i=0,s=0,n=t.length;s<n;)i+=0!=(e&1<<s++)?1:0;return i},mi.getLabelsOfArrayProfs=function(t,e){for(var i=[],s=0,n=t.length;s<n;){var a=s++;0!=(e&1<<a)&&i.push(t[a].name)}return i},mi.prototype={updateAgainst:function(t){},spliceAgainst:function(t){return 0},get_uid:function(){return this.name+mi.SEPERATOR+this.type},__class__:mi},(i["troshx.sos.core.Race"]=vi).__name__=["troshx","sos","core","Race"],vi.__interfaces__=[y],vi.prototype={get_uid:function(){return this.name},__class__:vi};var bi=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=""),this.costMoney=null,this.name=t,this.profLimit=e,this.costArc=i};function Si(){}(i["troshx.sos.core.School"]=bi).__name__=["troshx","sos","core","School"],bi.getLevels=function(){return[0,1,1,1,2,2,2,2,3,3,3,3,3,6,6,6,6,8,10,10]},bi.getTalentAdds=function(){return[1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0]},bi.getSuperiorAdds=function(){return[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1]},bi.prototype={canAffordWith:function(t,e,i){if(null!=i&&(t+=i.costArc),null!=e&&null!=this.costMoney){i=null!=i&&null!=i.costMoney?i.costMoney:li.ZERO;if(li.TEMP.matchWith(e).addAgainst(i).subtractAgainst(this.costMoney).cp<0)return!1}return t>=this.costArc},customRequire:function(t){return!0},getSchoolBonuses:function(t){return null},get_uid:function(){return this.name},__class__:bi},(i["troshx.sos.core.SchoolBonuses"]=Si).__name__=["troshx","sos","core","SchoolBonuses"],Si.prototype={getUIFields:function(){return null},getTags:function(){return[]},__class__:Si};var wi=function(){this.strapType=0,this.damageType=2,this.damage=0,this.durability=6,this.bashTN=0,this.blockTN=7,this.size=0,this.AV=1,Qe.call(this)};(i["troshx.sos.core.Shield"]=wi).__name__=["troshx","sos","core","Shield"],wi.getHighCoverage=function(){return[{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1},{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,chest:!0},{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!0,elbow:!0,forearm:!0,hand:!0,chest:!0,belly:!0,side:!0}]},wi.getLowCoverage=function(){return[{chest:!0,belly:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1},{chest:!0,belly:!0,side:!0,groin:!0,hip:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,thigh:!0},{chest:!0,belly:!0,side:!0,groin:!0,hip:!0,neck:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,knee:!0,thigh:!0}]},wi.__super__=Qe,wi.prototype=t(Qe.prototype,{tempFixSpecsFromName:function(){var t,e,i=this.name.split(":");this.damageType=2,1<i.length&&(i[0]=r.trim(i[0]),i[1]=r.trim(i[1]),2<=(e=i.pop().split(" ")).length&&(this.durability=F.parseInt(e[1])),e=(t=e[0]).split("("),this.bashTN=F.parseInt(e[0]),2<=e.length&&")"==e[1].charAt(e[1].length-1)?(t=e[1],t=D.substr(t,0,t.length-1),this.damage=F.parseInt(t),"c"==(t=t.charAt(t.length-1))?this.damageType=0:"p"==t&&(this.damageType=1)):console.log("Warning!! Could not find open/close bracket of:"+this.name),isNaN(this.bashTN)&&(this.bashTN=0,console.log("Warning:: failed to parse bashTN of title:"+this.name)),isNaN(this.damage)&&(this.damage=0,console.log("Warning:: failed to parse damage of title:"+this.name)),isNaN(this.durability)&&(this.durability=6,console.log("Warning:: failed to parse durability of title:"+this.name))),this.name=i.join(":")},addTagsToStrArr:function(t){Qe.prototype.addTagsToStrArr.call(this,t),0!=(2&this.flags)&&t.push(0==this.strapType?"Arm-strap":"Shoulder-strap")},getTypeLabel:function(){return"Shield"},__class__:wi});var xi=function(){};(i["troshx.sos.core.Skill"]=xi).__name__=["troshx","sos","core","Skill"],xi.isVarious=function(t){return 0!=(t&t-1)},xi.specialisationName=function(t,e){return t+" ("+e+")"},xi.getBaseFromSpecialisationNaive=function(t){var e=t.indexOf(" (");return 0<e?t.substring(0,e):null},xi.getBaseFromSpecialisation=function(t){var e=t.indexOf(" ("),i=" (".length+")".length;return 0<e&&t.length>i&&")"==D.substr(t,t.length-")".length,null)?t.substring(0,e):null},xi.getSplitFromSpecialisation=function(t){var e=t.indexOf(" ("),i=" (".length+")".length;return 0<e&&t.length>i&&")"==D.substr(t,t.length-")".length,null)?[t.substring(0,e),t.substring(e+" (".length,t.length-")".length)]:null};var Ai=function(){};(i["troshx.sos.core.SkillTable"]=Ai).__name__=["troshx","sos","core","SkillTable"],Ai.getNewEmptySkillTable=function(t){var e=new Ai;return e.skillHash={},null!=t?(e.requiresTrained=t.requiresTrained,e.requiresSpecialisation=t.requiresSpecialisation):(e.requiresTrained={},e.requiresSpecialisation={}),e},Ai.getDefaultSkillTable=function(){return null!=Ai.DEFAULT?Ai.DEFAULT:Ai.DEFAULT=Ai.getNewDefaultSkillTable()},Ai.getNewDefaultSkillTable=function(){var t=new Ai;return t.skillHash={Athletics:7,Chymistry:64,Climbing:4,Cooking:64,Crafting:64,Drill:16,Engineering:64,Etiquette:32,"Gather Information":256,Hunting:128,Intimidation:256,Knowledge:64,Navigation:128,Observation:128,Oration:256,Performance:256,Persuasion:256,Profession:16,Research:64,Riding:2,Sailing:32,Stealth:2,Strategy:64,Subterfuge:256,Surgery:64,Swimming:4,Tactics:64,Thievery:2},t.requiresTrained={Crafting:!0,Engineering:!0,History:!0,Navigation:!0,Swimming:!0,Tactics:!0,Strategy:!0,Etiquette:!0},t.requiresSpecialisation={Profession:!0,Knowledge:!0,Crafting:!0,Performance:!0},t},Ai.sortArrayMethod=function(t,e){t=t.name.toLowerCase(),e=e.name.toLowerCase();return t<e?-1:e<t?1:0},Ai.prototype={getSpecialisationList:function(){for(var t=[],e=0,i=O.fields(this.requiresSpecialisation);e<i.length;){var s=i[e];++e,t.push(s)}return t},getSkillObjectsAsArray:function(t){null==t&&(t=!0);for(var e=[],i=0,s=O.fields(this.skillHash);i<s.length;){var n=s[i];++i,e.push({name:n,attribs:this.skillHash[n]})}return t&&e.sort(Ai.sortArrayMethod),e},matchRulesWith:function(t){this.requiresTrained=t.requiresTrained,this.requiresSpecialisation=t.requiresSpecialisation},requiresSpecification:function(t){return this.requiresSpecialisation[t]},clearAllSkills:function(t){if(t)this.skillHash={};else for(var e=0,i=O.fields(this.skillHash);e<i.length;){var s=i[e];++e,O.deleteField(this.skillHash,s)}},canAttemptUntrained:function(t){return!this.requiresTrained[t]},getSkillValue:function(t){return this.skillHash[t]},hasSkill:function(t){return Object.prototype.hasOwnProperty.call(this.skillHash,t)},setSkill:function(t,e){this.skillHash[t]=e},matchValuesWith:function(t){for(var e=0,i=O.fields(t.skillHash);e<i.length;){var s=i[e];++e;var n=t.skillHash[s];this.skillHash[s]=n}},addSpecialisationTo:function(t,e,i){if(null==i&&(i=0),Object.prototype.hasOwnProperty.call(this.skillHash,t))throw new Y("No skill found for:"+t);e=t+" ("+e+")";return this.skillHash[e]=0!=i?i:this.skillHash[t],e},removeSkill:function(t){return O.deleteField(this.skillHash,t)},getSubjects:function(){for(var t=[],e=0,i=O.fields(this.skillHash);e<i.length;){var s=i[e];++e;s=xi.getSplitFromSpecialisation(s);null!=s&&t.push(s[1])}return t},__class__:Ai};var zi=function(t,e,i){this.wealthIndex=0,this.classIndex=0,this.name=t,this.money=e,this.wealth=i};(i["troshx.sos.core.SocialClass"]=zi).__name__=["troshx","sos","core","SocialClass"],zi.prototype={__class__:zi},u=function(){this.level=0,this.name=""},(i["troshx.sos.core.Talent"]=u).__name__=["troshx","sos","core","Talent"],u.__interfaces__=[y],u.prototype={get_uid:function(){return this.name+"_"+this.level},get_label:function(){return this.name+(1<=this.level?"("+this.level+")":"")},__class__:u};var Ti=function(){this.description="",this.weightsTotal=0};function Li(t,e,i){this.age=0,this.uidSuffix="",this.flags=0,this.BL=0,this.pain=0,this.stun=0,this.leftSide=!1,this.damageType=0,this.level=0,this.locationId=t,this.level=e,this.damageType=i}(i["troshx.sos.core.TargetZone"]=Ti).__name__=["troshx","sos","core","TargetZone"],Ti.create=function(t,e,i,s,n){null==n&&(n=""),null==s&&(s=0);var a=new Ti;return a.name=t,a.parts=i,a.partWeights=e,a.description=n,0==(a.weightsTotal=s)&&a.recalcWeightsTotal(),a},Ti.prototype={recalcWeightsTotal:function(){for(var t=0,e=this.partWeights.length;-1<--e;)t+=this.partWeights[e];this.weightsTotal=t},getBodyPart:function(t){t*=this.weightsTotal;for(var e=0,i=0,s=0,n=this.partWeights.length;s<n;){var a=s++;if(t<e)break;e+=this.partWeights[a],i=a}return this.parts[i]},getHitAreaMask:function(){for(var t=0,e=0,i=this.parts.length;e<i;){var s=e++;t|=1<<this.parts[s]}return t},__class__:Ti},u=function(){this.original=null,this.name="",this.melee=null,this.meleeFlags=0},(i["troshx.sos.core.WeaponCustomise"]=u).__name__=["troshx","sos","core","WeaponCustomise"],u.__interfaces__=[y],u.prototype={addMeleeTagsToStrArr:function(t){var e=this.meleeFlags;0!=(1&e)&&t.push("*Custom Hilt"),0!=(2&e)&&t.push("*Ridiculously Sharp"),0!=(4&e)&&t.push("*Exquisite Decoration"),0!=(8&e)&&t.push("*Bizarre Gimmick"),null!=this.melee&&(0!=(e=this.melee).customGrip&&t.push("*Custom Grip "+e.customGrip),0!=e.fineForging&&t.push("*Fine Forging "+e.fineForging),0!=e.integratedPistol&&t.push("*Integrated Pistol "+e.integratedPistol))},hasBizarreGimmick:function(){return 0!=(8&this.meleeFlags)},hasExquisiteDecoration:function(){return 0!=(4&this.meleeFlags)},isRidiculouslySharp:function(){return 0!=(2&this.meleeFlags)},get_uid:function(){return"_"+this.name+"_"+this.meleeFlags+(null!=this.melee?this.melee.getUID(this.meleeFlags):"")},__class__:u},u=function(){this.exquisiteDecorDesc="",this.bizarreGimmickDesc="",this.sharpened=!0,this.integratedPistol=0,this.fineForging=0,this.customGrip=0},(i["troshx.sos.core.CustomMelee"]=u).__name__=["troshx","sos","core","CustomMelee"],u.prototype={getUID:function(t){return"_"+this.customGrip+"_"+this.fineForging+"_"+this.integratedPistol},__class__:u},(i["troshx.sos.core.Wound"]=Li).__name__=["troshx","sos","core","Wound"],Li.__interfaces__=[m],Li.getNewFlagLabels=function(){var t=[];return t.push("Staunched"),t.push("Treated"),t},Li.getFlagLabels=function(){return null!=Li.FLAG_LABELS?Li.FLAG_LABELS:Li.FLAG_LABELS=Li.getNewFlagLabels()},Li.getNewEmptyAssign=function(){var t=new Li("",0,0);return t.notes="",t},Li.prototype={isNullified:function(){return 0==this.stun&&0==this.pain&&0==this.BL},getDescLabel:function(t,e){var i=0<=this.damageType&&this.damageType<e.length?" "+e[this.damageType]:"",e=t.getHitLocationById(this.locationId);return"Level "+this.level+i+" wound"+(""!=this.locationId?" on the "+(null!=e&&e.twoSided?this.leftSide?"Left ":"Right ":"")+t.getHitLocationLabelFromId(this.locationId):"")},updateAgainst:function(t){t.stun>this.stun&&(this.stun=t.stun),t.pain>this.pain&&(this.pain=t.pain),t.BL>this.BL&&(this.BL=t.BL),this.flags&=-4,this.age=0},spliceAgainst:function(t){return this.updateAgainst(t),-1},makeUnique:function(){this.uidSuffix="^"+Li.UNIQUE_COUNT},isTreated:function(){return 0!=(2&this.flags)},gotBloodLost:function(){return 0==(3&this.flags)},getUID:function(t){return this.locationId+"_"+this.level+"_"+this.damageType+(t.gotSideWithId(this.locationId)?this.leftSide?"l":"r":"")+this.uidSuffix},__class__:Li},m=function(){this.totalSuccesses=null,this.rolls=null},(i["troshx.sos.events.Challenge"]=m).__name__=["troshx","sos","events","Challenge"],m.prototype={isResolved:function(){return null!=this.totalSuccesses},__class__:m};var Mi=i["troshx.sos.events.SOSEvent"]={__ename__:["troshx","sos","events","SOSEvent"],__constructs__:["FATIQUE_GAIN","MELEE_INITIATIVE_TEST","MISS_TARGET","HIT_TARGET","HIT_TARGET_ARMOR","DAMAGE_TARGET_RESOLVE","WOUND_INFLICT","MELEE_EXCHANGE_RESOLVE","MELEE_BOUT_RESOLVE","CHALLENGE_INIT","CHALLENGE_EXECUTE"]};Mi.FATIQUE_GAIN=function(t,e){e=["FATIQUE_GAIN",0,t,e];return e.__enum__=Mi,e.toString=n,e},Mi.MELEE_INITIATIVE_TEST=function(t,e){e=["MELEE_INITIATIVE_TEST",1,t,e];return e.__enum__=Mi,e.toString=n,e},Mi.MISS_TARGET=function(t,e,i){i=["MISS_TARGET",2,t,e,i];return i.__enum__=Mi,i.toString=n,i},Mi.HIT_TARGET=function(t,e,i){i=["HIT_TARGET",3,t,e,i];return i.__enum__=Mi,i.toString=n,i},Mi.HIT_TARGET_ARMOR=function(t,e,i,s){s=["HIT_TARGET_ARMOR",4,t,e,i,s];return s.__enum__=Mi,s.toString=n,s},Mi.DAMAGE_TARGET_RESOLVE=function(t,e,i,s){s=["DAMAGE_TARGET_RESOLVE",5,t,e,i,s];return s.__enum__=Mi,s.toString=n,s},Mi.WOUND_INFLICT=function(t,e){e=["WOUND_INFLICT",6,t,e];return e.__enum__=Mi,e.toString=n,e},Mi.MELEE_EXCHANGE_RESOLVE=["MELEE_EXCHANGE_RESOLVE",7],Mi.MELEE_EXCHANGE_RESOLVE.toString=n,(Mi.MELEE_EXCHANGE_RESOLVE.__enum__=Mi).MELEE_BOUT_RESOLVE=["MELEE_BOUT_RESOLVE",8],Mi.MELEE_BOUT_RESOLVE.toString=n,(Mi.MELEE_BOUT_RESOLVE.__enum__=Mi).CHALLENGE_INIT=function(t,e,i){i=["CHALLENGE_INIT",9,t,e,i];return i.__enum__=Mi,i.toString=n,i},Mi.CHALLENGE_EXECUTE=function(t,e,i,s){s=["CHALLENGE_EXECUTE",10,t,e,i,s];return s.__enum__=Mi,s.toString=n,s},m=function(){},(i["troshx.sos.macro.MacroUtil"]=m).__name__=["troshx","sos","macro","MacroUtil"];var Ii=function(){yi.call(this,"armParry","Arm Parry"),this._types(1)._requisite(4)._tags(64)._tn(7)._superiorInit(function(t){t._tn(6)})};(i["troshx.sos.manuevers.ArmParry"]=Ii).__name__=["troshx","sos","manuevers","ArmParry"],Ii.__super__=yi,Ii.prototype=t(yi.prototype,{getTN:function(t){var e=yi.prototype.getTN.call(this,t);if(e<0)return e;var i=t.usingLeftLimb;return null==t.replyTo||4!=t.replyTo.targetZone&&5!=t.replyTo.targetZone&&14!=t.replyTo.targetZone&&13!=t.replyTo.targetZone||t.replyTo.targetZonePreferLeft!=i||++e,e},getAvailability:function(t,e,i){return 0<i.activeItem.atnS},__class__:Ii});var Ci=function(){yi.call(this,"beat","Beat"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(3)._superior()};(i["troshx.sos.manuevers.Beat"]=Ci).__name__=["troshx","sos","manuevers","Beat"],Ci.__super__=yi,Ci.prototype=t(yi.prototype,{getAvailability:function(t,e,i){var s=!t.secondTempo,t=!!this.isSuperior||t.roundCount<2;return s&&t},__class__:Ci});var Ei=function(){yi.call(this,"shieldBeat","Shield Beat"),this._types(2)._requisite(2)._attackTypes(0)._targetZoneMode(3)._reach(3)._costs(2)};(i["troshx.sos.manuevers.ShieldBeat"]=Ei).__name__=["troshx","sos","manuevers","ShieldBeat"],Ei.__super__=yi,Ei.prototype=t(yi.prototype,{__class__:Ei});var Pi=function(){yi.call(this,"blindToss","Blind Toss"),this._types(2)._requisite(8)._tn(5)._costs(0,0,!0)};(i["troshx.sos.manuevers.BlindToss"]=Pi).__name__=["troshx","sos","manuevers","BlindToss"],Pi.__super__=yi,Pi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){return e.targetLink.reach<=7},__class__:Pi});var ki=function(){yi.call(this,"break","Break"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(1)._costs(2)._superior()};(i["troshx.sos.manuevers.Break"]=ki).__name__=["troshx","sos","manuevers","Break"],ki.__super__=yi,ki.prototype=t(yi.prototype,{__class__:ki});var Hi=function(){yi.call(this,"cleavingBlow","Cleaving Blow"),this._types(2)._requisite(1)._attackTypes(1)._tags(1)._costs(2,-2)};(i["troshx.sos.manuevers.CleavingBlow"]=Hi).__name__=["troshx","sos","manuevers","CleavingBlow"],Hi.__super__=yi,Hi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){i=i.activeItem,e=1<t.countLinkedOpponents(e);return 5<=i.reach&&e},__class__:Hi});var Bi=function(){yi.call(this,"disarm","Disarm"),this._types(2)._requisite(1)._costs(1)._attackTypes(1)._targetZoneMode(1)._superior()};(i["troshx.sos.manuevers.Disarm"]=Bi).__name__=["troshx","sos","manuevers","Disarm"],Bi.__super__=yi,Bi.prototype=t(yi.prototype,{__class__:Bi});var Di=function(){yi.call(this,"disarmUnarmedAtk","Disarm (Unarmed)"),this._types(2)._requisite(4)._targetZoneMode(1)._costs(1)._reach(2)._tn(7)._superiorInit(function(t){t._tn(6)})};(i["troshx.sos.manuevers.DisarmUnarmedAtk"]=Di).__name__=["troshx","sos","manuevers","DisarmUnarmedAtk"],Di.__super__=yi,Di.prototype=t(yi.prototype,{__class__:Di});var Ni=function(){yi.call(this,"disarmUnarmedDef","Disarm (Unarmed)"),this._types(1)._requisite(4)._tags(64)._costs(1)._reach(2)._tn(8)._superiorInit(function(t){t._tn(7)})};(i["troshx.sos.manuevers.DisarmUnarmedDef"]=Ni).__name__=["troshx","sos","manuevers","DisarmUnarmedDef"],Ni.__super__=yi,Ni.prototype=t(yi.prototype,{__class__:Ni});var Oi=function(){yi.call(this,"drawCut","Deep Draw Cut"),this._types(2)._requisite(1)._attackTypes(1)};(i["troshx.sos.manuevers.DrawCut"]=Oi).__name__=["troshx","sos","manuevers","DrawCut"],Oi.__super__=yi,Oi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){i=i.activeItem;return 0==i.damageTypeS&&(null!=i.meleeSpecial&&0<i.meleeSpecial.draw)},__class__:Oi});var Fi=function(){yi.call(this,"feint","Feint"),this._types(2)._requisite(1)._attackTypes(3)._costs(2,-2)._superior()};(i["troshx.sos.manuevers.Feint"]=Fi).__name__=["troshx","sos","manuevers","Feint"],Fi.__super__=yi,Fi.prototype=t(yi.prototype,{getSecondary:function(){return null!=this._shieldFeint?this._shieldFeint:this._shieldFeint=new cs},getAvailability:function(t,e,i){var s=0!=(16&i.activeItem.meleeFlags);return!(!i.activeEnemyBody.isThrusting(i.activeEnemyZone)&&s)},__class__:Fi});var Wi=function(){yi.call(this,"flee","Flee"),this._types(1)._tags(128)._tn(5)};(i["troshx.sos.manuevers.Flee"]=Wi).__name__=["troshx","sos","manuevers","Flee"],Wi.__super__=yi,Wi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){var s=0==e.fight.attackManuevers.length,n=t.roundCount<=1,t=3==e.fight.orientation;return!e.fight.lastAttacking&&s&&(!n||t)},getMaxInvest:function(t,e,i){var s=e.charSheet,e=s.get_encumbranceLvlRow();return e.mobMult*s.clampIntZero(s.getModifiedValue(9,(s.get_STR()+s.get_AGI()+s.get_END())/2|0)+e.mob+Us.getTable()[s.get_fatiqueLevel()].mob)},__class__:Wi});var Gi=function(){yi.call(this,"hastyVoid","Hasty Void"),this._types(1)._tags(128)._tn(7)._bs(2)};(i["troshx.sos.manuevers.HastyVoid"]=Gi).__name__=["troshx","sos","manuevers","HastyVoid"],Gi.__super__=yi,Gi.prototype=t(yi.prototype,{__class__:Gi});var Vi=function(){yi.call(this,"hew","Hew"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(2)._costs(1)._superior()};(i["troshx.sos.manuevers.Hew"]=Vi).__name__=["troshx","sos","manuevers","Hew"],Vi.__super__=yi,Vi.prototype=t(yi.prototype,{__class__:Vi});var Ui=function(){yi.call(this,"hook","Hook"),this._types(2)._requisite(1)._attackTypes(3)._targetZoneMode(6)._costs(1)._superior()};(i["troshx.sos.manuevers.Hook"]=Ui).__name__=["troshx","sos","manuevers","Hook"],Ui.__super__=yi,Ui.prototype=t(yi.prototype,{getAvailability:function(t,e,i){return 0!=(512&i.activeItem.meleeFlags)},__class__:Ui});var qi=function(){yi.call(this,"jointThrust","Joint Thrust"),this._types(2)._requisite(1)._attackTypes(2)._costs(0,0,!0)};(i["troshx.sos.manuevers.JointThrust"]=qi).__name__=["troshx","sos","manuevers","JointThrust"],qi.__super__=yi,qi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){return 1==i.activeItem.damageTypeT},__class__:qi});var Zi=function(){yi.call(this,"meleeShoot","Melee Shoot"),this._types(2)._requisite(1)._attackTypes(4)._ranged()};(i["troshx.sos.manuevers.MeleeShoot"]=Zi).__name__=["troshx","sos","manuevers","MeleeShoot"],Zi.__super__=yi,Zi.prototype=t(yi.prototype,{getAvailability:function(t,e,i){return!0},__class__:Zi});var Yi=function(){yi.call(this,"mobileVoid","Mobile Void"),this._types(1)._tags(128)._tn(8)._bs(1)};function ji(){}(i["troshx.sos.manuevers.MobileVoid"]=Yi).__name__=["troshx","sos","manuevers","MobileVoid"],Yi.__super__=yi,Yi.prototype=t(yi.prototype,{__class__:Yi}),(i["troshx.sos.manuevers.NetItems"]=ji).__name__=["troshx","sos","manuevers","NetItems"];var Ki=function(){yi.call(this,"netFeint","Net Feint"),this._types(2)._requisite(1,ji.STUFF)._costs(1,-2)._ranged()};(i["troshx.sos.manuevers.NetFeint"]=Ki).__name__=["troshx","sos","manuevers","NetFeint"],Ki.__super__=yi,Ki.prototype=t(yi.prototype,{getAvailability:function(t,e,i){e=i.usingLeftLimb?e.charSheet.inventory.getMasterWeapon():e.charSheet.inventory.getOffhandWeapon();return null!=e&&(!e.ranged&&!e.isAmmo)},__class__:Ki});var Xi=function(){yi.call(this,"netToss","Net Toss"),this._types(2)._requisite(9)._ranged()};function Qi(t,e){yi.call(this,t,e),this._types(2)._requisite(4)}(i["troshx.sos.manuevers.NetToss"]=Xi).__name__=["troshx","sos","manuevers","NetToss"],Xi.__super__=yi,Xi.prototype=t(yi.prototype,{__class__:Xi}),(i["troshx.sos.manuevers.PugilisiticAttack"]=Qi).__name__=["troshx","sos","manuevers","PugilisiticAttack"],Qi.__super__=yi,Qi.prototype=t(yi.prototype,{__class__:Qi});var $i=function(){Qi.call(this,"hookPunch","Hook Punch"),this._reach(1)._tn(6)._attackTypes(1)._damage(3,1)._superiorInit(function(t){t._damage(3,2,2)})};(i["troshx.sos.manuevers.HookPunch"]=$i).__name__=["troshx","sos","manuevers","HookPunch"],$i.__super__=Qi,$i.prototype=t(Qi.prototype,{__class__:$i});var Ji=function(){Qi.call(this,"straightPunch","Straight Punch"),this._reach(2)._tn(6)._attackTypes(2)._damage(3,2)._superiorInit(function(t){t._damage(3,3,1)})};(i["troshx.sos.manuevers.StraightPunch"]=Ji).__name__=["troshx","sos","manuevers","StraightPunch"],Ji.__super__=Qi,Ji.prototype=t(Qi.prototype,{__class__:Ji});var ts=function(){Qi.call(this,"knee","Knee"),this._reach(1)._tn(7)._attackTypes(2)._damage(3,1)._superiorInit(function(t){t._damage(3,3)})};(i["troshx.sos.manuevers.Knee"]=ts).__name__=["troshx","sos","manuevers","Knee"],ts.__super__=Qi,ts.prototype=t(Qi.prototype,{__class__:ts});var es=function(){Qi.call(this,"headbutt","Headbutt"),this._reach(1)._tn(6)._attackTypes(2)._targetZoneMode(-2560)._damage(3,1)._costs(1)};(i["troshx.sos.manuevers.HeadButt"]=es).__name__=["troshx","sos","manuevers","HeadButt"],es.__super__=Qi,es.prototype=t(Qi.prototype,{__class__:es});var is=function(){Qi.call(this,"elbow","Elbow"),this._reach(1)._tn(7)._attackTypes(3)._damage(3,0)._superiorInit(function(t){t._damage(3,2)})};(i["troshx.sos.manuevers.Elbow"]=is).__name__=["troshx","sos","manuevers","Elbow"],is.__super__=Qi,is.prototype=t(Qi.prototype,{__class__:is});var ss=function(){Qi.call(this,"kick","Kick"),this._reach(3)._tn(7)._attackTypes(3)._damage(3,0)._superiorInit(function(t){t._damage(3,2)})};(i["troshx.sos.manuevers.Kick"]=ss).__name__=["troshx","sos","manuevers","Kick"],ss.__super__=Qi,ss.prototype=t(Qi.prototype,{__class__:ss});var ns=function(){Qi.call(this,"trip","Trip"),this._reach(1)._tn(8)._attackTypes(3)._targetZoneMode(-192)._superior()};(i["troshx.sos.manuevers.Trip"]=ns).__name__=["troshx","sos","manuevers","Trip"],ns.__super__=Qi,ns.prototype=t(Qi.prototype,{__class__:ns});var as=function(){Qi.call(this,"oneTwoPunch","One-Two Punch"),this._costs(2,-2)};(i["troshx.sos.manuevers.OneTwoPunch"]=as).__name__=["troshx","sos","manuevers","OneTwoPunch"],as.__super__=Qi,as.prototype=t(Qi.prototype,{getAvailability:function(t,e,i){return null==(i.usingLeftLimb?e.charSheet.inventory.findMasterHandItem():e.charSheet.inventory.findOffHandItem())},__class__:as});var rs=function(){yi.call(this,"pushCut","Push Cut"),this._types(2)._requisite(1)._attackTypes(2)._costs(1)._superior()};(i["troshx.sos.manuevers.PushCut"]=rs).__name__=["troshx","sos","manuevers","PushCut"],rs.__super__=yi,rs.prototype=t(yi.prototype,{getAvailability:function(t,e,i){i=i.activeItem;return 0<i.atnS&&0==i.damageTypeS},__class__:rs});var os=function(){yi.call(this,"riposte","Riposte"),this._types(1)._requisite(1)._tags(576)._costs(2)._superior()};(i["troshx.sos.manuevers.Riposte"]=os).__name__=["troshx","sos","manuevers","Riposte"],os.__super__=yi,os.prototype=t(yi.prototype,{getAvailability:function(t,e,i){return 0<i.activeItem.atnS},__class__:os});var hs=function(){yi.call(this,"shieldBash","Shield Bash"),this._types(2)._requisite(2)._reach(2)._attackTypes(2)._superior()};(i["troshx.sos.manuevers.ShieldBash"]=hs).__name__=["troshx","sos","manuevers","ShieldBash"],hs.__super__=yi,hs.prototype=t(yi.prototype,{getSecondary:function(){return null!=this._bash?this._bash:this._bash=new hs},__class__:hs});var ls=function(){yi.call(this,"shieldBind","Shield Bind"),this._types(1)._requisite(2)._tags(768)._costs(1)._superior()};(i["troshx.sos.manuevers.ShieldBind"]=ls).__name__=["troshx","sos","manuevers","ShieldBind"],ls.__super__=yi,ls.prototype=t(yi.prototype,{getAvailability:function(t,e,i){i=i.activeEnemyItem,i=j.__instanceof(i,ai)?i:null;return null!=i&&(!i.ranged&&!i.isAmmo&&4<=i.range)},__class__:ls});var cs=function(){yi.call(this,"shieldFeint","Shield Feint"),this._types(2)._requisite(3)._costs(1,-2)};(i["troshx.sos.manuevers.ShieldFeint"]=cs).__name__=["troshx","sos","manuevers","ShieldFeint"],cs.__super__=yi,cs.prototype=t(yi.prototype,{getTN:function(t){return yi.prototype.getTN.call(this,t)},getSecondary:function(){return null!=this._bash?this._bash:this._bash=new hs},getAvailability:function(t,e,i){if(null==e.charSheet.inventory.findHeldShield())return!1;var s=e.charSheet.inventory.getMasterWeapon();null==s&&e.charSheet.inventory.getOffhandWeapon();s=0!=(16&s.meleeFlags);return!(!i.activeEnemyBody.isThrusting(i.activeEnemyZone)&&s)},__class__:cs});var Rs=function(){yi.call(this,"stealInitiative","Steal Initiative"),this.types=16,this.tags=1024,this.costVaries=!0};(i["troshx.sos.manuevers.StealInitiative"]=Rs).__name__=["troshx","sos","manuevers","StealInitiative"],Rs.__super__=yi,Rs.prototype=t(yi.prototype,{getAvailability:function(t,e,i){var s=e.targetLink;return(e==s.a?-1:e==s.b?1:0)!=s.initiative},resolve:function(t,e,i){},getCost:function(t,e,i){return 0},__class__:Rs});var us=function(){yi.call(this,"totalBlock","Total Block"),this._types(1)._requisite(2)._tags(256)._costs(0,-1)};(i["troshx.sos.manuevers.TotalBlock"]=us).__name__=["troshx","sos","manuevers","TotalBlock"],us.__super__=yi,us.prototype=t(yi.prototype,{getCost:function(t,e,i){var s=e.charSheet,e=s.get_encumbranceLvlRow();return Math.floor(e.cpMult*s.clampIntZero(s.getModifiedValue(13,(1<=s.schoolLevel?s.schoolLevel:0)+s.clampIntZero(s.getModifiedValue(8,(s.get_AGI()+s.get_WIT())/2|0)))*(s.prone?.5:1)+e.cp+Us.getTable()[s.get_fatiqueLevel()].cp)*.5)},getAvailability:function(t,e,i){var s=!t.secondTempo,n=t.roundCount<=1,a=3==e.fight.orientation,r=0==e.fight.attackManuevers.length,o=0==e.fight.defensiveManevers.length,t=e.charSheet,e=t.get_encumbranceLvlRow(),t=1<=Math.floor(e.cpMult*t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,(t.get_AGI()+t.get_WIT())/2|0)))*(t.prone?.5:1)+e.cp+Us.getTable()[t.get_fatiqueLevel()].cp)*.5);return r&&o&&s&&(!n||a)&&t},__class__:us});var ys=function(){yi.call(this,"weaponThrow","Weapon Throw"),this._types(2)._requisite(1)._attackTypes(2)._costs(1)._ranged()};(i["troshx.sos.manuevers.WeaponThrow"]=ys).__name__=["troshx","sos","manuevers","WeaponThrow"],ys.__super__=yi,ys.prototype=t(yi.prototype,{__class__:ys});var gs=function(){this.pool=gs.get()};(i["troshx.sos.pregens.FightCharacters"]=gs).__name__=["troshx","sos","pregens","FightCharacters"],gs.get=function(){return[new $("Commoner","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi4y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi1y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni9y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi-1y4:atnTi6y4:atnSi6y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi7y5:flagszy6:weightzR50R37R26y15:Knife%20(Large)gy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1Hfghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmorahy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR134R135ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR135ahgy5:boonscR146R147oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R149y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR135ar99hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Chymistryi2y7:Cookingi6y7:Huntingi2y10:Navigationi1y7:Stealthi1y7:Surgeryi6y22:Crafting%20(Homestead)i4y17:Crafting%20(Wood)i2y21:Profession%20(Doctor)i2y21:Profession%20(Farmer)i5gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR173ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR181ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi2y10:classIndexi2R26y14:Poor%20Freemany5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi15gy6:wealthzgR199cR200R201i5R202i19R203i14gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahahhy6:ingamety7:fatiquezy11:talentNotesahy20:masteryManueverNotesahy21:superiorManueverNotesahR116ny11:profsRangedzy10:profsMeleei337y11:schoolLeveli1y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei4y3:witi4y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi4y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Commonerg","0/8 S CP:5"),new $("Street Thug","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi30y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gy10:meleeFlagsi16384y5:guardzy3:dtni7y11:damageTypeTi2y11:damageTypeSi2y7:damageTi-2y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi2y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y10:Bar%20Macegy4:heldi1y6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i31R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i9232R106i1R107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y15:Rondel%20DaggergR126zR127zR128R37R129fgoR76fR77i34R78cR79R80tR81fR82nR83nR84zR85i4R86nR87zR88i1R89i1R90i7R91i10R92nR105zR106zR107zR108i1R109zR110zR111zR112zR113zR114nR115i4R116tR117nR118i16R119nR120i1R121zR122i8R123zR124zR50R37R26y26:Knife%20(Throwing)%20%2F0cgR126zR127zR128R37R129fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i4R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R120i1R121zR122i17R123zR124d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR126zR127zR128R37goR77i5R76fR135cR136R119nR137nR138zR139zR140nR141i2R142i2R143i3R120i1R121i1R122i1R123zR124zR50R37R26y16:Leather%20GlovesR145oR23zggR126zR127zR128R37goR77i6R76fR135cR136R119nR137nR138i8R139zR141i1R142i1R143i1R120i1R121zR122i1R123zR124zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R145oR9zggR126zR127zR128R37goR77i7R76fR135cR136R119nR137nR138zR139zR140nR141i3R142i3R143i4R120i1R121i1R122i1R123zR124zR50R37R26y28:Hardened%20Leather%20GreavesR145oR18zggR126zR127zR128R37goR77i8R76fR135cR136R119nR137nR138zR139zR140nR141i3R142i3R143i4R120i1R121i1R122i3R123zR124zR50R37R26y31:Hardened%20Leather%20RerebracesR145oR20zggR126zR127zR128R37goR77i9R76fR135cR136R119nR137nR138zR139zR140nR141i2R142i2R143i3R120i1R121i1R122i1R123zR124zR50R37R26y15:Leather%20BootsR145oR19zggR126zR127zR128R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR153R154ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR154ahgy5:boonscR165R166oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R168y5:costsai2i4hR123zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR154ar121hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi3y8:Climbingi1y20:Gather%20Informationi1y12:Intimidationi1y22:Knowledge%20(Criminal)i1y10:Navigationi1y11:Observationi5y7:Stealthi4y8:Swimmingi1y8:Thieveryi5gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR194tR197ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR200ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR217cR218R219i2R220zR221zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahahhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR117ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni3y12:intelligencei3y3:witi4y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi5y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y13:Street%20Thugg","0.5/10 S CP:9"),new $("Street Thug Boss","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi6y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancei4y14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMi1y4:atnMi7y5:rangei10y12:meleeSpecialny10:meleeFlagszy5:guardzy3:dtnzy11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSzy4:atnTzy4:atnSzy7:variantny5:reachi4y6:rangedty11:profsCustomny5:profsi16y9:customiseny4:uniti1y12:costCurrencyzy4:costi8y5:flagszy6:weightzR50R37R26y26:Knife%20(Throwing)%20%2F0cgy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i24R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gR93i16384R94zR95i7R96i2R97i2R98i-2R99i1R100i7R101i7R102nR103i3R104fR105nR106i2R107nR108i1R109i1R110i1R111zR112zR50R37R26y10:Bar%20MacegR114y1:1R115zR116R37R117fgoR76fR77i25R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR93i1028R94i3R95i6R96i1R97zR98zR99i-1R100i7R101i7R102nR103i2R104fR105nR106i64R107nR108i1R109i1R110i3R111zR112zR50R37R26y13:Main%20GauchegR114zR115zR116R37R117fgoR78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR93i65536R94zR95zR96i1R97zR98zR99zR100i7R101zR102nR103i2R104fR105nR106i2R107nR108i1R109zR110i1R111zR112zR50R37R26y14:Arming%20SpikegR114zR115zR116R37R77i14R117fR76fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i14R76fy5:armorcy21:troshx.sos.core.ArmorR107ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R108i1R109zR110i17R111zR112d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR114zR115zR116R37goR77i15R76fR137cR138R107nR139nR140zR141zR142nR143i2R144i2R145i3R108i1R109i1R110i1R111zR112zR50R37R26y16:Leather%20GlovesR147oR23zggR114zR115zR116R37goR77i16R76fR137cR138R107nR139nR140i8R141zR143i1R144i1R145i1R108i1R109zR110i1R111zR112zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R147oR9zggR114zR115zR116R37goR77i17R76fR137cR138R107nR139nR140zR141zR142nR143i3R144i3R145i4R108i1R109i1R110i1R111zR112zR50R37R26y28:Hardened%20Leather%20GreavesR147oR18zggR114zR115zR116R37goR77i19R76fR137cR138R107nR139nR140zR141zR142nR143i2R144i2R145i3R108i1R109i1R110i1R111zR112zR50R37R26y15:Leather%20BootsR147oR19zggR114zR115zR116R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR154R155ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy18:Barren%2FSterilitycy26:troshx.sos.core.BaneAssigny12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:banecy32:troshx.sos.bnb.BarrenOrSterilityR26R168y5:costsai1i3hR111i2y9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszy6:isBanety10:conditionsancy30:troshx.sos.bnb.EunuchConditionghgy4:ranki1y11:_costCachedi1gy6:WantedcR169R170zR171fR172fR173zR174cy21:troshx.sos.bnb.WantedR26R186R176ai5i10i15hR111zR177fR178zR179zR180zR181tgR184i1R185i5gy18:Facial%20DeformitycR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.FacialDeformityR26R188R176ai2i4i8hR111i2R177fR178zR179zR180zR181tgR184i1R185i2gy14:Lasting%20Paincy32:troshx.sos.bnb.LastingPainAssigny15:__hasUIFields__ty10:permaMask2zy9:permaMaskzy17:hitLocationsMajorzy17:hitLocationsMinori512R170zR171fR172fR173zy4:charr0R174cy26:troshx.sos.bnb.LastingPainR26R190R176ai4i8hR111i2R177tR178i-2R179zR180zR181tgR184i1R185i4ggR155ar117r122r125r128hgy5:boonscR166R167oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR170i1R171fR172fR173i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R200R176ai2i4hR111zR177fR178zR179zR180zgR184i1R185i2y16:_remainingCachedi999gy12:BloodthirstycR201R170zR171fR172fR173zR202cy27:troshx.sos.bnb.BloodthirstyR26R205R176ai4hR111zR177fR178zR179zR180zgR184i1R185i4R204i999gy4:RichcR201R170zR171fR172fR173zR202cy19:troshx.sos.bnb.RichR26R207R176ai1i3i5hR111i1R177fR178zR179i8R180zy15:staticModifiersacy30:troshx.sos.core.StaticModifierR26y10:Rich%20(i)y5:indexi19y8:multiplyd1.1y3:addzgcR210R26y11:Rich%20(ii)R212i19R213d1.5R214zgcR210R26y12:Rich%20(iii)R212i19R213i2R214zghgR184i1R185i1R204i999gy23:Natural%20Born%20KillercR201R170zR171fR172fR173zR202cy32:troshx.sos.bnb.NaturalBornKillerR26R217R176ai6i12i18hR111zR177fR178zR179zR180zR209acR210R26y29:Natural%20Born%20Killer%20(i)R212i13R213i1R214i1gcR210R26y30:Natural%20Born%20Killer%20(ii)R212i13R213i1R214i2gcR210R26y31:Natural%20Born%20Killer%20(iii)R212i13R213i1R214i3ghgR184i1R204i999ggR155ar134r137r140r147hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y8:Climbingi1y20:Gather%20Informationi3y12:Intimidationi3y22:Knowledge%20(Criminal)i3y11:Observationi5y7:Stealthi2y8:Swimmingi1y8:Thieveryi4gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR234ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR237ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spi10y2:gpzgy6:wealthzgR255cR256R257i12R258i10R259zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahar151hahahahahahar144hahhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR105ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi5y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y20:Street%20Thug%20Bossg","0.5/10 S CP:12*"),new $("Street Berserker","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gy10:meleeFlagsi16384y5:guardzy3:dtni7y11:damageTypeTi2y11:damageTypeSi2y7:damageTi-2y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi2y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y10:Bar%20Macegy4:heldi1y6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i9232R106i1R107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y15:Rondel%20DaggergR126zR127zR128R37R129fgoR76fR77i21R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105zR106i1R107i8R108i1R109zR110i1R111zR112i6R113i6R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i10R123zR124zR50R37R26y38:Bowie%20Knife%2F%20Pishkan%20ToothpickgR126zR127zR128R37R129fgoR76fR77i8R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i65536R106zR107zR108i1R109zR110zR111zR112i7R113zR114nR115i1R116fR117nR118i2R119nR120i1R121zR122i1R123zR124zR50R37R26y14:Arming%20SpikegR126zR127zR128R37R129fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i12R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R120i1R121zR122i17R123zR124d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR126zR127zR128R37goR77i13R76fR136cR137R119nR138nR139zR140zR141nR142i2R143i2R144i3R120i1R121i1R122i1R123zR124zR50R37R26y16:Leather%20GlovesR146oR23zggR126zR127zR128R37goR77i14R76fR136cR137R119nR138nR139i8R140zR142i1R143i1R144i1R120i1R121zR122i1R123zR124zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R146oR9zggR126zR127zR128R37goR77i15R76fR136cR137R119nR138nR139zR140zR141nR142i3R143i3R144i4R120i1R121i1R122i1R123zR124zR50R37R26y28:Hardened%20Leather%20GreavesR146oR18zggR126zR127zR128R37goR77i16R76fR136cR137R119nR138nR139zR140zR141nR142i3R143i3R144i4R120i1R121i1R122i3R123zR124zR50R37R26y31:Hardened%20Leather%20RerebracesR146oR20zggR126zR127zR128R37goR77i17R76fR136cR137R119nR138nR139zR140zR141nR142i2R143i2R144i3R120i1R121i1R122i1R123zR124zR50R37R26y15:Leather%20BootsR146oR19zggR126zR127zR128R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR154R155ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy18:Barren%2FSterilitycy26:troshx.sos.core.BaneAssigny12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:banecy32:troshx.sos.bnb.BarrenOrSterilityR26R168y5:costsai1i3hR123i2y9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszy6:isBanety10:conditionsancy30:troshx.sos.bnb.EunuchConditionghgy4:ranki2y11:_costCachedi3gy18:Complete%20MonstercR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.CompleteMonsterR26R186R176ai10hR123zR177fR178zR179i256R180zR181tgR184i1R185i10gy6:WantedcR169R170zR171fR172fR173zR174cy21:troshx.sos.bnb.WantedR26R188R176ai5i10i15hR123zR177fR178zR179zR180zR181tgR184i1R185i5gy18:Facial%20DeformitycR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.FacialDeformityR26R190R176ai2i4i8hR123i2R177fR178zR179zR180zR181tgR184i1R185i2ggR155ar120r125r128r131hgy5:boonscR166R167oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR170i1R171fR172fR173i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R193R176ai2i4hR123zR177fR178zR179zR180zgR184i1R185i2y16:_remainingCachedi999gy12:BloodthirstycR194R170zR171fR172fR173zR195cy27:troshx.sos.bnb.BloodthirstyR26R198R176ai4hR123zR177fR178zR179zR180zgR184i1R185i4R197i999gy9:BerserkercR194R170zR171fR172fR173zR195cy24:troshx.sos.bnb.BerserkerR26R200R176ai8i12hR123zR177fR178zR179zR180zy15:staticModifiersacy30:troshx.sos.core.StaticModifierR26R200y5:indexi13y8:multiplyi1y3:addi4gr147hgR184i1R185i8R197i999gy11:True%20GritcR194R170zR171fR172fR173zR195cy23:troshx.sos.bnb.TrueGritR26R207R176ai2i4i6hR123i1R177fR178zR179i16R180zR202acR203R26y17:True%20Grit%20(i)R204i20R205i1R206i1gcR203R26y18:True%20Grit%20(ii)R204i20R205i1R206i2gcR203R26y19:True%20Grit%20(iii)R204i20R205i1R206i3ghgR184i1R185i2R197i999gy4:RichcR194R170zR171fR172fR173zR195cy19:troshx.sos.bnb.RichR26R212R176ai1i3i5hR123i1R177fR178zR179i8R180zR202acR203R26y10:Rich%20(i)R204i19R205d1.1R206zgcR203R26y11:Rich%20(ii)R204i19R205d1.5R206zgcR203R26y12:Rich%20(iii)R204i19R205i2R206zghgR184i1R185i1R197i999ggR155ar137r140r143r148r155hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y8:Climbingi1y20:Gather%20Informationi3y12:Intimidationi3y22:Knowledge%20(Criminal)i3y11:Observationi5y7:Stealthi2y8:Swimmingi1y8:Thieveryi4gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR229ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR232ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spi10y2:gpzgy6:wealthzgR250cR251R252i12R253i10R254zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahar147hahahahahahar159har152hhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR117ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi5y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y18:Street%20Berserkerg","0.5/10 S CP:15*"),new $("Retiarius","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi38y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHiti3y4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi128y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSzy4:atnTi7y4:atnSi9y7:variantcR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cR93R94nR95zR96zR97zR98i3R99zR100zR101zR102zR103zR104zgR105zR106zR107i9R108i1R109zR110i-1R111i-1R112i8R113i10R114ny5:reachi5y6:rangedfy11:profsCustomny5:profsi48y9:customiseny4:uniti1y12:costCurrencyzy4:costzy5:flagszy6:weightzR50R37R26y7:TridentgR115i5R116fR117nR118i48R119nR120i1R121zR122i5R123i1R124i4R50R37R26R125gy4:heldy1:1y6:unheldzy12:unheldRemarkR37y9:holding1HtgoR76fR77i42R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cR93R94nR95i2R96zR97zR98zR99zR100zR101zR102zR103zR104zgR105i1024R106zR107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i2R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y5:PugiogR126zR128zR129R37R130fgoR76fR77i16R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i2R89i-10R90i7R91i5R92nR105zR106zR107zR108i1R109zR110zR111zR112zR113zR114nR115i4R116tR117nR118i16R119nR120i1R121i1R122i1R123zR124i2R50R37R26y17:Net%20(Retiarius)gR126i2R128zR129R37R130fgoR76fR77i12R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105zR106zR107i7R108i1R109zR110i1R111i1R112i7R113i7R114nR115i3R116fR117nR118i1R119nR120i1R121i1R122i1R123zR124zR50R37R26y7:GladiusgR126zR128zR129R37R130fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i30R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi2y2:ppzy10:burdinadinny3:AVBi4y3:AVPi5y3:AVCi6R120i1R121i1R122i10R123zR124i1R50R37R26y23:(Half)%20Iron%20Galerusy8:coverageoR10i1R20i3ggR126zR128zR129R37goR137cR138R119nR139nR140zR141zR142nR143i1R144i2R145i1R120i1R121zR122zR123zR124zR50R37R26y16:Cloth%20BindingsR147oR18zR22zggR76fR126zR128zR129R37R77i8goR77i14R76fR137cR138R119nR139nR140zR141zR142nR143i3R144i3R145i4R120i1R121i1R122i3R123zR124zR50R37R26y40:(Half)%20Hardened%20Leather%20RerebracesR147oR20zggR126zR128zR129R37goR137cR138R119nR139nR140zR141zR142nR143i3R144i2R145i3R120i1R121zR122zR123zR124zR50R37R26y17:Leather%20BalteusR147oR13zggR76fR126zR128zR129R37R77i158ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR153R154ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR154ahgy5:boonscR165R166oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R168y5:costsai2i4hR123zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR154ar120hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy7:Cookingi2y7:Huntingi4y10:Navigationi2y7:Stealthi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR191ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR194ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR212cR213R214zR215zR216zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR117ny11:profsRangedi17y10:profsMeleei507y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr177gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi8y9:willpoweri3y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y9:Retiariusg","1/8 L CP:17"),new $("Dimachaerus-Light","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi4y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi512y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyzy4:costi15y5:flagszy6:weightzR50R37R26y4:Sicagy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78r85R125zR126zR127R37R128fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i6R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi1y3:AVCi2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20Bindingsy8:coverageoR18zR22zR15i2R17zggR125zR126zR127R37goR77i9R76fR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR142oR13zggR125zR126zR127R37goR77i10R76fR132cR133R118nR134nR135zR136zR137nR138i3R139i3R140i4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-GuardsR142oR17zggR125zR126zR127R37goR77i11R76fR132cR133R118nR134nR135i2R136zR137nR138i4R139i5R140i6R119i1R120zR121zR122zR123i3R50R37R26y13:Iron%20ManicaR142oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y23:Leather%20Shin%20GuardsR142oR18zggR76fR125zR126zR127R37R77zghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR149R150acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:Pugiogy3:qtyi2gcR152R153nR154cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR156i2ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR150ahgy5:boonscR167R168oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R170y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi15ggR150ar120hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi1y10:Navigationi1y11:Observationi2y7:Stealthi4y8:Thieveryi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR192ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR197ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR215cR216R217zR218i4R219zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr177gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y16:Dimarcheri-Lightg","3/8 S CP:16"),new $("Dimachaerus-Medium","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi4y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi512y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyzy4:costi15y5:flagszy6:weightzR50R37R26y4:Sicagy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78r85R125zR126zR127R37R128fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i6R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi1y3:AVCi2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20Bindingsy8:coverageoR18zR22zR15i2R17zggR125zR126zR127R37goR77i7R76fR132cR133R118nR134cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR135i3R136i1R137nR138i4R139i5R140i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR142oR7i1ggR125zR126zR127R37goR77i8R76fR132cR133R118nR134nR135i2R136zR138i4R139i5R140i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR142oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i9R76fR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR142oR13zggR125zR126zR127R37goR77i10R76fR132cR133R118nR134nR135zR136zR137nR138i3R139i3R140i4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-GuardsR142oR17zggR125zR126zR127R37goR77i11R76fR132cR133R118nR134nR135i2R136zR137nR138i4R139i5R140i6R119i1R120zR121zR122zR123i3R50R37R26y13:Iron%20ManicaR142oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y23:Leather%20Shin%20GuardsR142oR18zggR76fR125zR126zR127R37R77zghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR158R159acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:Pugiogy3:qtyi2gcR161R162nR163cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR165i2ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR159ahgy5:boonscR176R177oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R179y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR159ar127hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y10:Navigationi1y11:Observationi2y7:Stealthi3y8:Thieveryi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR201ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR206ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR224cR225R226zR227i9R228i3gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr184gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y17:Dimarcheri-Mediumg","6.5/10 S CP:15"),new $("Thracian","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i52R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94zR95zR96zR97zR98i4R99zR100zR101zR102zR103zgR104i512R105zR106i7R107i1R108zR109zR110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120zR121i15R122zR123zR50R37R26y4:SicagR125zR126zR127R37R128fghy7:shieldsaoR77i51R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizei1y2:AVi6R119i1R120i1R121i10R122zR123i1R50R37R26y25:Rodela%20%3A6(%2B0b)%2012gR125y1:0R126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120i1R121i3R122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR22zR21zR20zR10i2ggR125zR126zR127R37goR77i33R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR13i2R15i2R17zggR125zR126zR127R37goR77i68R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d2.5R50R37R26y29:Iron%20Shin%20Higher%20GuardsR153oR18zR16i3ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR168R169ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR169ahgy5:boonscR180R181oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R183y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR169ar123hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR206ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR208ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR226cR227R228zR229i15R230i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr180gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi6y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi5y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Thraciang","3/8 S CP:16"),new $("Provocator","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i13R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagsi2y2:ppzy3:AVBi4y3:AVPi5y3:AVCi6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20Helmy8:coverageoR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1y10:burdinadinnR148i4R149i5R150i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR152oR7i1ggR125zR126zR127R37goR77i16R76fR143cR144R118nR145nR146i2R147zR148i4R149i5R150i6R119i1R120i1R121i1R122zR123d0.5R50R37R26y17:Iron%20HeartguardR152oR11i1ggR125zR126zR127R37goR77i67R76fR143cR144R118nR145nR146i2R147zR160nR148i4R149i5R150i6R119i1R120zR121zR122zR123i1R50R37R26y29:(Half)%20Iron%20Shin%20GuardsR152oR18zggR125zR126zR127R37goR77i68R76fR143cR144R118nR145nR146i2R147zR160nR148i4R149i5R150i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR152oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR77i69R76fR143cR144R118nR145nR146zR147zR160nR148i2R149i1R150i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR152oR18zR22zR13i2R15i2R17zggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR168R169ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR169ahgy5:boonscR180R181oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R183y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR169ar122hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR206ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR208ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR226cR227R228zR229i15R230i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr179gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei5y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y10:Provocatorg","8.5/11 S CP:15"),new $("Hoplomachus","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125zR126zR127R37R128fgoR76fR77i15R78cR79y15:_showCustomTagstR80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104i144R105zR106i7R107i1R108zR109i2R110zR111i7R112i7R113cR79R130tR80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i9R107i1R108zR109i1R110i-1R111i7R112i9R113nR114i6R115fR116nR117i16R118nR119i1R120zR121zR122zR123zR50R37R26y16:Spear%20(Arming)gR114i6R115fR116nR117i16R118nR119i1R120zR121i6R122i1R123i4R50R37R26R131gR125y1:1R126zR127R37R128tghy7:shieldsaoR77i14R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizei1y2:AVi6R119i1R120i1R121i10R122zR123i1R50R37R26y25:Rodela%20%3A6(%2B0b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i13R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagsi2y2:ppzy3:AVBi4y3:AVPi5y3:AVCi6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20Helmy8:coverageoR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR145cR146R118nR147cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR148i3R149i1y10:burdinadinnR150i4R151i5R152i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR154oR7i1ggR125zR126zR127R37goR77i9R76fR145cR146R118nR147nR148zR149zR162nR150i2R151i1R152i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR154oR18zR22zR13i2R15i2R17zggR125zR126zR127R37goR77i12R76fR145cR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123d2.5R50R37R26y29:Iron%20Shin%20Higher%20GuardsR154oR18zR16i3ggR125zR126zR127R37goR77i14R76fR145cR146R118nR147nR148zR149zR162nR150i1R151i1R152i1R119i1R120zR121zR122zR123zR50R37R26y29:Leather%20Balteus%20(Partial)R154oR13zggR125zR126zR127R37goR77i15R76fR145cR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR154oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR170R171acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR154oR18zggy3:qtyi1gcR173R174nR175cR146R118nR147nR148zR149zR162nR150i2R151i2R152i3R119i1R120zR121zR122zR123zR50R37R26y16:Leather%20ManicaR154oR20zR22zR10i2ggR177i1ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR171ahgy5:boonscR188R189oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R191y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR171ar131hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR214ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR216ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR234cR235R236i6R237i2R238i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr188gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei6y7:agilityi8y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y11:Hoplomachusg","8.5/12 VL CP:14"),new $("Murmillo","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i35R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR153oR18zggR125zR126zR127R37goR77i36R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR15i2R17zggR125zR126zR127R37goR77i37R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i2R151i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR153oR13zggR125zR126zR127R37goR77i38R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR169R170ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR170ahgy5:boonscR181R182oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R184y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR170ar125hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR207ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR209ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR227cR228R229zR230i15R231i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr182gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei5y7:agilityi8y8:strengthi8y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Murmillog","8.5/13 S CP:14"),new $("Secutor","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i35R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR153oR18zggR125zR126zR127R37goR77i36R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR15i2R17zggR125zR126zR127R37goR77i37R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i2R151i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR153oR13zggR125zR126zR127R37goR77i38R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR169R170ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR170ahgy5:boonscR181R182oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R184y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR170ar125hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR207ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR209ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR227cR228R229zR230i8R231i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr182gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei8y7:agilityi6y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y7:Secutorg","8.5/13 VL CP:14"),new $("Anglian Huscarl","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi24y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi1y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagszy5:guardi1y3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi4y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyi2y4:costi1y5:flagszy6:weightd0.5R50R37R26y24:Arming%20Sword%20(Early)gy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i36R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:PugiogR125zR126zR127R37R128fghy7:shieldsaoR77i23R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizezy2:AVi6R119i1R120zR121i10R122zR123zR50R37R26y33:Wooden%20Targe%20%3A7(%2B0b)%2010gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i15R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi2y3:AVCi3R119i1R120i1R121i2R122zR123zR50R37R26y18:Leather%20Leggingsy8:coverageoR15zR14zR16zR17zR18zggR125zR126zR127R37goR77i16R76fR142cR143R118nR144cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layeri1y18:restrictsBreathingzgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i3R122zR123i1R50R37R26y12:Mail%20BootsR152oR19zggR125zR126zR127R37goR77i17R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i2R121i2R122zR123d2.5R50R37R26y11:Mail%20CoatR152oR11zR12zR13zR24zR25zR14zR16zR17zR10zR15zggR125zR126zR127R37goR77i18R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i3R122zR123d0.5R50R37R26y23:Mail%20Gloves%2FMittensR152oR23zggR125zR126zR127R37goR77i19R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i2R146zR147nR148i3R149i4R150i6R119i1R120i2R121i1R122zR123d1.5R50R37R26y21:Mail%20Long%20SleevesR152oR22zR21zR20zR10zggR125zR126zR127R37goR77i21R76fR142cR143R118nR144nR145i8R146zR147nR148i4R149i3R150i2R119i1R120zR121i17R122zR123d0.5R50R37R26y14:Quilted%20CoatR152oR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR125zR126zR127R37goR77i22R76fR142cR143R118nR144nR145i8R146zR147nR148i4R149i3R150i2R119i1R120zR121i6R122zR123zR50R37R26y24:Quilted%20Long%20SleevesR152oR21zR22zR20zR10zggR125zR126zR127R37goR77i33R76fR142cR143R118nR144cR153R154nR155cy27:troshx.sos.core.HitModifiery5:addAVzy10:multiplyAVzy14:targetZoneMaski2y12:locationMaskzgR156nR157zR158zR159zgR145i2R146zR147nR148i1R149i2R150i4R119i1R120i1R121i1R122zR123zR50R37R26y9:Bar-NaselR152oR7i1ggR125zR126zR127R37goR77i34R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i2R122zR123i1R50R37R26y11:Mail%20CoifR152oR8zR9zR6zggR125zR126zR127R37goR77i35R76fR142cR143R118nR144cR153R154nR155cR166R167i2R168i1R169i1R170zgR156nR157zR158zR159zgR145i2R146zR148i6R149i7R150i8R119i1R120i1R121i2R122zR123i2R50R37R26y14:Conical%20HelmR152oR6zggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR176R177ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy11:Old%20Woundcy29:troshx.sos.bnb.OldWoundAssigny15:__hasUIFields__ty9:permaMaskzR47i8281y12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:charr0y4:banecy23:troshx.sos.bnb.OldWoundR26R190y5:costsai1hR122i2y9:clampRankfy13:multipleTimesi-2y8:channelszy13:superChannelszy6:isBanetgy4:ranki1y11:_costCachedi5ggR177ar140hgy5:boonscR188R189oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR194i1R195fR196fR197i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R210R201ai2i4hR122zR202fR203zR204zR205zgR207i1R208i2y16:_remainingCachedi999ggR177ar146hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi3y5:Drilli4y10:Navigationi1y11:Observationi1y7:Stealthi1y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR222ty8:SwimmingtR225ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR227ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR244cR245R246i9R247i3R248zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesay20:Shield%20Tactics%201R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesay3:Hewy5:FeinthR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr203gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi6y9:willpoweri6y6:healthi5y9:endurancei5y7:agilityi7y8:strengthi7y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y17:Anglian%20Huscarlg","9.5/12 M CP:14*"),new $("Crupellarius","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi40y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialny10:meleeFlagszy5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y7:Gladiusgy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i42R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgR92i1024R93zR94i7R95i1R96zR97i1R98i-1R99i6R100i7R101nR102i2R103fR104nR105i64R106nR107i1R108zR109i6R110zR111zR50R37R26y5:PugiogR113zR114zR115R37R116fghy7:shieldsaoR77i26R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R107i1R108i1R109i5R110zR111i2R50R37R26y25:Scutum%20%3A6(%2B1b)%2012gR113zR114zR115R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i11R76fy5:armorcy21:troshx.sos.core.ArmorR106ny7:specialcy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifiercy27:troshx.sos.core.HitModifiery5:addAVzy10:multiplyAVi1y14:targetZoneMaskzy12:locationMaskzgy8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi3gy12:specialFlagsi2y2:ppi3y3:AVBi4y3:AVPi5y3:AVCi6R107i1R108i1R109i30R110zR111i5R50R37R26y13:Bucket%20Helmy8:coverageoR6zR7i1R8zR9i1ggR113zR114zR115R37goR77i19R76fR142cR143R106nR144nR157i2R158zy10:burdinadinnR159i4R160i5R161i6R107i1R108i1R109i12R110zR111i3R50R37R26y26:Iron%20Segmented%20TassetsR163oR15i1R14i1R16i1ggR113zR114zR115R37goR77i23R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y19:Lorica%20segmentataR163oR25i1R24i1R11i1R10i1R13i1R12i1ggR113zR114zR115R37goR77i25R76fR142cR143R106nR144nR157zR158zR164nR159i2R160i2R161i3R107i1R108zR109zR110zR111zR50R37R26y18:Leather%20CingulumR163oR16i2R13zggR113zR114zR115R37goR77i26R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y14:Iron%20GreevesR163oR17i1R18i1ggR113zR114zR115R37goR77i27R76fR142cR143R106nR144nR157zR158zR164nR159i2R160i1R161i2R107i1R108zR109zR110zR111zR50R37R26y16:Cloth%20BindingsR163oR18zR22zR13i2R15i2R17zggR113zR114zR115R37goR77i28R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y13:Iron%20ManicaR163oR20i1R22i1R10i3R21i1ggR113zR114zR115R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR173R174ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR174ahgy5:boonscR185R186oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R188y5:costsai2i4hR110zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR174ar126hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi5y8:Climbingi1y5:Drilli2y8:Swimmingi1y7:Tacticsi1gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR212tR213ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR215ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR232cR233R234zR235i7R236zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR104ny11:profsRangedi17y10:profsMeleei507y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr183gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi5y9:willpoweri2y6:healthi4y9:endurancei7y7:agilityi6y8:strengthi7y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y12:Crupellariusg","19/14 S CP:12-")]},gs.prototype={__class__:gs};var ds=function(){};(i["troshx.sos.races.Races"]=ds).__name__=["troshx","sos","races","Races"],ds.getTiers=function(){return null!=ds.TIERS?ds.TIERS:ds.TIERS=ds.getNewTiers()},ds.getNewTiers=function(){return[[new ps,new _s],[new fs,new ms],[new vs,new bs],[new Ss],[new ws,new xs,new As,new zs]]};var ps=function(){vi.call(this,"Human")};(i["troshx.sos.races.Human"]=ps).__name__=["troshx","sos","races","Human"],ps.__super__=vi,ps.prototype=t(vi.prototype,{__class__:ps});var _s=function(){vi.call(this,"Goblin");var t=_i.create(0,"Goblin",-1),t=(t=(t=(t=(this.staticModifiers=t).next=_i.create(1,"Goblin",1)).next=_i.create(7,"Goblin",1)).next=_i.create(9,"Small",-2)).next=_i.create(14,"Small",-2)};(i["troshx.sos.races.Goblin"]=_s).__name__=["troshx","sos","races","Goblin"],_s.__super__=vi,_s.prototype=t(vi.prototype,{__class__:_s});var fs=function(){vi.call(this,"Dwarf");var t=_i.create(2,"Dwarf",2),t=(t=(t=(t=(this.staticModifiers=t).next=_i.create(3,"Dwarf",1)).next=_i.create(14,"Short and Stout",-1)).next=_i.create(9,"Short and Stout",-2)).next=_i.create(12,"Sturdy Build",1)};(i["troshx.sos.races.Dwarf"]=fs).__name__=["troshx","sos","races","Dwarf"],fs.__super__=vi,fs.prototype=t(vi.prototype,{__class__:fs});var ms=function(){vi.call(this,"Zell");var t=_i.create(1,"Zell",1),t=(this.staticModifiers=t).next=_i.create(7,"Zell",2)};(i["troshx.sos.races.Zell"]=ms).__name__=["troshx","sos","races","Zell"],ms.__super__=vi,ms.prototype=t(vi.prototype,{__class__:ms});var vs=function(){vi.call(this,"Burdinadin");var t=_i.create(6,"Burdinadin",1),t=(this.staticModifiers=t).next=_i.create(1,"Burdinadin",1)};(i["troshx.sos.races.Burdinadin"]=vs).__name__=["troshx","sos","races","Burdinadin"],vs.__super__=vi,vs.prototype=t(vi.prototype,{__class__:vs});var bs=function(){vi.call(this,"Ohanedin");var t=_i.create(0,"Ohanedin",1),t=(t=(this.staticModifiers=t).next=_i.create(1,"Ohanedin",1)).next=_i.create(7,"Ohanedin",1)};(i["troshx.sos.races.Ohanedin"]=bs).__name__=["troshx","sos","races","Ohanedin"],bs.__super__=vi,bs.prototype=t(vi.prototype,{__class__:bs});var Ss=function(){vi.call(this,"Orredin"),this.magic=!0};(i["troshx.sos.races.Orredin"]=Ss).__name__=["troshx","sos","races","Orredin"],Ss.__super__=vi,Ss.prototype=t(vi.prototype,{__class__:Ss});var ws=function(){vi.call(this,"Star Vampire"),this.magic=!0};(i["troshx.sos.races.StarVampire"]=ws).__name__=["troshx","sos","races","StarVampire"],ws.__super__=vi,ws.prototype=t(vi.prototype,{__class__:ws});var xs=function(){vi.call(this,"Saturi Chosen")};(i["troshx.sos.races.SaturiChosen"]=xs).__name__=["troshx","sos","races","SaturiChosen"],xs.__super__=vi,xs.prototype=t(vi.prototype,{__class__:xs});var As=function(){vi.call(this,"Genosian Paladin")};(i["troshx.sos.races.GenosianPaladin"]=As).__name__=["troshx","sos","races","GenosianPaladin"],As.__super__=vi,As.prototype=t(vi.prototype,{__class__:As});var zs=function(){vi.call(this,"Dessian Silver Guard")};function Ts(){bi.call(this,"Esoteric School",4,8)}(i["troshx.sos.races.DessianSilverGuard"]=zs).__name__=["troshx","sos","races","DessianSilverGuard"],zs.__super__=vi,zs.prototype=t(vi.prototype,{__class__:zs}),(i["troshx.sos.schools.EsotericSchool"]=Ts).__name__=["troshx","sos","schools","EsotericSchool"],Ts.__super__=bi,Ts.prototype=t(bi.prototype,{customRequire:function(t){var e=null!=Ts.TEST?Ts.TEST:Ts.TEST=new vt,e=O.field(t.banes.hash,e.name);return null==e||0==e.rank},getSchoolBonuses:function(t){return new Ls},__class__:Ts});var Ls=function(){this.__hasUIFields__=!0,this.flags=3,Si.call(this)};function Ms(){bi.call(this,"Noble",3,5),this.costMoney=li.create(15,0,0)}(i["troshx.sos.schools.EsotericSchoolBonuses"]=Ls).__name__=["troshx","sos","schools","EsotericSchoolBonuses"],Ls.__super__=Si,Ls.prototype=t(Si.prototype,{getTags:function(){var t=[],e=this.flags;return 0!=(1&e)&&t.push("Simplicity"),0!=(2&e)&&t.push("Flowing Water"),0!=(4&e)&&t.push("Raging Flame"),0!=(8&e)&&t.push("Biting Wind"),0!=(16&e)&&t.push("Stoic Earth"),t},getUIFields:function(){return[{prop:"flags",type:"SingleSelection",label:"Choose Element",labels:["Flowing Water","Raging Flame","Biting Wind","Stoic Earth"],values:[3,5,9,17]}]},__class__:Ls}),(i["troshx.sos.schools.Noble"]=Ms).__name__=["troshx","sos","schools","Noble"],Ms.__super__=bi,Ms.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Is},__class__:Ms});var Is=function(){Si.call(this)};function Cs(){bi.call(this,"Officer",4,3),this.costMoney=li.create(5,0,0)}(i["troshx.sos.schools.NobleBonuses"]=Is).__name__=["troshx","sos","schools","NobleBonuses"],Is.__super__=Si,Is.prototype=t(Si.prototype,{getTags:function(){return["Superior Instruction","Confidence"]},getUIFields:function(){return[]},__class__:Is}),(i["troshx.sos.schools.Officer"]=Cs).__name__=["troshx","sos","schools","Officer"],Cs.__super__=bi,Cs.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Es},__class__:Cs});var Es=function(){this.__hasUIFields__=!0,this.choice2="Protect the Banner!",Si.call(this)};(i["troshx.sos.schools.OfficerBonuses"]=Es).__name__=["troshx","sos","schools","OfficerBonuses"],Es.__super__=Si,Es.prototype=t(Si.prototype,{getTags:function(){return["By Example!",this.choice2]},getUIFields:function(){return[{prop:"choice2",type:"SingleSelectionStr",label:"Choose Benefit #2",labels:["Protect the Banner!","Ride to Ruin!"]}]},__class__:Es});var Ps=function(){};(i["troshx.sos.schools.Schools"]=Ps).__name__=["troshx","sos","schools","Schools"],Ps.getList=function(){return null!=Ps.LIST?Ps.LIST:Ps.LIST=Ps.getNewList()},Ps.getNewList=function(){return[new ks,new Bs,new Cs,new Ms,new Ns,new Fs,new Ts]};var ks=function(){bi.call(this,"Scrapper",4,0)};(i["troshx.sos.schools.Scrapper"]=ks).__name__=["troshx","sos","schools","Scrapper"],ks.__super__=bi,ks.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Hs},__class__:ks});var Hs=function(){Si.call(this)};(i["troshx.sos.schools.ScrapperBonuses"]=Hs).__name__=["troshx","sos","schools","ScrapperBonuses"],Hs.__super__=Si,Hs.prototype=t(Si.prototype,{getTags:function(){return["Dirty Trick","Grapple"]},getUIFields:function(){return[]},__class__:Hs});var Bs=function(){bi.call(this,"Soldier",10,1),this.staticModifiers=_i.create(20,"Warrior's Grit",2)};(i["troshx.sos.schools.Soldier"]=Bs).__name__=["troshx","sos","schools","Soldier"],Bs.__super__=bi,Bs.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Ds},__class__:Bs});var Ds=function(){Si.call(this)};(i["troshx.sos.schools.SoldierBonuses"]=Ds).__name__=["troshx","sos","schools","SoldierBonuses"],Ds.__super__=Si,Ds.prototype=t(Si.prototype,{getTags:function(){return["Discipline","Warrior's Grit"]},getUIFields:function(){return[]},__class__:Ds});var Ns=function(){bi.call(this,"Traditional Fencer",4,5),this.costMoney=li.create(10,0,0)};(i["troshx.sos.schools.TraditionalFencer"]=Ns).__name__=["troshx","sos","schools","TraditionalFencer"],Ns.__super__=bi,Ns.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Os},__class__:Ns});var Os=function(){Si.call(this)};(i["troshx.sos.schools.TraditionalFencerBonuses"]=Os).__name__=["troshx","sos","schools","TraditionalFencerBonuses"],Os.__super__=Si,Os.prototype=t(Si.prototype,{getTags:function(){return["Extreme Repetition","Centered"]},getUIFields:function(){return[]},__class__:Os});var Fs=function(){bi.call(this,"Unorthodox Fencer",6,5),this.costMoney=li.create(5,0,0)};(i["troshx.sos.schools.UnorthodoxFencer"]=Fs).__name__=["troshx","sos","schools","UnorthodoxFencer"],Fs.__super__=bi,Fs.prototype=t(bi.prototype,{getSchoolBonuses:function(t){return new Ws},__class__:Fs});var Ws=function(){Si.call(this)};(i["troshx.sos.schools.UnorthodoxFencerBonuses"]=Ws).__name__=["troshx","sos","schools","UnorthodoxFencerBonuses"],Ws.__super__=Si,Ws.prototype=t(Si.prototype,{getTags:function(){return["The Meisterhau","Treachery"]},getUIFields:function(){return[]},__class__:Ws});var Gs=function(){this.woundHash={},this.wounds=[],this.body=Je.getInstance(),this.inventory=new ci,this.arcFlaw="",this.arcGlory="",this.arcBelief="",this.arcEpic="",this.arcSaga="",this.arcSpent=0,this.arcPointsAccum=0,this.banes=new it,this.boons=new it,this.direPast=!1,this.talents=[],this.skills=Ai.getNewEmptySkillTable(Ai.getDefaultSkillTable()),this.wealthAssetAssignCount=0,this.wealthAssets=[],this.socialClass=new zi("",new li,0),this.money=new li,this.situationalModifierTable=pi.getSituationalModifierSlots(),this.staticModifierTable=pi.getStaticModifierSlots(),this.ingame=!1,this.fatique=0,this.talentNotes=[],this.masteryManueverNotes=[],this.superiorManueverNotes=[],this.profsCustom=null,this.profsRanged=0,this.profsMelee=0,this.schoolLevel=0,this.schoolBonuses=null,this.school=null,this.gritAccum=0,this.prone=!1,this.healthLoss=0,this.version=2,this.perception=1,this.intelligence=1,this.wit=1,this.willpower=1,this.health=1,this.endurance=1,this.agility=1,this.strength=1,this.age=-1,this.leftHanded=!1,this.gender=0,this.race=null,this.title="",this.notes="",this.faction="",this.nickname="",this.name=""};(i["troshx.sos.sheets.CharSheet"]=Gs).__name__=["troshx","sos","sheets","CharSheet"],Gs.getTotalLiquidity=function(t,e){null==e&&(e=0);for(var i=0!=e?e:t.length,s=0;-1<--i;){var n=t[i];s+=n.liquidate?6*n.worth:0}return s},Gs.dynSetField=function(t,e,i){t[e]=i},Gs.dynDelField=function(t,e){O.deleteField(t,e)},Gs.prototype={get_uid:function(){return(""!=this.title?this.title+" ":"")+this.name+(""!=this.nickname?' "'+this.nickname+'"':"")+(""!=this.faction?" of "+this.faction:"")},set_race:function(t){var e=this.race;if(e!=t){if(null!=e){var i=e.staticModifiers;if(null!=i)for(var s=this.staticModifierTable[i.index],n=(s.splice(s.indexOf(i),1),i.next);null!=n;)(s=this.staticModifierTable[n.index]).splice(s.indexOf(n),1),n=n.next;i=e.situationalModifiers;if(null!=i)for(var a=this.situationalModifierTable[i.index],r=(a.splice(a.indexOf(i),1),i.next);null!=r;)(a=this.situationalModifierTable[r.index]).splice(a.indexOf(r),1),r=r.next}if(null!=t){i=t.staticModifiers;if(null!=i){var o=this.staticModifierTable[i.index];o.push(i);for(var h=i.next;null!=h;)(o=this.staticModifierTable[h.index]).push(h),h=h.next}i=t.situationalModifiers;if(null!=i){var l=this.situationalModifierTable[i.index];l.push(i);for(var c=i.next;null!=c;)(l=this.situationalModifierTable[c.index]).push(c),c=c.next}}this.race=t}return t},get_labelGender:function(){return 0==this.gender?"Male":"Female"},postSerialization:function(){this.postSerialize_2(),this.body=Je.getInstance(),this.inventory.postSerialization()},postSerialize_2:function(){return(null==this.version||this.version<2)&&(this.version=2,this.ingame||(this.ingame=!0),null==this.healthLoss&&(this.healthLoss=0),null==this.prone&&(this.prone=!1),!0)},get_STR:function(){return this.clampIntZero(this.getModifiedValue(0,this.strength))},get_AGI:function(){return this.clampIntZero(this.getModifiedValue(1,this.agility))},get_END:function(){return this.clampIntZero(this.getModifiedValue(2,this.endurance))},get_HLT:function(){return Math.floor(this.getModifiedValue(3,this.health))-this.healthLoss},get_WIP:function(){return this.clampIntZero(this.getModifiedValue(4,this.willpower))},get_WIT:function(){return this.clampIntZero(this.getModifiedValue(5,this.wit))},get_INT:function(){return this.clampIntZero(this.getModifiedValue(6,this.intelligence))},get_PER:function(){return this.clampIntZero(this.getModifiedValue(7,this.perception))},set_school:function(t){var e=this.school;if(e!=t){if(null!=e){var i=e.staticModifiers;if(null!=i)for(var s=this.staticModifierTable[i.index],n=(s.splice(s.indexOf(i),1),i.next);null!=n;)(s=this.staticModifierTable[n.index]).splice(s.indexOf(n),1),n=n.next;i=e.situationalModifiers;if(null!=i)for(var a=this.situationalModifierTable[i.index],r=(a.splice(a.indexOf(i),1),i.next);null!=r;)(a=this.situationalModifierTable[r.index]).splice(a.indexOf(r),1),r=r.next}if(null!=t){i=t.staticModifiers;if(null!=i){var o=this.staticModifierTable[i.index];o.push(i);for(var h=i.next;null!=h;)(o=this.staticModifierTable[h.index]).push(h),h=h.next}i=t.situationalModifiers;if(null!=i){var l=this.situationalModifierTable[i.index];l.push(i);for(var c=i.next;null!=c;)(l=this.situationalModifierTable[c.index]).push(c),c=c.next}}this.school=t}return t},set_schoolBonuses:function(t){var e=this.schoolBonuses;if(e!=t){if(null!=e){var i=e.situationalModifiers;if(null!=i)for(var s=this.situationalModifierTable[i.index],n=(s.splice(s.indexOf(i),1),i.next);null!=n;)(s=this.situationalModifierTable[n.index]).splice(s.indexOf(n),1),n=n.next}if(null!=t){i=t.situationalModifiers;if(null!=i){var a=this.situationalModifierTable[i.index];a.push(i);for(var r=i.next;null!=r;)(a=this.situationalModifierTable[r.index]).push(r),r=r.next}}this.schoolBonuses=t}return t},getTotalProfeciencies:function(){for(var t=0,e=0,i=mi.getCoreMelee().length;e<i;){var s=e++;t+=0!=(this.profsMelee&1<<s)?1:0}for(var n=0,a=(null!=mi.CORE_RANGED?mi.CORE_RANGED:mi.CORE_RANGED=mi.getNewCoreRanged()).length;n<a;){var r=n++;t+=0!=(this.profsRanged&1<<r)?1:0}return t},get_assetWorth:function(){for(var t=this.wealthAssets.length,e=0;-1<--t;)e+=this.wealthAssets[t].worth;return e},getAssetsWithWorth:function(t){for(var e=[],i=0,s=this.wealthAssets.length;i<s;){var n=i++,n=this.wealthAssets[n];n.worth==t&&e.push(n)}return e},getEmptyWealthAssetAssign:function(t){t={name:"",liquidate:!1,uid:this.wealthAssetAssignCount,worth:t};return this.wealthAssetAssignCount++,t},get_assetLiquidateTotal:function(){return Gs.getTotalLiquidity(this.wealthAssets)},get_boonsArray:function(){return this.boons.list},addBoon:function(t){this.boons.add(t)},removeBoon:function(t){this.boons.delete(t)},get_banesArray:function(){return this.banes.list},addBane:function(t){this.banes.add(t)},removeBane:function(t){this.banes.delete(t)},mayRemoveBane:function(t){this.banes.contains(t)&&this.banes.delete(t)},boonRankUpdated:function(t,e,i){if(0<i){if(null!=t.boon.staticModifiers&&t.boon.staticModifiers.length>=i){var s=t.boon.staticModifiers[i-1];if(null!=s)for(var n=this.staticModifierTable[s.index],a=(n.splice(n.indexOf(s),1),s.next);null!=a;)(n=this.staticModifierTable[a.index]).splice(n.indexOf(a),1),a=a.next}if(null!=t.boon.situationalModifiers&&t.boon.situationalModifiers.length>=i){s=t.boon.situationalModifiers[i-1];if(null!=s)for(var r=this.situationalModifierTable[s.index],o=(r.splice(r.indexOf(s),1),s.next);null!=o;)(r=this.situationalModifierTable[o.index]).splice(r.indexOf(o),1),o=o.next}if(null!=t.situationalModifiers&&t.situationalModifiers.length>=i){i=t.situationalModifiers[i-1];if(null!=i)for(var h=this.situationalModifierTable[i.index],l=(h.splice(h.indexOf(i),1),i.next);null!=l;)(h=this.situationalModifierTable[l.index]).splice(h.indexOf(l),1),l=l.next}}if(0<e){if(null!=t.boon.staticModifiers&&t.boon.staticModifiers.length>=e){var c=t.boon.staticModifiers[e-1];if(null!=c){var R=this.staticModifierTable[c.index];R.push(c);for(var u=c.next;null!=u;)(R=this.staticModifierTable[u.index]).push(u),u=u.next}}if(null!=t.boon.situationalModifiers&&t.boon.situationalModifiers.length>=e){c=t.boon.situationalModifiers[e-1];if(null!=c){var y=this.situationalModifierTable[c.index];y.push(c);for(var g=c.next;null!=g;)(y=this.situationalModifierTable[g.index]).push(g),g=g.next}}if(null!=t.situationalModifiers&&t.situationalModifiers.length>=e){e=t.situationalModifiers[e-1];if(null!=e){var d=this.situationalModifierTable[e.index];d.push(e);for(var p=e.next;null!=p;)(d=this.situationalModifierTable[p.index]).push(p),p=p.next}}}},baneRankUpdated:function(t,e,i){if(0<i){if(null!=t.bane.staticModifiers&&t.bane.staticModifiers.length>=i){var s=t.bane.staticModifiers[i-1];if(null!=s)for(var n=this.staticModifierTable[s.index],a=(n.splice(n.indexOf(s),1),s.next);null!=a;)(n=this.staticModifierTable[a.index]).splice(n.indexOf(a),1),a=a.next}if(null!=t.bane.situationalModifiers&&t.bane.situationalModifiers.length>=i){s=t.bane.situationalModifiers[i-1];if(null!=s)for(var r=this.situationalModifierTable[s.index],o=(r.splice(r.indexOf(s),1),s.next);null!=o;)(r=this.situationalModifierTable[o.index]).splice(r.indexOf(o),1),o=o.next}if(null!=t.situationalModifiers&&t.situationalModifiers.length>=i){i=t.situationalModifiers[i-1];if(null!=i)for(var h=this.situationalModifierTable[i.index],l=(h.splice(h.indexOf(i),1),i.next);null!=l;)(h=this.situationalModifierTable[l.index]).splice(h.indexOf(l),1),l=l.next}}if(0<e){if(null!=t.bane.staticModifiers&&t.bane.staticModifiers.length>=e){var c=t.bane.staticModifiers[e-1];if(null!=c){var R=this.staticModifierTable[c.index];R.push(c);for(var u=c.next;null!=u;)(R=this.staticModifierTable[u.index]).push(u),u=u.next}}if(null!=t.bane.situationalModifiers&&t.bane.situationalModifiers.length>=e){c=t.bane.situationalModifiers[e-1];if(null!=c){var y=this.situationalModifierTable[c.index];y.push(c);for(var g=c.next;null!=g;)(y=this.situationalModifierTable[g.index]).push(g),g=g.next}}if(null!=t.situationalModifiers&&t.situationalModifiers.length>=e){e=t.situationalModifiers[e-1];if(null!=e){var d=this.situationalModifierTable[e.index];d.push(e);for(var p=e.next;null!=p;)(d=this.situationalModifierTable[p.index]).push(p),p=p.next}}}},boonRankCanceledChange:function(t,e,i){this.boonRankUpdated(t,e?0:t.rank,i?0:t.rank)},baneRankCanceledChange:function(t,e,i){this.baneRankUpdated(t,e?0:t.rank,i?0:t.rank)},boonAssignReplaced:function(t,e){if(null!=e.boon.staticModifiers&&e.boon.staticModifiers.length>=e.rank){var i=e.boon.staticModifiers[e.rank-1];if(null!=i)for(var s=this.staticModifierTable[i.index],n=(s.splice(s.indexOf(i),1),i.next);null!=n;)(s=this.staticModifierTable[n.index]).splice(s.indexOf(n),1),n=n.next}if(null!=e.boon.situationalModifiers&&e.boon.situationalModifiers.length>=e.rank){i=e.boon.situationalModifiers[e.rank-1];if(null!=i)for(var a=this.situationalModifierTable[i.index],r=(a.splice(a.indexOf(i),1),i.next);null!=r;)(a=this.situationalModifierTable[r.index]).splice(a.indexOf(r),1),r=r.next}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=e.rank){e=e.situationalModifiers[e.rank-1];if(null!=e)for(var o=this.situationalModifierTable[e.index],h=(o.splice(o.indexOf(e),1),e.next);null!=h;)(o=this.situationalModifierTable[h.index]).splice(o.indexOf(h),1),h=h.next}if(null!=t.boon.staticModifiers&&t.boon.staticModifiers.length>=t.rank){var l=t.boon.staticModifiers[t.rank-1];if(null!=l){var c=this.staticModifierTable[l.index];c.push(l);for(var R=l.next;null!=R;)(c=this.staticModifierTable[R.index]).push(R),R=R.next}}if(null!=t.boon.situationalModifiers&&t.boon.situationalModifiers.length>=t.rank){l=t.boon.situationalModifiers[t.rank-1];if(null!=l){var u=this.situationalModifierTable[l.index];u.push(l);for(var y=l.next;null!=y;)(u=this.situationalModifierTable[y.index]).push(y),y=y.next}}if(null!=t.situationalModifiers&&t.situationalModifiers.length>=t.rank){t=t.situationalModifiers[t.rank-1];if(null!=t){var g=this.situationalModifierTable[t.index];g.push(t);for(var d=t.next;null!=d;)(g=this.situationalModifierTable[d.index]).push(d),d=d.next}}},removeStaticModifier:function(t){if(null!=t)for(var e=this.staticModifierTable[t.index],i=(e.splice(e.indexOf(t),1),t.next);null!=i;)(e=this.staticModifierTable[i.index]).splice(e.indexOf(i),1),i=i.next},removeSituationalModifier:function(t){if(null!=t)for(var e=this.situationalModifierTable[t.index],i=(e.splice(e.indexOf(t),1),t.next);null!=i;)(e=this.situationalModifierTable[i.index]).splice(e.indexOf(i),1),i=i.next},addStaticModifier:function(t){if(null!=t){var e=this.staticModifierTable[t.index];e.push(t);for(var i=t.next;null!=i;)(e=this.staticModifierTable[i.index]).push(i),i=i.next}},addSituationalModifier:function(t){if(null!=t){var e=this.situationalModifierTable[t.index];e.push(t);for(var i=t.next;null!=i;)(e=this.situationalModifierTable[i.index]).push(i),i=i.next}},getModifiedValue:function(t,e){for(var i=this.staticModifierTable[t],s=e,n=0,a=i.length;n<a;)s*=i[n++].multiply;for(var r=0,o=i.length;r<o;)s+=i[r++].add;for(var h=this.situationalModifierTable[t],l=0,c=h.length;l<c;)s=h[l++].getModifiedValueMultiply(this,e,s);for(var R=0,u=h.length;R<u;)s=h[R++].getModifiedValueAdd(this,e,s);return s},get_totalWeight:function(){return this.inventory.calculateTotalWeight()},applyWound:function(t){var e=t.getUID(this.body);Object.prototype.hasOwnProperty.call(this.woundHash,e)?this.woundHash[e].updateAgainst(t):(Gs.dynSetField(this.woundHash,e,t),this.wounds.push(t))},hasWound:function(t){t=t.getUID(this.body);return Object.prototype.hasOwnProperty.call(this.woundHash,t)},getWound:function(t){return this.woundHash[t.getUID(this.body)]},removeWound:function(t){var e=t.getUID(this.body);Object.prototype.hasOwnProperty.call(this.woundHash,e)?Gs.dynDelField(this.woundHash,e):console.log("Warning: No wound found to be removed for uid:"+t.getUID(this.body));t=this.wounds.indexOf(t);0<=t?this.wounds.splice(t,1):console.log("Warning: No wound found to be removed for array index:"+t)},wealthAssetsWorth:function(){for(var t=this.wealthAssets.length,e=0;-1<--t;)e+=this.wealthAssets[t].worth;return e},get_pain:function(){var t=this.get_totalPain()-(this.clampIntZero(this.getModifiedValue(20,this.willpower/2|0))+this.gritAccum|0);return t<0?0:t},get_totalPain:function(){for(var t=0,e=!1,i=0,s=this.wounds.length;i<s;){var n=i++,n=this.wounds[n];t+=0!=(2&n.flags)?Math.floor(.5*n.pain):n.pain,n.pain<0&&(e=!0)}return e?999999999:t},get_totalBloodLost:function(){for(var t=0,e=0,i=this.wounds.length;e<i;){var s=e++,s=this.wounds[s];t+=0==(3&s.flags)?s.BL:0}return t},get_adr:function(){return(this.get_AGI()+this.get_WIT())/2|0},get_mob:function(){return(this.get_STR()+this.get_AGI()+this.get_END())/2|0},get_car:function(){return this.get_STR()+this.get_END()},get_cha:function(){return(this.get_WIP()+this.get_WIT()+this.get_PER())/2|0},get_tou:function(){return 4},get_ADR:function(){return this.clampIntZero(this.getModifiedValue(8,(this.get_AGI()+this.get_WIT())/2|0))},get_MOB:function(){var t=this.get_encumbranceLvlRow();return t.mobMult*this.clampIntZero(this.getModifiedValue(9,(this.get_STR()+this.get_AGI()+this.get_END())/2|0)+t.mob+Us.getTable()[this.get_fatiqueLevel()].mob)},get_CAR:function(){return this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END()))))},get_CHA:function(){return this.clampIntZero(this.getModifiedValue(11,(this.get_WIP()+this.get_WIT()+this.get_PER())/2|0))},get_startingGrit:function(){return this.clampIntZero(this.getModifiedValue(20,this.willpower/2|0))},get_GRIT:function(){return this.clampIntZero(this.getModifiedValue(20,this.willpower/2|0))+this.gritAccum|0},get_baseGrit:function(){return this.willpower/2|0},clampIntZero:function(t){t|=0;return t<0?0:t},hasStaticModifier:function(t){return 0<=this.staticModifierTable[t.index].indexOf(t)},hasSituationalCharModifier:function(t){return 0<=this.situationalModifierTable[t.index].indexOf(t)},get_TOU:function(){return this.clampIntZero(this.getModifiedValue(12,4))},get_SDB:function(){return this.get_STR()/2|0},get_labelRace:function(){return null!=this.race?this.race.name:"Unspecified"},get_labelSchool:function(){return null!=this.school?this.school.name:""},get_labelSocialClass:function(){return null!=this.socialClass?this.socialClass.name:""},get_baseCP:function(){return(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,(this.get_AGI()+this.get_WIT())/2|0))},get_CP:function(){var t=this.get_encumbranceLvlRow();return t.cpMult*this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,(this.get_AGI()+this.get_WIT())/2|0)))*(this.prone?.5:1)+t.cp+Us.getTable()[this.get_fatiqueLevel()].cp)},get_fullCP:function(){return this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,(this.get_AGI()+this.get_WIT())/2|0))))},get_meleeCP:function(){var t=this.get_encumbranceLvlRow();return t.cpMult*this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,(this.get_AGI()+this.get_WIT())/2|0)))*(this.prone?.5:1)+t.cp+Us.getTable()[this.get_fatiqueLevel()].cp)-this.get_pain()},get_schoolCP:function(){return 1<=this.schoolLevel?this.schoolLevel:0},get_arcPointsAvailable:function(){var t=this.arcPointsAccum-this.arcSpent;return 0<=t?t:0},get_skillPenalty:function(){return this.get_encumbranceLvlRow().skill+Us.getTable()[this.get_fatiqueLevel()].skill},get_recoveryRate:function(){return this.clampIntZero(this.get_encumbranceLvlRow().recovery)},get_encumbranceLvlRow:function(){var t=Vs.getTable();return t[Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))>=t.length?t.length-1:Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))<0?0:Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))]},get_encumbranceLvl:function(){return Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))},get_encumberedBeyond:function(){return 5<=Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))},get_exhaustionRate:function(){return this.get_encumbranceLvlRow().exhaustion},get_fatiqueLevel:function(){var t=this.get_HLT();return t<0&&(t=0),Us.getFatiqueLevel(this.fatique,t)},get_fatiqueSkillPenalty:function(){return Us.getTable()[this.get_fatiqueLevel()].skill},get_fatiqueMobPenalty:function(){return Us.getTable()[this.get_fatiqueLevel()].mob},get_fatiqueCPPenalty:function(){return Us.getTable()[this.get_fatiqueLevel()].cp},__class__:Gs};var Vs=function(){};(i["troshx.sos.sheets.EncumbranceTable"]=Vs).__name__=["troshx","sos","sheets","EncumbranceTable"],Vs.getTable=function(){return null!=Vs.TABLE?Vs.TABLE:Vs.TABLE=Vs.getNewTable()},Vs.getNewTable=function(){return[{name:"Unencumbered",cp:0,mob:0,skill:0,exhaustion:1,recovery:1,cpMult:1,mobMult:1},{name:"Light",cp:-1,mob:-2,skill:1,exhaustion:1.5,recovery:1,cpMult:1,mobMult:1},{name:"Medium",cp:-2,mob:-4,skill:2,exhaustion:2,recovery:.5,cpMult:1,mobMult:1},{name:"Heavy",cp:-3,mob:-6,skill:3,exhaustion:3,recovery:.25,cpMult:1,mobMult:1},{name:"Overloaded",cp:-4,mob:-8,skill:4,exhaustion:3.5,recovery:0,cpMult:1,mobMult:1},{name:"Beyond Overloaded!",cp:-4,mob:-8,skill:4,exhaustion:3.5,recovery:0,cpMult:0,mobMult:0}]};var Us=function(){};function qs(){}function Zs(t){this.thrustAvailabilityMask=0,this.swingAvailabilityMask=0,this.defaultThrustAvailMask=0,this.defaultSwingAvailMask=0,this.focusOpponentIndex=0,this.currentPlayerIndex=-1,this.actingState=-1,this.DOLL_SWING_IsLefts=0,this.DOLL_SWING_Indices=[],this.DOLL_SWING_Slugs=[],this.DOLL_GENERAL_FOCUS_DESC=new V,this.DOLL_PART_IsLefts=0,this.DOLL_PART_HitIndices=[],this.DOLL_PART_Indices=[],this.DOLL_PART_Slugs=[],this.draggedCP=0,this.advFocusedIndex=-1,this.focusedIndex=-1,this.observeIndex=-1,this.showFocusedTag=!1,this.observeOpponent=!1,this.incomingHeldDown=!1,this.isTouchDragMode=!1;var e=new q;null!=bn.SWING_LOWER_LEG?e.setReserved("SWING_LOWER_LEG",!0):e.h.SWING_LOWER_LEG=!0,null!=bn.SWING_UPPER_LEG?e.setReserved("SWING_UPPER_LEG",!0):e.h.SWING_UPPER_LEG=!0,null!=bn.KNEE?e.setReserved("KNEE",!0):e.h.KNEE=!0,null!=bn.LEG?e.setReserved("LEG",!0):e.h.LEG=!0,null!=bn.SHIN?e.setReserved("SHIN",!0):e.h.SHIN=!0,null!=bn.THIGH?e.setReserved("THIGH",!0):e.h.THIGH=!0,this.MAP_LOWER_BODY_PARTS=e,this.playerManueverSpec=new tt,this.browseManueverIndex=0,this.browseAttackManueverList3i=[!1,!1,!0,!0,!1,!1],this.browseAttackManueverList3=[1,3,1,2,0,7],this.trayPosFlipY=!1,this.trayPosFlip=!1,this.trayGridShelfX=8,this.trayGridShelfSize=10,this.trayGridSizeY=10,this.trayGridSizeX=10,this.trayPosY=0,this.trayPosX=0,this.boutModel=null!=t?t:new Xe,this.manueverRepo=yi.getMap(),this.basicSwing=this.manueverRepo.swing,this.basicThrust=this.manueverRepo.thrust,this.basicShieldBash=this.manueverRepo.shieldBash;var i=this.manueverRepo;this.advSwingArr=["drawCut","cleavingBlow","hook","feint"].map(function(t){return i[t]});var s=this.manueverRepo;this.advThrustArr=["pushCut","jointThrust","hook","feint"].map(function(t){return s[t]});var n=this.manueverRepo;this.advShieldAttackArr=["","","","shieldFeint"].map(function(t){return n[t]});var a=this.manueverRepo;this.advAntiWeapWithWeaponArr=["disarm","beat","break",""].map(function(t){return a[t]});var r=this.manueverRepo;this.advAntiShieldWithWeaponArr=["hew","beat","hook",""].map(function(t){return r[t]});var o=this.manueverRepo;this.advAntiHandUnarmedArr=["disarmUnarmedAtk"].map(function(t){return o[t]});var h=this.manueverRepo;this.advAntiHandWithShieldArr=["shieldBeat"].map(function(t){return h[t]}),this.basicHookPunch=this.manueverRepo.hookPunch,this.basicStraightPunch=this.manueverRepo.straightPunch;var l=this.manueverRepo;this.advPuglismHandlessArr=["headbutt","elbow","knee","trip"].map(function(t){return l[t]});var c=this.manueverRepo;this.advPuglismThrustSwingArr=["oneTwoPunch","elbow","kick","trip"].map(function(t){return c[t]}),this.mOneTwoPunch=this.manueverRepo.oneTwoPunch,this.basicMeleeShoot=this.manueverRepo.meleeShoot,this.basicNetToss=this.manueverRepo.netToss,this.basicThrow=this.manueverRepo.throw;var R=this.manueverRepo;this.advRangedArr=["","","blindToss","weaponThrow"].map(function(t){return R[t]}),this.basicVoid=this.manueverRepo.void,this.basicParry=this.manueverRepo.parry,this.basicBlock=this.manueverRepo.block;var u=this.manueverRepo;this.advVoidArr=["hastyVoid","mobileVoid","","flee"].map(function(t){return u[t]});var y=this.manueverRepo;this.advParryArr=["disarmUnarmedDef","armParry","riposte",""].map(function(t){return y[t]});var g=this.manueverRepo;this.advBlockArr=["","shieldBind","","totalBlock"].map(function(t){return g[t]}),this.mStealInitiative=this.manueverRepo.stealInitiative,this.mDoNothing=this.manueverRepo.doNothing,this.mMasterStrike=this.manueverRepo.masterStrike,this.mDoubleAttack=this.manueverRepo.doubleAttack,this.mDoubleShot=this.manueverRepo.mDoubleShot,this.mQuickDefense=this.manueverRepo.quickDefense,this.mQuickDraw=this.manueverRepo.quickDraw,this.mAllyDefense=this.manueverRepo.allyDefense,this.mThreadNeedle=this.manueverRepo.threadNeedle,this.mRapidRise=this.manueverRepo.rapidRise,this.mGuardedAttack=this.manueverRepo.guardedAttack}function Ys(t,e,i,s){this.requiredActs=0,this.DEFAULT_ACT_HOVER=new Xs(-1,4096),this.pointerOffsetY=0,this.pointerOffsetX=0,this.activeTouches=new V;var n=new q;null!=bn.panup?n.setReserved("panup",256):n.h.panup=256,null!=bn.pandown?n.setReserved("pandown",1024):n.h.pandown=1024,null!=bn.tap?n.setReserved("tap",4):n.h.tap=4,null!=bn.press?n.setReserved("press",8):n.h.press=8,null!=bn.swipeleft?n.setReserved("swipeleft",128):n.h.swipeleft=128,null!=bn.swiperight?n.setReserved("swiperight",32):n.h.swiperight=32,null!=bn.swipeup?n.setReserved("swipeup",16):n.h.swipeup=16,this.hammerEventMap=n,this.cursorDomRef=s,this.callback=null!=i?i:gn(this,this.defaultCallback),this.imageMapData=e,this.hammer=new Hammer.Manager(t),this.hammer.add(new Hammer.Press),this.hammer.add(new Hammer.Swipe),this.hammer.add(new Hammer.Pan),this.hammer.add(new Hammer.Tap({taps:1})),this.cursorDomRef=s,this.defaultAct=this.DEFAULT_ACT_HOVER,this.interactionList=Ks.setupDollViewInteracts(e.layoutItemList,e.titleList,e.classList),this.hammer.on("hammer.input move panup pandown tap press swipeleft swiperight swipeup",gn(this,this.handleUIGesture))}function js(){}(i["troshx.sos.sheets.FatiqueTable"]=Us).__name__=["troshx","sos","sheets","FatiqueTable"],Us.getTable=function(){return null!=Us.TABLE?Us.TABLE:Us.TABLE=Us.getNewTable()},Us.getFatiqueLevel=function(t,e){e=Math.ceil((t-5-e)/5);return 0<=e?e<5?e:4:0},Us.getNewTable=function(){return[{name:"Fresh",cp:0,mob:0,skill:0},{name:"Winded",cp:-1,mob:-1,skill:-1},{name:"Tired",cp:-2,mob:-2,skill:-2},{name:"Very Tired",cp:-4,mob:-4,skill:-4},{name:"Exhausted",cp:-6,mob:-6,skill:-6}]},(i["troshx.sos.vue.GlobalCanvas2D"]=qs).__name__=["troshx","sos","vue","GlobalCanvas2D"],qs.getContext=function(){return qs.CONTEXT},qs.__setupContext=function(t,e,i){null==i&&(i=!1),null==qs.CANVAS?(qs.CANVAS=t,qs.CONTEXT=e,i&&(window.addEventListener("resize",qs.canvasResizeHandler),qs.canvasResizeHandler())):console.log("GlobalCanvas2D:: Global canvas already set! Cannot set again")},qs.canvasResizeHandler=function(t){var e=window,i=qs.CANVAS;i.width=e.innerWidth,i.height=e.innerHeight},(i["troshx.sos.vue.combat.CombatViewModel"]=Zs).__name__=["troshx","sos","vue","combat","CombatViewModel"],Zs.prototype={getDraggedCPAmountFromPos:function(t,e){var i=(0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null).fight.cp,s=this.trayPosFlip?-1:1,n=this.trayPosFlipY?-1:1,a=this.trayPosX+this.trayGridShelfX*s,r=this.trayPosY+this.trayGridShelfSize*n,s=Math.floor((t-a)*s/this.trayGridSizeX),n=Math.floor((e-r)*n/this.trayGridSizeY);if(n<0||s<0)return 0;s=5*n+(s+1);return i<s&&(s=i),s},cycleAttackManueverMode:function(t){null==t&&(t=!1);var e=this.browseAttackManueverList3;t?(this.browseManueverIndex--,this.browseManueverIndex<0&&(this.browseManueverIndex=e.length-1)):(this.browseManueverIndex++,this.browseManueverIndex>=e.length&&(this.browseManueverIndex=0)),this.playerManueverSpec.usingLeftLimb=this.browseAttackManueverList3i[this.browseManueverIndex]},getTarArr:function(){return this.browseAttackManueverList3},getBrowseAttackMode:function(){return this.browseAttackManueverList3[this.browseManueverIndex]},getBrowseAttackModeLabel:function(t){switch(this.browseAttackManueverList3[this.browseManueverIndex]){case 1:case 3:return"Weapon";case 2:return t?"Shield":"Weapon";case 0:case 7:return"Unarmed"}return"unfound"},isBrowseHighlightLeft:function(){var t=this.browseAttackManueverList3;return!(!this.playerManueverSpec.usingLeftLimb||1!=t[this.browseManueverIndex])||0!=(2&t[this.browseManueverIndex])},isBrowseHighlightRight:function(){return 0!=(1&this.browseAttackManueverList3[this.browseManueverIndex])},getBasicTargetingLabels:function(){var t=this.playerManueverSpec.activeItem,e=null!=(0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null),i=this.browseAttackManueverList3[this.browseManueverIndex];if(e){e=j.__instanceof(t,ai)?t:null,t=j.__instanceof(t,wi)?t:null;if(null==e)return null!=t?Zs.TARGETING_LABELS_SHIELD:Zs.TARGETING_LABELS_UNARMED;if(!e.ranged||e.isAmmo)return Zs.TARGETING_LABELS_MELEE;t=0!=(16&e.profs);return e.ranged&&t&&!e.isAmmo?Zs.TARGETING_LABELS_THROW:Zs.TARGETING_LABELS_SHOOT}switch(i){case 1:case 3:return Zs.TARGETING_LABELS_MELEE;case 2:return Zs.TARGETING_LABELS_SHIELD;case 0:case 7:return Zs.TARGETING_LABELS_UNARMED}return Zs.TARGETING_LABELS_MELEE},activatePlayerItem:function(t){null==t&&(t=!1);var e=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,e=t?e.charSheet.inventory.findOffHandItem():e.charSheet.inventory.findMasterHandItem();this.playerManueverSpec.activeItem=e},setIncomingHeldDown:function(t){this.incomingHeldDown=t},setObserveOpponent:function(t){var e=this.observeOpponent!=t;return this.observeOpponent=t,e},isDefBtnBlockAllowed:function(){var t=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null;return null!=t&&null!=t.charSheet.inventory.findHeldShieldAssign()},isDefBtnParryAllowed:function(){var t=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,e=this.playerManueverSpec.usingLeftLimb;if(null==t)return!1;t=e?t.charSheet.inventory.getOffhandWeapon():t.charSheet.inventory.getMasterWeapon();return null!=t&&1<=t.dtn},setFocusedIndex:function(t){this.focusedIndex=t,this.playerManueverSpec.activeEnemyZone=this.getTargetZoneIndexFromFocIndex(t),this.showFocusedTag=0<=t},setAdvFocusedIndex:function(t){this.advFocusedIndex=t},resetAdvFocusedIndex:function(){this.advFocusedIndex=-1},getFocusManueverAtkType:function(){var t=this.focusedIndex;return this._swingMap.h.hasOwnProperty(t)?1:this._partMap.h.hasOwnProperty(t)?2:this.focusedIndex==this._enemyHandLeftIdx?-2:this.focusedIndex==this._enemyHandRightIdx?-3:-1},getTargetZoneIndexFromFocIndex:function(t){return this._swingMap.h.hasOwnProperty(t)?this.DOLL_SWING_Indices[this._swingMap.h[t]]:this._partMap.h.hasOwnProperty(t)?this.DOLL_PART_Indices[this._partMap.h[t]]:this.focusedIndex==this._enemyHandLeftIdx?-2:this.focusedIndex==this._enemyHandRightIdx?-3:-1},setObserveIndex:function(t){this.observeIndex=t},getAdvancedManuevers:function(t,e,i,s,n,a){var r=this.playerManueverSpec,o=r.activeEnemyZone,h=(r.usingLeftLimb,this.focusedIndex);if(null==r.activeEnemyBody)return Zs.EMPTY_ARR;if(null!=s&&(this.playerManueverSpec.activeEnemyZone<0&&-1!=this.playerManueverSpec.activeEnemyZone?-2==this.playerManueverSpec.activeEnemyZone?(null==n&&(n=s.charSheet.inventory.findOffHandItem()),this.playerManueverSpec.activeEnemyItem=n):-3==this.playerManueverSpec.activeEnemyZone?(null==a&&(a=s.charSheet.inventory.findMasterHandItem()),this.playerManueverSpec.activeEnemyItem=a):this.playerManueverSpec.activeEnemyItem=null:this.playerManueverSpec.activeEnemyItem=null),0<=o){if(null==t){a=this.browseAttackManueverList3[this.browseManueverIndex];if(1==a||3==a)return r.activeEnemyBody.isThrusting(o)?this.advThrustArr:this.advSwingArr;if(7==a||0==a)return 7==a?this.advPuglismThrustSwingArr:this.advPuglismHandlessArr;if(2==a)return this.advShieldAttackArr}return r.activeEnemyBody.isThrusting(o)?this.advThrustArr:this.advSwingArr}if(h!=this._enemyHandLeftIdx&&h!=this._enemyHandRightIdx)return h==this.btnBlockInteract.index||h==this.btnParryInteract.index||h==this.btnVoidInteract.index?h==this.btnBlockInteract.index?this.advBlockArr:h==this.btnParryInteract.index?this.advParryArr:h==this.btnVoidInteract.index?this.advVoidArr:Zs.EMPTY_ARR:Zs.EMPTY_ARR;if(null==t){t=this.browseAttackManueverList3[this.browseManueverIndex];if(1==t||3==t)return j.__instanceof(r.activeEnemyItem,wi)?this.advAntiShieldWithWeaponArr:this.advAntiWeapWithWeaponArr;if(7==t||0==t)return j.__instanceof(r.activeEnemyItem,wi)?Zs.EMPTY_ARR:this.advAntiHandUnarmedArr;if(2==t)return j.__instanceof(r.activeEnemyItem,wi)?Zs.EMPTY_ARR:this.advAntiHandWithShieldArr}else{if(j.__instanceof(r.activeItem,ai))return j.__instanceof(r.activeEnemyItem,wi)?this.advAntiShieldWithWeaponArr:this.advAntiWeapWithWeaponArr;if(j.__instanceof(r.activeItem,wi))return this.advAntiHandWithShieldArr}return this.advAntiHandUnarmedArr},isFocusedEnemyLeftSide:function(){var t=this.focusedIndex,e=null;return this._swingMap.h.hasOwnProperty(t)?e=this.DOLL_SWING_Slugs[this._swingMap.h[t]]:this._partMap.h.hasOwnProperty(t)&&(e=this.DOLL_PART_Slugs[this._partMap.h[t]]),t==this._enemyHandLeftIdx||null!=e&&"-l"==D.substr(e,e.length-2,null)},isFocusedEnemyLower:function(){var t=this.focusedIndex,e=null;if(this._swingMap.h.hasOwnProperty(t)?e=this.DOLL_SWING_Slugs[this._swingMap.h[t]]:this._partMap.h.hasOwnProperty(t)&&(e=this.DOLL_PART_Slugs[this._partMap.h[t]]),null!=e&&(e=e.split("-")[0]),null==e)return!1;t=this.MAP_LOWER_BODY_PARTS;return null!=bn[e]?t.existsReserved(e):t.h.hasOwnProperty(e)},getFocusedLabel:function(t,e,i){var s=this.focusedIndex;return s<0?"":this._swingMap.h.hasOwnProperty(s)?null!=i?this._body.getDescLabelTargetZone(this.DOLL_SWING_Indices[this._swingMap.h[s]],i[0],i[1],3<=i.length?i.slice(2):null):this.getDollSwingDescAt(this._swingMap.h[s]):this._partMap.h.hasOwnProperty(s)?null!=i?this._body.getDescLabelTargetZone(this.DOLL_PART_Indices[this._partMap.h[s]],i[0],i[1]):this.getDollPartThrustDescAt(this._partMap.h[s]):s==this._enemyHandLeftIdx||s==this._enemyHandRightIdx?s!=this._enemyHandRightIdx?null!=t?t.name:"enemy's left-hand item":null!=e?e.name:"enemy's right-hand item":this.DOLL_GENERAL_FOCUS_DESC.h.hasOwnProperty(s)?this.DOLL_GENERAL_FOCUS_DESC.h[s]:"todo/missing"},focusIndexEnemyHandSide:function(t){return t==this._enemyHandLeftIdx?2:t==this._enemyHandRightIdx?1:0},getHitLocationAtFocusIndex:function(t){return this._body.hitLocations[this.DOLL_PART_HitIndices[this._partMap.h[t]]]},getDollIndexAtFocusIndex:function(t){return this._partMap.h[t]},getBodyPartLabel:function(t){return null==t&&(t=-1),t<0&&(t=this.focusedIndex),t<0?"":this._partMap.h.hasOwnProperty(t)?this._body.hitLocations[this.DOLL_PART_HitIndices[this._partMap.h[t]]].name:null},setDraggedCP:function(t){this.draggedCP=t},getRemainingDisplayCP:function(){var t=this.draggedCP,t=(0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null).fight.cp-t;return 0<=t?t:0},isLeftPartAtDollIndex:function(t){return 0!=(this.DOLL_PART_IsLefts&1<<t)},getGeneralFocusDescAt:function(t){return this.DOLL_GENERAL_FOCUS_DESC.h[t]},isDefensiveFocusIndex:function(t){return t==this.btnBlockInteract.index||t==this.btnParryInteract.index||t==this.btnVoidInteract.index},getDollPartThrustDescAt:function(t){return(t=this.DOLL_PART_Indices[t])<0?null:this._body.getDescLabelTargetZone(t)},getDollPartHitLocationAt:function(t){return this._body.hitLocations[this.DOLL_PART_HitIndices[t]]},getDollPartThrustZoneAt:function(t){return(t=this.DOLL_PART_Indices[t])<0?null:this._body.targetZones[t]},isDollPartThrustable:function(t){return 0<=this.DOLL_PART_Indices[t]},getDollPartArmorValues:function(t){return null==t&&(t=[]),t},getDollPartHighestWoundLevels:function(t){return null==t&&(t=[]),t},getDollHighestWounds:function(t){return null==t&&(t=[]),t},getDollSwingDescAt:function(t){return this._body.getDescLabelTargetZone(this.DOLL_SWING_Indices[t])},getDollSwingZoneAt:function(t){return this._body.targetZones[this.DOLL_SWING_Indices[t]]},getDefaultPlayerSideIndex:function(){return 0},getDefaultEnemySideIndex:function(){return 1},setActingState:function(t){this.actingState=t},set_currentPlayerIndex:function(t){return this.playerManueverSpec.resetPlayer(),this.currentPlayerIndex=t},set_focusOpponentIndex:function(t){return this.playerManueverSpec.setNewEnemy(this.boutModel.bout.combatants[t].charSheet.body),this.focusOpponentIndex=t},getCurrentPlayer:function(){return 0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null},getCurrentOpponents:function(){return null==this.boutModel.bout?null:this.boutModel.bout.combatants.filter(function(t){return 0!=t.sideIndex})},getCurrentActiveOpponents:function(){var t=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null;if(null==this.boutModel.bout)return null;if(null==t)return null;this.boutModel.bout.linkUpdateCount;return this.boutModel.bout.findLinkedOpponents(t)},getCurrentAllies:function(){return null==this.boutModel.bout?null:this.boutModel.bout.combatants.filter(function(t){return 0!=t.sideIndex})},handleDisabledMask:function(t,e){for(var i=this._interactionMaps[0],s=0,n=e.length;s<n;){var a=s++;i.h[this._dollImageMapData.idIndices[e[a]]].disabled=0==(t&1<<a)}},setDisabledAll:function(t,e){null==e&&(e=!0);for(var i=this._interactionMaps[0],s=0,n=t.length;s<n;){var a=s++;i.h[this._dollImageMapData.idIndices[t[a]]].disabled=e}},onThrustAvailabilityChange:function(){this.handleDisabledMask(this.thrustAvailabilityMask,this.DOLL_PART_Slugs)},onSwingAvailabilityChange:function(){this.handleDisabledMask(this.swingAvailabilityMask,this.DOLL_SWING_Slugs)},onAdvAvailabilityChange:function(t){this.advInteract1.disabled=0!=(17&t),this.advInteract2.disabled=0!=(34&t),this.advInteract3.disabled=0!=(68&t),this.advInteract4.disabled=0!=(136&t)},partIndexAvailable:function(t){return 0!=(this.thrustAvailabilityMask&t<<1)},swingArcAvailableBetween:function(t){return 0!=(this.swingAvailabilityMask&(this._dollImageMapData.idIndices[t[0]]|this._dollImageMapData.idIndices[t[1]]))},getInteractionListByState:function(t){return this._interactionStates[t]},setupDollInteraction:function(t,e){this._interactionMaps=[],this._interactionStates=[],this._interactionStates[0]=t,this._interactionMaps[0]=Xs.getIndexMapOfArray(t),this._interactionStates[1]=[],this._dollImageMapData=e,this._interactionStates[2]=[],(this.advInteract1=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever1]).disabled=!1,(this.advInteract2=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever2]).disabled=!1,(this.advInteract3=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever3]).disabled=!1,(this.advInteract4=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever4]).disabled=!1;var i=Je.getInstance();this._body=i,this._swingMap=new V,this._partMap=new V;for(var s=0,n=e.layoutItemList.length;s<n;){var a=s++,r=e.classList[a],o=e.titleList[a];"part"==r?(this._partMap.h[a]=this.DOLL_PART_Slugs.length,this.DOLL_PART_Slugs.push(e.titleList[a])):"swing"==r?(this._swingMap.h[a]=this.DOLL_SWING_Slugs.length,this.DOLL_SWING_Slugs.push(e.titleList[a])):"enemyHandLeft"==o?this._enemyHandLeftIdx=a:"enemyHandRight"==o&&(this._enemyHandRightIdx=a)}for(var h=i.targetZones,l=new RegExp(" ([A-Z])","g".split("u").join("")),c=new L("_([a-z])","g"),R={},u={},y=0,g=i.thrustStartIndex;y<g;){var d,p=y++;R["SWING_"+(d=h[p].name.replace(l,"_$1").toUpperCase())]=p}for(var _=i.thrustStartIndex,f=h.length;_<f;){var m=_++;u[d=h[m].name.replace(l,"_$1").toUpperCase()]=m,"LOWER_ARM"==d?u.FOREARM=m:"UPPER_LEG"==d?u.THIGH=m:"HEAD"==d?u.FACE=m:"LOWER_LEG"==d&&(u.SHIN=m)}this.DOLL_PART_Slugs[0].charAt(0).toLowerCase(),this.DOLL_PART_Slugs[0].charAt(0);for(var v=0,b=0,S=this.DOLL_PART_Slugs.length;b<S;){var w,x=b++;if(d=(w=this.DOLL_PART_Slugs[x].split("-"))[0],this.DOLL_PART_IsLefts|=2<=w.length&&"l"==w[w.length-1]?1<<x:0,null!=u[d]?(this.DOLL_PART_Indices[x]=u[d],v|=1<<x):this.DOLL_PART_Indices[x]=-1,d=(d=c.map(d.toLowerCase(),function(t){return t.matched(1).toUpperCase()})).charAt(0).toLowerCase()+D.substr(d,1,null),!Object.prototype.hasOwnProperty.call(i.hitLocationHash,d))throw new Y("FAILED TO FIND hit location index by key:"+d);this.DOLL_PART_HitIndices[x]=i.hitLocationHash[d]}this.thrustAvailabilityMask=v;for(var A=v=0,z=this.DOLL_SWING_Slugs.length;A<z;){var T=A++;if(w=this.DOLL_SWING_Slugs[T].split("-"),this.DOLL_SWING_IsLefts|=2<=w.length&&"l"==w[w.length-1]?1<<T:0,"SWING_UPWARD_HEAD"==(d=w[0]))this.DOLL_SWING_Indices[T]=1;else if("SWING_DOWNWARD_HEAD"==d)this.DOLL_SWING_Indices[T]=0;else{if(null==R[d])throw this.DOLL_SWING_Indices[T]=-1,new Y("FAILED TO FIND target zone index by key:"+d);this.DOLL_SWING_Indices[T]=R[d]}v|=1<<T}this.swingAvailabilityMask=v,this.defaultSwingAvailMask=this.swingAvailabilityMask,this.defaultThrustAvailMask=this.thrustAvailabilityMask,this.onThrustAvailabilityChange(),this.onSwingAvailabilityChange(),(this.btnBlockInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnBlock]).disabled=!0,this.btnVoidInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnVoid],(this.btnParryInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnParry]).disabled=!0,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnBlockInteract.index]=this.basicBlock.name,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnVoidInteract.index]=this.basicVoid.name,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnParryInteract.index]=this.basicParry.name},__class__:Zs},(i["troshx.sos.vue.combat.HammerJSCombat"]=Ys).__name__=["troshx","sos","vue","combat","HammerJSCombat"],Ys.prototype={setNewInteractionList:function(t){this.interactionList=t},setCursorPos:function(t,e){null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+t+"px, "+e+"px, 0)")},defaultCallback:function(t,e){if(null!=this.viewModel){var i,s,n=this.imageMapData.classList[t],a=this.imageMapData.titleList[t];if(1!=this.viewModel.actingState){if("swing"!=n&&"part"!=n&&"enemyHandLeft"!=a&&"enemyHandRight"!=a)"incomingManuevers"==a?0!=(3840&e)?this.viewModel.showFocusedTag=!1:0!=(2&e)?null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+this.currentGesture.center.x+"px, "+this.currentGesture.center.y+"px, 0)"):0!=(49152&e)?(this.viewModel.setObserveOpponent(!1)&&this.onViewModelObservationChange(this.currentGesture),this.viewModel.setIncomingHeldDown(!1)):0!=(9&e)?this.viewModel.setIncomingHeldDown(!0):0!=(131072&e)&&this.viewModel.setObserveOpponent(!0)&&this.onViewModelObservationChange(this.currentGesture):"vitals"!=a&&("advManuever1"==a||"advManuever2"==a||"advManuever3"==a||"advManuever4"==a?1==e&&0<=this.viewModel.currentPlayerIndex&&(this.viewModel.advFocusedIndex=F.parseInt(D.substr(a,a.length-1,null))-1,this.startDragCP(a,n,!0,"advManuever3"==a||"advManuever4"==a)):"btnVoid"==a||"btnParry"==a||"btnBlock"==a?0!=(1&e)?t!=this.viewModel.focusedIndex?((i=this.viewModel).focusedIndex=t,i.playerManueverSpec.activeEnemyZone=i.getTargetZoneIndexFromFocIndex(t),i.showFocusedTag=0<=t):(this.viewModel.advFocusedIndex=-1,this.startDragCP(a,n,"btnParry"==a,!0)):0!=(49152&e)&&(this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.draggedCP=0,this.viewModel.advFocusedIndex=-1):"handLeftAlt"==a||"handRightAlt"==a?0==(4&e)||null==(0<=(s=this.viewModel).currentPlayerIndex?s.boutModel.bout.combatants[s.currentPlayerIndex]:null)&&this.viewModel.cycleAttackManueverMode("handLeftAlt"==a):console.log("unhadnled:"+a+" ::"+e+" : "+this.currentGesture.type));else if(0!=(266240&e)||t!=this.viewModel.focusedIndex)this.viewModel.observeOpponent?this.viewModel.observeIndex=t:((s=this.viewModel).focusedIndex=t,s.playerManueverSpec.activeEnemyZone=s.getTargetZoneIndexFromFocIndex(t),s.showFocusedTag=0<=t);else if(1==e&&t==this.viewModel.focusedIndex){if("enemyHandLeft"==a||"enemyHandRight"==a){if(this.viewModel.advInteract1.disabled||!(0<=this.viewModel.currentPlayerIndex))return;this.viewModel.advFocusedIndex=0}else this.viewModel.advFocusedIndex=-1;0<=this.viewModel.currentPlayerIndex&&this.startDragCP(a,n,this.viewModel.isFocusedEnemyLeftSide(),this.viewModel.isFocusedEnemyLower())}}else if(2==e)this.viewModel.draggedCP=this.viewModel.getDraggedCPAmountFromPos(this.currentGesture.center.x,this.currentGesture.center.y);else if(32768==e)this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.draggedCP=0,this.viewModel.advFocusedIndex=-1;else{if(16384!=e)return;this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.advFocusedIndex=-1,this.viewModel.draggedCP=0}}else console.log("Receiving event from:"+t+" ::"+e+" >"+this.currentGesture.type+" :"+this.currentGesture.eventType)},startDragCP:function(t,e,i,s){this.viewModel.draggedCP=0,this.viewModel.showFocusedTag=!0,this.viewModel.trayPosX=this.currentGesture.center.x,this.viewModel.trayPosY=this.currentGesture.center.y,this.calibrateDragCPTraySize(),this.viewModel.trayPosFlip=i,this.viewModel.trayPosFlipY=s,this.viewModel.setActingState(1),this.requiredActs=49154,this.defaultAct=null},calibrateDragCPTraySize:function(){var t=this,e=window.innerWidth,i=window.innerHeight,i=Math.min(e/2/5,i/2/6);64<i&&(i=64),i<36&&(i=36),this.viewModel.trayGridSizeY=Math.floor(i),this.viewModel.trayGridShelfSize=Math.floor(.65*i),this.viewModel.trayGridSizeX=this.viewModel.trayGridSizeY,null==this.cpTrayDom&&(this.cpTrayDom=window.document.getElementById("cpTray")),window.setTimeout(function(){t.viewModel.trayGridSizeX=t.cpTrayDom.clientWidth/5,console.log(t.viewModel.trayGridSizeX+" , "+t.viewModel.trayGridSizeX)})},onViewModelObservationChange:function(t){var e=this.viewModel,i=e.observeOpponent;i?(e.setDisabledAll(e.DOLL_PART_Slugs,!1),e.setDisabledAll(e.DOLL_SWING_Slugs,!0)):(e.handleDisabledMask(e.thrustAvailabilityMask,e.DOLL_PART_Slugs),e.handleDisabledMask(e.swingAvailabilityMask,e.DOLL_SWING_Slugs),e.observeIndex=-1),e.showFocusedTag=!0,null!=t&&(i=i&&"touch"==t.pointerType,this.pointerOffsetY=i?-55:0,null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+t.center.x+"px, "+t.center.y+"px, 0)"),this.viewModel.isTouchDragMode=i)},handleUIGesture:function(t){var e,i,s,n=(this.currentGesture=t).changedPointers[0],a=this.imageMapData.scaleX*this.imageMapData.refWidth,r=this.imageMapData.scaleY*this.imageMapData.refHeight,a=(i=(e=j.__instanceof(n,Touch)?n.identifier:n.pointerId,(n.pageX+this.pointerOffsetX)/a),(n.pageY+this.pointerOffsetY)/r),n=this.requiredActs;if(t.isFirst&&"hammer.input"==t.type)null!=(s=Ks.findHit(i,a,this.imageMapData,this.interactionList))?(0!=(1&(n|=s.mask))&&this.callback(s.index,1),2<=s.mask&&(this.activeTouches.h[e]=s)):null!=this.defaultAct&&(this.activeTouches.h[e]=this.defaultAct);else if(this.activeTouches.h.hasOwnProperty(e)){if(null==(s=this.activeTouches.h[e])){if(n|=(s=this._inputActCache).mask,this.activeTouches.remove(e),(this._inputActCache=null)==s)return}else n|=s.mask;if("hammer.input"!=t.type){var r=this.hammerEventMap,o=t.type,o=null!=bn[o]?r.getReserved(o):r.h[o];0!=(s.mask&o)&&(0==(65540&o)||0<=Ks.checkHit(i,a,this.imageMapData,s))&&(s.disabled||this.callback(s.index,o))}else if(t.eventType==Hammer.INPUT_MOVE)0==t.deltaX&&0==t.deltaY||0==(274434&s.mask)||(0!=(2&n)&&this.callback(s.index,2),0!=(405504&s.mask)&&(null!=(o=Ks.findHit(i,a,this.imageMapData,this.interactionList))?0!=(8192&o.mask)&&o.index==s.index?this.callback(s.index,8192):0!=(266240&o.mask)&&o.index!=s.index&&(0!=(131072&s.mask)&&this.callback(s.index,131072),0!=(4096&s.mask)&&this.callback(o.index,4096),0!=(262144&s.mask)&&(this.activeTouches.h[e]=o,this.callback(o.index,262144))):0!=(131072&s.mask)&&this.callback(s.index,131072)));else{if(t.eventType!=Hammer.INPUT_END&&t.eventType!=Hammer.INPUT_CANCEL)throw new Y("Could not resolve event type:"+t.eventType);this._inputActCache=s,t.eventType==Hammer.INPUT_END?(0!=(65536&n)&&0<=Ks.checkHit(i,a,this.imageMapData,s)&&this.callback(s.index,65536),0!=(32768&n)&&this.callback(s.index,32768)):0!=(16384&n)&&this.callback(s.index,16384),this.activeTouches.h[e]=null}}else console.log("OUT")},__class__:Ys},(i["troshx.sos.vue.combat.LayoutConstraints"]=js).__name__=["troshx","sos","vue","combat","LayoutConstraints"],js.applyDollView=function(t,e,i,s,n){for(var a=0,r=t.length;a<r;){var o=a++,h=t[o],l=e[o],o=i[o];"part"!=o&&"swing"!=o&&"enemyHandLeft"!=l&&"enemyHandRight"!=l&&"enemyStatus"!=l||h.pin(un.createRelative(.5,.5)).aspect(ln.createRelative(1,1).enablePreflight());switch(l){case"advManuever1":case"advManuever2":case"advManuever3":case"advManuever4":h.pin(un.createRelative(.5,.5).scaleMinRelative(.5,0).scaleMaxRelative(2,0)).pivot(un.createRelative(1,.5).scaleMinRelative(.5,.5).scaleMaxRelative(1.5,1.5)).aspect(ln.createRelative(1,.98));break;case"btnBlock":case"btnParry":case"btnVoid":h.pin(un.createRelative(.5,.5).scaleMaxRelative(1.75,0)).pivot(un.createRelative("btnParry"!=l?1:0,1).scaleMinRelative(.5,.5)).aspect(ln.createRelative(1,1));break;case"cpMeter":h.pin(un.createRelative(0,0).scaleMinRelative(.5,.5).scaleMaxRelative(3,3)).pivot(un.createRelative(0,0).scaleMaxRelative(2.25,0));break;case"cpText":h.pin(un.createRelative(0,0).scaleMinRelative(.5,.5).scaleMaxRelative(2.25,3)).pivot(un.createRelative(0,1).scaleMinRelative(.5,.5).scaleMaxRelative(1,1.1));break;case"handLeftText":case"handRightText":h.pin(un.createRelative(.5+.06*("handLeftText"==l?-1:1),1).scaleMaxRelative(1,1)).pivot(un.createRelative("handLeftText"==l?1:0,1).scaleMaxRelative(0,1.2)),"handLeftText"==l?(h.border(3,0,1),h.border(1,0,1.1,.44)):(h.border(1,0,1),h.border(3,0,1.1,.56));break;case"handLeftAlt":case"handRightAlt":h.pin(un.createRelative(.5+.06*("handLeftAlt"==l?-1:1),1).scaleMaxRelative(1,1)).pivot(un.createRelative("handLeftAlt"==l?1:0,1).scaleMaxRelative(1,1.1)).aspect(ln.createRelative(1,0));break;case"initRange":h.pin(un.createRelative(.5,.5).scaleMinRelative(1,0)).pivot(un.createRelative(.5,1)).aspect(ln.createRelative(1,1).enablePreflight());break;case"opponentSwiper":case"roundCount":h.pivot(un.createRelative(0,0).scaleMinRelative(0,.5));break;case"vitals":h.pin(un.createRelative(0,0).scaleMinRelative(0,.5)).pivot(un.createRelative(0,0).scaleMinRelative(.85,.5).scaleMaxRelative(3,3))}}};var Ks=function(){};(i["troshx.sos.vue.combat.UIInteraction"]=Ks).__name__=["troshx","sos","vue","combat","UIInteraction"],Ks.requiresConfirmHit=function(t){return 0!=(65540&t)},Ks.requiresTracking=function(t){return 2<=t},Ks.requiresContinousHandling=function(t){return 0!=(12034&t)},Ks.isValidPoly=function(t){return 3<=t.length},Ks.weldPoly=function(t,e){for(var i={},s=0,n=e.length;s<n;)i[e[s++]]=!0;for(var a=[],r=0,o=t.length;r<o;){var h=r++;i.hasOwnProperty(h)||a.push(t[h])}return a},Ks.setupDollViewInteracts=function(t,e,i){for(var s=[],n=0,a=t.length;n<a;){var r,o=n++,h=t[o],l=e[o],c=i[o];if(2==h.shape&&(0!=(r=Fe.findDuplicatePoints(h.uvs,!0,!0)).length&&(h.uvs=Ks.weldPoly(h.uvs,r)),Fe.makeCW(h.uvs),Fe.isConvex(h.uvs)||(h.hitDecomposition=Ne.decomposePoly(h.uvs),r=h.hitDecomposition.length,h.hitDecomposition=h.hitDecomposition.filter(Ks.isValidPoly),0!=h.hitDecomposition.length&&h.hitDecomposition.length==r||(console.log("WARNING!! invalid decomposition occured: "+l+" : "+h.hitDecomposition.length+" / "+r),h.hitDecomposition=null))),"part"!=c&&"swing"!=c||(h.hitPadding=5),"part"!=c&&"swing"!=c&&"enemyHandLeft"!=l&&"enemyHandRight"!=l)switch(l){case"advManuever1":case"advManuever2":case"advManuever3":case"advManuever4":s.push(new Xs(o,49155));break;case"btnBlock":case"btnParry":case"btnVoid":h.hitPadding=5,s.push(new Xs(o,49155));break;case"cpMeter":case"cpText":break;case"handLeftText":case"handRightText":break;case"handLeftAlt":case"handRightAlt":s.push(new Xs(o,172));break;case"incomingManuevers":s.push(new Xs(o,184323));break;case"initRange":s.push(new Xs(o,1));break;case"opponentSwiper":s.push(new Xs(o,160));break;case"roundCount":break;case"vitals":s.push(new Xs(o,1281))}else s.push(new Xs(o,311297))}return s},Ks.findHit=function(t,e,i,s){for(var n=null,a=999999999999,r=0,o=s.length;r<o;){var h=s[r++];if(!h.disabled){var l=Ks.checkHit(t,e,i,h);if(0<=l){if(0==l)return h;l<a&&(n=h,a=l)}}}return n},Ks.checkHit=function(t,e,i,s){var n,a,r,o,h=i.layoutItemList[s.index],l=i.positionList[s.index],c=i.scaleList[s.index],R=i.scaleX*i.refWidth,u=i.scaleY*i.refHeight,y=t*R,g=e*u,d=l.x*R,s=l.y*u,t=d+c.x*R,e=s+c.y*u,p=h.hitPadding*i.scaleX*(c.x/h.uDim),_=h.hitPadding*i.scaleY*(c.y/h.vDim);if(d<=y&&y<=t&&s<=g&&g<=e){if(0==h.shape)return 0}else if(0==h.shape)return h.hitPadding<=0?-1:(r=(S=t<y?y-t:y<d?y-d:0)*S+(n=e<g?g-e:g<s?g-s:0)*n,(a=(S*=(o=p<_?_:p)/p)*S+(n*=o/_)*n)<=o*o?r:-1);if(1!=h.shape){var f=Ks.SAMPLE_PT;if(f.x=y,f.y=g,null==h.hitDecomposition)return o=Ks.checkHitPolygon(f,h.uvs,p,_,l,c,R,u);for(var m=!(o=99999999999),v=0,b=h.hitDecomposition.length;v<b;){var S,w=v++;if(0==(S=Ks.checkHitPolygon(f,h.hitDecomposition[w],p,_,l,c,R,u)))return 0;0<S&&S<o&&(m=!0,o=S)}return m?o:-1}t=d+(S=.5*(t-d)),d=s+(n=.5*(e-s)),o=S<n?n:S;e=1,s=1;return 0<h.hitPadding&&(e=o/S,s=o/n),S=y-t,n=g-d,(a=(S*=e)*S+(n*=s)*n)<=o*o?0:(r=a,(a=(S+=(S<0?1:-1)*p*e)*S+(n+=(n<0?1:-1)*_*s)*n)<=o*o?(a=Math.sqrt(r)-o)*a:-1)},Ks.checkHitPolygon=function(t,e,i,s,n,a,r,o){var h=e.length,l=n.x*r,c=n.y*o,R=a.x*r,u=a.y*o,y=Ks.SAMPLE_PT_A,g=Ks.SAMPLE_PT_B,d=0==i&&0==s,p=i<s?s:i,_=d?1:p/i,f=d?1:p/s;p*=p;for(var m=0;m<h;){var v=e[m],b=m<h-1?e[m+1]:e[0];if(y.x=l+v.x*R,g.x=l+b.x*R,y.y=c+v.y*u,g.y=c+b.y*u,b=0<(y.x-t.x)*(g.y-t.y)-(g.x-t.x)*(y.y-t.y),!b)return d?-1:Ks.distanceToSegmentSquaredPaddScaled(t,y,g,_,f)<=p?Fe.distanceToSegmentSquared(t,y,g):-1;++m}return 0},Ks.distanceSquaredPaddScaled=function(t,e,i,s){i=(t.x-e.x)*i,s=(t.y-e.y)*s;return i*i+s*s},Ks.distanceToSegmentSquaredPaddScaled=function(t,e,i,s,n){var a=e.x-i.x,r=e.y-i.y,a=a*a+r*r;if(0==a){var r=(t.x-e.x)*s,o=(t.y-e.y)*n;return r*r+o*o}o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/a;if(o<0){var a=(t.x-e.x)*s,h=(t.y-e.y)*n;return a*a+h*h}if(1<o){var h=(t.x-i.x)*s,l=(t.y-i.y)*n;return h*h+l*l}l=Ks.SAMPLE_PT2;l.x=e.x+o*(i.x-e.x),l.y=e.y+o*(i.y-e.y);e=Ks.SAMPLE_PT2,s=(t.x-e.x)*s,n=(t.y-e.y)*n;return s*s+n*n};var Xs=function(t,e){this.index=t,this.mask=e,this.disabled=!1};function Qs(){d.call(this)}function $s(){d.call(this)}(i["troshx.sos.vue.combat.UInteract"]=Xs).__name__=["troshx","sos","vue","combat","UInteract"],Xs.getIndexMapOfArray=function(t){for(var e=new V,i=0,s=t.length;i<s;){var n=i++;e.h[t[n].index]=t[n]}return e},Xs.prototype={__class__:Xs},(i["troshx.sos.vue.combat.components.DollView"]=Qs).__name__=["troshx","sos","vue","combat","components","DollView"],Qs.getRenderTrackedImageData=function(){return{renderCount:0}},Qs.getBlankImageMapData=function(){return{layoutItemList:null,positionList:[],scaleList:[],titleList:[],classList:[],refWidth:0,refHeight:0,scaleX:1,scaleY:1}},Qs.__super__=d,Qs.prototype=t(d.prototype,{get_pregenHeader:function(){return 1==this.showPregens?"Select your character":"Select your opponent"},closePregens:function(){this.showPregens=0},quickStartDebug:function(){var t=this.boutModel;null==t.bout&&(t.bout=new H);var e=(a=gs.get()[7]).label,i=this.deserializeSheet(a.savedData),s=(this.viewModel,new B(e,i,0)),n=t.bout.combatants.length;t.bout.pushNewFightNode(s);e=this.viewModel;e.playerManueverSpec.resetPlayer(),e.currentPlayerIndex=n;i=s.charSheet,e=i.get_encumbranceLvlRow(),i=e.cpMult*i.clampIntZero(i.getModifiedValue(13,(1<=i.schoolLevel?i.schoolLevel:0)+i.clampIntZero(i.getModifiedValue(8,(i.get_AGI()+i.get_WIT())/2|0)))*(i.prone?.5:1)+e.cp+Us.getTable()[i.get_fatiqueLevel()].cp);s.fight.cp=i,s.charSheet.inventory.refreshHalfArmorLabels(),s.charSheet.inventory.cleanupShieldLabels(),s.charSheet.inventory.weildMeleeEquip(s.charSheet.profsMelee),this.viewModel.activatePlayerItem();var i=(a=gs.get()[7]).label,a=this.deserializeSheet(a.savedData);this.viewModel;s=new B(i,a,1),t.bout.pushNewFightNode(s);t=this.viewModel;t.playerManueverSpec.setNewEnemy(t.boutModel.bout.combatants[n].charSheet.body),t.focusOpponentIndex=n,s.charSheet.inventory.refreshHalfArmorLabels(),s.charSheet.inventory.cleanupShieldLabels(),s.charSheet.inventory.weildMeleeEquip(s.charSheet.profsMelee),this.showPregens=0},confirmPregens:function(t){var e=this.boutModel;null==e.bout&&(e.bout=new H);var i,s,n=this.viewModel,a=this.showPregens,r=null;1==a?(r=new B(t.label,this.deserializeSheet(t.savedData),0),i=e.bout.combatants.length,e.bout.pushNewFightNode(r),n.playerManueverSpec.resetPlayer(),n.currentPlayerIndex=i,s=(i=(s=r.charSheet).get_encumbranceLvlRow()).cpMult*s.clampIntZero(s.getModifiedValue(13,(1<=s.schoolLevel?s.schoolLevel:0)+s.clampIntZero(s.getModifiedValue(8,(s.get_AGI()+s.get_WIT())/2|0)))*(s.prone?.5:1)+i.cp+Us.getTable()[s.get_fatiqueLevel()].cp),r.fight.cp=s):4==a&&(s=e.bout.combatants.length,r=new B(t.label,this.deserializeSheet(t.savedData),1),e.bout.pushNewFightNode(r),n.playerManueverSpec.setNewEnemy(n.boutModel.bout.combatants[s].charSheet.body),n.focusOpponentIndex=s),null!=r&&(r.charSheet.inventory.refreshHalfArmorLabels(),r.charSheet.inventory.cleanupShieldLabels(),r.charSheet.inventory.weildMeleeEquip(r.charSheet.profsMelee),1==a&&n.activatePlayerItem()),this.showPregens=0},deserializeSheet:function(t){return new k(t).unserialize()},showSelfPregens:function(){this.showPregens=1},showOpponentPregens:function(){this.showPregens=4},get_boutModel:function(){return this.viewModel.boutModel},get_remainingDisplayCP:function(){return this.viewModel.getRemainingDisplayCP()},get_fatique:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.fatique},get_CP:function(){var t=this.viewModel,t=(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet;return t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,(t.get_AGI()+t.get_WIT())/2|0))))},get_remCP:function(){return this.viewModel.getRemainingDisplayCP()},get_BL:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.get_totalBloodLost()},get_pain:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.get_totalBloodLost()},get_rightItem:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.inventory.findMasterHandItem()},get_leftItem:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.inventory.findOffHandItem()},get_rightItemAssign:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.inventory.findMasterHandAssign()},get_leftItemAssign:function(){var t=this.viewModel;return(0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null).charSheet.inventory.findOffHandAssign()},get_rightItemHighlighted:function(){var t=this.viewModel.playerManueverSpec.usingLeftLimb,e=this.viewModel.playerManueverSpec.activeItem,i=this.rightItem;return!t&&i==e},get_leftItemHighlighted:function(){var t=this.viewModel.playerManueverSpec.usingLeftLimb,e=this.viewModel.playerManueverSpec.activeItem,i=this.leftItem,s=this.rightItemAssign;return t?i==e:null!=s&&3==s.held},getTypeTagForItem:function(t){var e=j.__instanceof(t,ai)?t:null;return null!=(j.__instanceof(t,wi)?t:null)?'<span class="fa">&#xf132;</span>':null!=e?D.substr(e.profLabelStdFirst().split(" ").join(""),0,3):""},get_leftTypeTag:function(){return this.getTypeTagForItem(this.leftItem)},get_rightTypeTag:function(){return this.getTypeTagForItem(this.rightItem)},get_enemyRightItem:function(){return this.currentOpponent.charSheet.inventory.findMasterHandItem()},get_enemyLeftItem:function(){return this.currentOpponent.charSheet.inventory.findOffHandItem()},get_enemyLeftTypeTag:function(){return this.getTypeTagForItem(this.enemyLeftItem)},get_enemyRightTypeTag:function(){return this.getTypeTagForItem(this.enemyRightItem)},Data:function(){return{mapData:Qs.getRenderTrackedImageData(),viewModel:new Zs,fightChars:new gs,showPregens:0}},get_styleObservePartProps:function(){var t=this.mapData;return{fillColor:"transparent",strokeColor:"rgba(0,0,0,1)",strokeWidth:4*(t.scaleX<t.scaleY?t.scaleX:t.scaleY)}},get_focusManueverAtkType:function(){return this.viewModel.getFocusManueverAtkType()},get_advStyleProps:function(){return 1!=this.focusManueverAtkType?this.stylePartProps:this.styleSwingProps},get_stylePartProps:function(){var t=this.mapData;return{fillColor:"rgba(0,200,255,0.3)",strokeColor:"rgba(0,200,255,0.3)",strokeWidth:4*(t.scaleX<t.scaleY?t.scaleX:t.scaleY)}},getArmorPartPropsOf:function(t,e){var i=this.armorDollColors,s=this.armorColorScale,n=null!=i[e],a=this.mapData,a={index:a.idIndices[t],mapData:a,fillColor:"transparent"};return a.strokeColor=n?i[e]:s[0],a.strokeWidth=3*(this.mapData.scaleX<this.mapData.scaleY?this.mapData.scaleX:this.mapData.scaleY),a.showShape=n,a},get_armorPartProps:function(){for(var t=[],e=this.viewModel.DOLL_PART_Slugs,i=0,s=e.length;i<s;){var n=i++;t[n]=this.getArmorPartPropsOf(e[n],n)}return t},get_styleSwingProps:function(){var t=this.mapData;return{fillColor:"rgba(0,255,255,0.3)",strokeColor:"rgba(0,255,255,0.3)",strokeWidth:8*(t.scaleX<t.scaleY?t.scaleX:t.scaleY)}},get_styleDefBtnProps:function(){this.mapData;return{fillColor:"rgba(0,255,255,0.3)",strokeColor:"rgba(0,255,255,0.3)",strokeWidth:4}},get_stylePlHandBtnProps:function(){return{fillColor:"rgba(161,244,210,1)",strokeWidth:0}},get_basicTargetingLabels:function(){return this.viewModel.getBasicTargetingLabels()},get_focusedTextLbl:function(){var t=this.viewModel;return t.observeOpponent?this.partObserveLbl:t.getFocusedLabel(this.enemyLeftItem,this.enemyRightItem,this.basicTargetingLabels)},get_observePrompt:function(){return this.viewModel.observeOpponent?"observing...":'<span class="fa">&#xf060;&#xf0a6;</span> to observe <span class="fa">&#xf06e;</span>'},get_partObserveLbl:function(){var t=this.viewModel.observeIndex,e=this.viewModel.getDollIndexAtFocusIndex(t);if(0<=e){var i=this.getVisibleArmorAtDollPartIndex(e),s=this.carriedDollShield;return null==s||this.shieldCoveredAtDollHitLocation(e)||(s=null),this.viewModel.getBodyPartLabel(t)+(null!=s||null!=i?": "+(null!=s?'<span class="fa">&#xf132;</span> ':"")+(null!=i?"<b>"+i.name+"</b>":""):"")}i=this.viewModel,i=t==i._enemyHandLeftIdx?2:t==i._enemyHandRightIdx?1:0;if(0!=i){i=2!=i?this.enemyRightItem:this.enemyLeftItem;if(null!=i)return i.name}return""},get_player:function(){var t=this.viewModel;return 0<=t.currentPlayerIndex?t.boutModel.bout.combatants[t.currentPlayerIndex]:null},get_opponents:function(){var t=this.viewModel;return null==t.boutModel.bout?null:t.boutModel.bout.combatants.filter(function(t){return 0!=t.sideIndex})},get_dollScale:function(){var t=this.mapData.scaleX,e=this.mapData.scaleY;this.mapData.renderCount;return e<t?e:t},get_gotPregens:function(){return null!=this.fightChars&&0!=this.showPregens},get_thrustPointStyle:function(){var t=9*this.dollScale;return{width:t+"px",height:t+"px"}},get_clampedOpponentIndex:function(){var t=this.opponents,e=this.viewModel.focusOpponentIndex;return null==t||0==t.length?0:e<t.length?e:t.length-1},get_currentOpponent:function(){var t=this.opponents,e=this.player;return null!=e?null!=e.targetLink?e.targetLink.a!=e?e.targetLink.a:e.targetLink.b:null:null!=t?t[this.clampedOpponentIndex]:null},get_gotCurrentOpponent:function(){return null!=this.currentOpponent},Components:function(){return{zone:new tn,pregens:new en}},get_advManuevers:function(){var t=null!=this.player,e=null!=this.currentOpponent;return this.viewModel.getAdvancedManuevers(this.player,t?this.leftItem:null,t?this.rightItem:null,this.currentOpponent,e?this.enemyLeftItem:null,e?this.enemyRightItem:null)},get_advTNArr:function(){return null!=this.player?this.advTNs:this.advSimpTNs},get_advCostArr:function(){return null!=this.player?this.advCosts:this.advSimpCosts},get_advCosLblArr:function(){return null!=this.player?this.advCostStrs:this.advSimpCostStr},get_browseAttackModeLabel:function(){return this.viewModel.getBrowseAttackModeLabel(!1)},get_browseAttackModeLabel2:function(){return this.viewModel.getBrowseAttackModeLabel(!0)},get_isBrowseHighlightLeft:function(){return this.viewModel.isBrowseHighlightLeft()},get_isBrowseHighlightRight:function(){return this.viewModel.isBrowseHighlightRight()},get_advTNs:function(){for(var t=this.advManuevers,e=[],i=this.viewModel.playerManueverSpec,s=0,n=t.length;s<n;){var a=s++;e[a]=t[a].getTN(i)}return e},get_advSimpTNs:function(){for(var t=this.advManuevers,e=[],i=0,s=t.length;i<s;){var n=i++;e[n]=t[n].tn}return e},get_advCosts:function(){for(var t=this.advManuevers,e=[],i=this.player,s=this.boutModel.bout,n=0,a=t.length;n<a;){var r=n++;e[r]=t[r].getCost(s,i,null)}return e},get_advCostStrs:function(){for(var t=this.advManuevers,e=this.advCosts,i=[],s=this.player,n=this.boutModel.bout,a=this.viewModel.playerManueverSpec,r=0,o=t.length;r<o;){var h=r++,l=t[h],c=l.getSecondary();null==c||c.getAvailability(n,s,a)||(c=null),i[h]=(-2==l.costFuncInputs?"\\":"")+e[h]+(null!=c?","+c.getCost(n,s,null):"")}return i},get_advSimpCosts:function(){for(var t=this.advManuevers,e=[],i=0,s=t.length;i<s;){var n=i++;e[n]=t[n].cost}return e},get_advSimpCostStr:function(){for(var t=this.advManuevers,e=[],i=0,s=t.length;i<s;){var n=i++,a=t[n];e[n]=(-2==a.costFuncInputs?"\\":"")+a.cost}return e},advHiddenAt:function(t){return 0!=(this.advNotAvailMask&1<<t)},advDisabledAt:function(t){return 0!=(this.advNotAvailMask&1<<t+4)},get_advNotAvailMask:function(){var t=this.advManuevers,e=this.advTNs,i=this.player,s=this.boutModel.bout,n=null!=i,a=0,r=this.viewModel.playerManueverSpec;if(n)for(var o=0,h=t.length;o<h;){var l=o++;a|=e[l]<0||!t[l].getAvailability(s,i,r)||!t[l].validForTargetZone(r)?1<<l:0}return a},onNotAvailAdvMaskChange:function(t,e){this.viewModel.onAdvAvailabilityChange(t)},Mounted:function(){var t=this,e=this.$refs.image;0<e.width?this.handleImageMap(e):e.onload=function(){t.handleImageMap(e)},"file://"!=D.substr(window.location.href,0,7)&&"localhost"!=window.location.host||window.setTimeout(function(){},100)},startGame:function(){},get_currentDollSheet:function(){return this.currentOpponent.charSheet},get_armorColorScale:function(){return["#ff0000","#c00000","#e26b0a","#f79646","#f1e70d","#9bbb59","#92d050","#00b050","#0070c0","#00b0f0"]},get_carriedDollShieldAssign:function(){return this.currentDollSheet.inventory.findHeldShieldAssign()},get_carriedDollShield:function(){var t=this.carriedDollShieldAssign;return null!=t?t.shield:null},get_shieldIconStyle:function(){var t=this.carriedDollShield,e=-1,i=this.armorColorScale;return null!=t&&(e=t.AV-1)>=i.length&&(e=i.length-1),null!=t&&0<=e?{color:i[e]}:{}},get_shieldLowProfiles:function(){return wi.getLowCoverage()},get_shieldHighProfiles:function(){return wi.getHighCoverage()},get_dollShieldCoverage:function(){var t=this.carriedDollShield,t=null!=t?t.size:0;return(1==this.currentDollSheet.inventory.shieldPosition?this.shieldHighProfiles:this.shieldLowProfiles)[t]},get_dollShieldCoverageBools:function(){for(var t=[],e=0,i=this.viewModel.DOLL_PART_Slugs.length;e<i;){var s=e++;t[s]=this.shieldCoveredAtDollHitLocation(s)}return t},shieldCoveredAtDollHitLocation:function(t){var e=this.viewModel,i=e._body.hitLocations[e.DOLL_PART_HitIndices[t]];return null!=this.carriedDollShield&&null!=this.dollShieldCoverage[i.id]&&(!!this.dollShieldCoverage[i.id]||0!=(e.DOLL_PART_IsLefts&1<<t))},get_coverageHitLocations:function(){return this.currentDollSheet.body.hitLocations},get_hitLocationZeroAVValues:function(){return this.currentDollSheet.body.getNewEmptyAvsWithVis()},get_hitLocationZeroAVValues2:function(){return this.currentDollSheet.body.getNewEmptyAvsWithVis()},get_armorDollColors:function(){for(var t=[],e=this.viewModel.DOLL_PART_HitIndices,i=this.coverageHitLocations,s=this.hitLocationArmorValues,n=this.hitLocationArmorValues2,a=this.viewModel.DOLL_PART_IsLefts,r=0,o=e.length;r<o;){var h=r++,l=i[e[h]],c=(l.twoSided&&0!=(a&1<<h)?n:s)[l.id],R=+c.avc+1.4*c.avp+.6*c.avb,l=0<R;R/=3;c=Math.floor(R)-1,R=this.armorColorScale;c>=R.length&&(c=R.length-1)<0&&(c=0),t[h]=l?R[c]:null}return t},getVisibleArmorAtDollPartIndex:function(t){var e=0!=(this.viewModel.DOLL_PART_IsLefts&1<<t)?this.hitLocationArmorValues2:this.hitLocationArmorValues,t=this.viewModel.DOLL_PART_HitIndices[t];return e[this.coverageHitLocations[t].id].visArmor},getHitLocationArmorValues:function(t,e){null==e&&(e=7);for(var i=this.currentDollSheet.inventory,s=i.wornArmor,n=this.coverageHitLocations,a=this.currentDollSheet.body,r=0,o=n.length;r<o;){var h=t[n[r++].id];h.avc=0,h.avp=0,h.avb=0}for(var l=0,c=s.length;l<c;){var R,u=s[l++];null!=u.half&&0==(u.half&e)||(R=0,null!=(u=u.armor).special&&null!=u.special.wornWith&&""!=u.special.wornWith.name&&(R=i.layeredWearingMaskWith(u,u.special.wornWith.name,a)),u.writeAVVAluesTo(t,a,R,!1,0))}return t},get_hitLocationArmorValues:function(){return this.getHitLocationArmorValues(this.hitLocationZeroAVValues,5)},get_hitLocationArmorValues2:function(){return this.getHitLocationArmorValues(this.hitLocationZeroAVValues2,6)},get_cpTrayCSSTransform:function(){var t=this.viewModel.trayPosFlip?-1:1,e=this.viewModel.trayPosFlipY?-1:1;return"translate("+(this.viewModel.trayPosX+this.viewModel.trayGridShelfX*t)+"px, "+(this.viewModel.trayPosY+this.viewModel.trayGridShelfSize*e)+"px) scale("+t+","+e+")"},get_cpMeterAmount:function(){var t=this.player.charSheet,e=t.get_encumbranceLvlRow();return e.cpMult*t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,(t.get_AGI()+t.get_WIT())/2|0)))*(t.prone?.5:1)+e.cp+Us.getTable()[t.get_fatiqueLevel()].cp)},get_dragCPHtml:function(){var t=this.player,e=this.viewModel.draggedCP,i=t.charSheet,s=i.clampIntZero(i.getModifiedValue(13,(1<=i.schoolLevel?i.schoolLevel:0)+i.clampIntZero(i.getModifiedValue(8,(i.get_AGI()+i.get_WIT())/2|0)))),t=Math.floor(s/5);if(0<e){i=Math.floor(e/5);return"<span>"+this.repeatTxt("◘◘◘◘◘",i,"<br>")+"</span>"+this.repeatTxt("◘",e-5*i)+this.getRemainingMid(e,"◊",s)}return this.repeatTxt("◊◊◊◊◊",t,"<br>")+this.repeatTxt("◊",s-5*t)},getRemainingMid:function(t,e,i){var s=(i-(i-5*Math.floor(i/5))-t)%5;s<0&&(s=0);var n=this.repeatTxt(e,s),t=i-t-s;0<t&&0<s&&(n+="<br>");s=Math.floor(t/5);return n+this.repeatTxt(""+e+e+e+e+e,s,"<br>")+this.repeatTxt("◊",t-5*s)},repeatTxt:function(t,e,i){null==i&&(i="");for(var s="",n=0,a=e;n<a;){n++;s+=t+i}return s},get_cpTrayStyle:function(){return{transform:this.cpTrayCSSTransform,"font-size":this.viewModel.trayGridSizeY+"px"}},setupUIInteraction:function(){this.hammerUI=new Ys(this.$refs.container,this.mapData,null,this.$refs.cursor),this.hammerUI.viewModel=this.viewModel,this.viewModel.setupDollInteraction(this.hammerUI.interactionList,this.mapData),this.viewModel.setActingState(2)},get_actingState:function(){return this.viewModel.actingState},get_isDefBtnBlockVisible:function(){var t=this.isDefBtnBlockAllowed,e=null==this.player;return null!=this.currentOpponent&&(!!t||e)},get_isDefBtnBlockAllowed:function(){return this.viewModel.isDefBtnBlockAllowed()},on_isDefBtnBlockVisible:function(t,e){this.viewModel.btnBlockInteract.disabled=!t},get_isDefBtnParryVisible:function(){var t=this.isDefBtnParryAllowed,e=null==this.player;return null!=this.currentOpponent&&(!!t||e)},on_isDefBtnParryVisible:function(t,e){this.viewModel.btnParryInteract.disabled=!t},get_isDefBtnParryAllowed:function(){return this.viewModel.isDefBtnParryAllowed()},get_isDraggingCP:function(){return 1==this.viewModel.actingState},onActingStateChanged:function(t,e){t=this.viewModel.getInteractionListByState(t);this.hammerUI.interactionList=null!=t?t:this.viewModel.getInteractionListByState(2)},onOpponentsStateChange:function(t,e){t?this.viewModel.setActingState(0):this.viewModel.setActingState(2)},handleImageMap:function(t){var e=this.$refs.map.firstChild,i=this.mapData;i.refWidth=t.width,i.refHeight=t.height,i.layoutItemList=[],i.positionList=[],i.scaleList=[],i.titleList=[],i.classList=[];for(var s,n,a={},r=0,o=[];null!=e;)"area"==e.nodeName.toLowerCase()&&(s=e,i.positionList.push(Oe._new()),i.scaleList.push(Oe._new()),i.classList.push(s.getAttribute("alt")),n=s.getAttribute("title"),i.titleList.push(n),a[n]=r++,o.push(Rn.fromHTMLImageMapArea(t.width,t.height,s.getAttribute("shape"),s.getAttribute("coords")))),e=e.nextSibling;i.layoutItemList=o,i.idIndices=a,js.applyDollView(o,i.titleList,i.classList,i.refWidth,i.refHeight),window.addEventListener("resize",gn(this,this.onResize)),this.onResize(),this.setupUIInteraction()},onResize:function(){var t=this.$refs.container,e=parseFloat(t.clientWidth),i=parseFloat(t.clientHeight),t=this.mapData;t.scaleX=e/t.refWidth,t.scaleY=i/t.refHeight,this.refreshLayout()},refreshLayout:function(){for(var t=this.mapData,e=0,i=t.layoutItemList.length;e<i;){var s=e++;t.layoutItemList[s].solve(t.positionList[s],t.scaleList[s],t.scaleX,t.scaleY)}t.renderCount++},Template:function(){return'<div class="dollview" style="position:absolute;top:0;left:0;width:100%;height:100%"  ref="container">\r\n\t<div class="mouse-cursor" ref="cursor" :class="{observe:viewModel.observeOpponent}" />\r\n\t<div v-if="mapData.renderCount!=0" style="width:100%;height:100%;top:0;left;0;position:absolute;">\r\n\t\t<div class="bg" v-show="gotCurrentOpponent" style="position:absolute;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat; background-image:url(images/dollscreen_clear2.png); background-position:50% 50%; background-size:contain"></div>\r\n\t\t<zone :index="mapData.idIndices[\'vitals\']" :mapData="mapData" style="padding:5px" class="textarea-region" :class="{\'enableinput\':!player}">\r\n\t\t\t<div v-if="player">\r\n\t\t\t\t<div>F: <span>{{fatique}}</span></div>\r\n\t\t\t\t<div>Pain: <span>{{pain}}</span></div>\r\n\t\t\t\t<div>BL: <span>{{BL}}</span></div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else>\r\n\t\t\t\t<button @click="showSelfPregens" style="width:100%; height:100%; position:absolute;top:0;left:0;width:100%;height:100%">Select your character</button>\r\n\t\t\t</div>\r\n\t\t</zone>\r\n\r\n\t\t<zone :index="mapData.idIndices[\'incomingManuevers\']" :mapData="mapData" style="padding:5px" class="textarea-region">\r\n\t\t\t<div class="observe-indicator" v-if="gotCurrentOpponent" v-show="viewModel.incomingHeldDown || (!viewModel.showFocusedTag)" v-html="observePrompt"></div>\r\n\t\t\t<div class="hover-tag" v-if="gotCurrentOpponent" v-show="viewModel.showFocusedTag" v-html="focusedTextLbl"></div>\r\n\t\t</zone>\r\n\r\n\t\t<div v-if="player">\r\n\t\t\t<zone :index="mapData.idIndices[\'cpMeter\']" :mapData="mapData">\r\n\t\t\t\t<div v-for="i in cpMeterAmount">\r\n\t\t\t\t\t<component :is="i <= player.fight.cp ? \'span\' : \'del\'">{{i}}</component>\r\n\t\t\t\t</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone :index="mapData.idIndices[\'cpText\']" :mapData="mapData">\r\n\t\t\t\t<div> {{CP}}cp</div>\r\n\t\t\t\t<div v-show="viewModel.draggedCP">-{{viewModel.draggedCP}}</div>\r\n\t\t\t\t<div v-show="viewModel.draggedCP"> {{remCP}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone v-bind="stylePlHandBtnProps"  :index="mapData.idIndices[\'handLeftAlt\']" :mapData="mapData" class="textarea-region" v-if="leftItem" :showShape="leftItemHighlighted">\r\n\t\t\t\t<div class="lbl" v-html="leftTypeTag"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index="mapData.idIndices[\'handLeftText\']" :mapData="mapData" v-if="leftItem">\r\n\t\t\t\t<div class="lbl">{{leftItem.name}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone v-bind="stylePlHandBtnProps" :index="mapData.idIndices[\'handRightAlt\']" :mapData="mapData" class="textarea-region" v-if="rightItem" :showShape="rightItemHighlighted">\r\n\t\t\t\t<div class="lbl" v-html="rightTypeTag"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index="mapData.idIndices[\'handRightText\']" :mapData="mapData" v-if="rightItem">\r\n\t\t\t\t<div class="lbl">{{rightItem.name}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t\r\n\r\n\t\t\t<div class="cp-tray" id="cpTray" v-show="isDraggingCP" v-html="dragCPHtml" :style="cpTrayStyle">\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div v-if="gotCurrentOpponent">\r\n\r\n\t\t\t<zone v-bind="advStyleProps"  :index="mapData.idIndices[\'advManuever\'+(i+1)]" :key="i" :class="{disabled:advDisabledAt(i)}" :mapData="mapData" v-for="(manuever, i) in advManuevers" class="adv-manuever-btn" :showShape="viewModel.advFocusedIndex === i" v-if="!advHiddenAt(i) && manuever.name !==\'\'">\r\n\t\t\t\t<div class="lbl">{{manuever.name}}<span class="cost" v-show="advCostArr[i]!=0"> [{{advCosLblArr[i]}}]</span><span class="tn" v-show="advTNArr[i]!=7 && advTNArr[i]!=0"> &gt;{{advTNArr[i]}}</span></div>\r\n\t\t\t</zone>\r\n\t\t\t\t\r\n\t\t\t<zone v-bind="styleDefBtnProps" :index="mapData.idIndices[\'btnBlock\']" :mapData="mapData" class="def-manuever-btn" v-show="isDefBtnBlockVisible" :showShape="viewModel.focusedIndex==mapData.idIndices[\'btnBlock\']">\r\n\t\t\t\t<div class="lbl">B</div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind="styleDefBtnProps" :index="mapData.idIndices[\'btnParry\']" :mapData="mapData" class="def-manuever-btn" v-show="isDefBtnParryVisible" :showShape="viewModel.focusedIndex==mapData.idIndices[\'btnParry\']">\r\n\t\t\t\t<div class="lbl">P</div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind="styleDefBtnProps" :index="mapData.idIndices[\'btnVoid\']" :mapData="mapData" class="def-manuever-btn" v-show="true" :showShape="viewModel.focusedIndex==mapData.idIndices[\'btnVoid\']">\r\n\t\t\t\t<div class="lbl">V</div>\r\n\t\t\t</zone>\r\n\t\r\n\t\t\t\t\t\r\n\t\t\t<zone v-bind="stylePartProps" :index="mapData.idIndices[li]" :mapData="mapData" v-for="(li, i) in viewModel.DOLL_PART_Slugs" :key="li" :showShape="viewModel.focusedIndex==mapData.idIndices[li]">\r\n\t\t\t\t<div class="thrust-point" v-if="viewModel.isDollPartThrustable(i)" :style="thrustPointStyle"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind="styleSwingProps" :index="mapData.idIndices[li]" :mapData="mapData" v-for="(li, i) in viewModel.DOLL_SWING_Slugs" :key="li" :showShape="viewModel.focusedIndex==mapData.idIndices[li]"></zone>\r\n\r\n\r\n\r\n\t\t\t<zone v-bind="armorPartProps[i]" v-for="(li, i) in viewModel.DOLL_PART_Slugs" :key="li">\r\n\t\t\t\t<div class="shieldmark" v-show="dollShieldCoverageBools[i]" :style="shieldIconStyle"></div>\r\n\t\t\t</zone>\r\n\r\n\r\n\t\t\t<zone :index="mapData.idIndices[li]" :mapData="mapData" v-bind="styleObservePartProps" v-for="(li, i) in viewModel.DOLL_PART_Slugs" :key="li" :showShape="viewModel.observeIndex==mapData.idIndices[li]"></zone>\r\n\r\n\t\t\t<zone :index="mapData.idIndices[\'enemyHandLeft\']" :mapData="mapData" v-bind="stylePartProps" class="enemy-handbox" v-if="enemyLeftItem" :showShape="viewModel.focusedIndex==mapData.idIndices[\'enemyHandLeft\']">\r\n\t\t\t\t<div class="lbl" v-html="enemyLeftTypeTag"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index="mapData.idIndices[\'enemyHandRight\']" :mapData="mapData" v-bind="stylePartProps" class="enemy-handbox" v-if="enemyRightItem" :showShape="viewModel.focusedIndex==mapData.idIndices[\'enemyHandRight\']">\r\n\t\t\t\t<div class="lbl" v-html="enemyRightTypeTag"></div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone :index="mapData.idIndices[\'enemyHandLeft\']" :mapData="mapData" v-bind="styleObservePartProps" class="enemy-handbox dummy" v-if="enemyLeftItem" :showShape="viewModel.observeIndex==mapData.idIndices[\'enemyHandLeft\']"></zone>\r\n\t\t\t<zone :index="mapData.idIndices[\'enemyHandRight\']" :mapData="mapData" v-bind="styleObservePartProps" class="enemy-handbox dummy" v-if="enemyRightItem" :showShape="viewModel.observeIndex==mapData.idIndices[\'enemyHandRight\']"></zone>\r\n\r\n\t\t\t<zone :index="mapData.idIndices[\'opponentSwiper\']" :mapData="mapData" class="textarea-region">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for="(li, i) in opponents" :key="i">{{li.label}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</zone>\r\n\t\t\t\t\t\r\n\t\t\t<div v-if="!player">\r\n\t\t\t\t<zone v-bind="stylePlHandBtnProps" :index="mapData.idIndices[\'handLeftAlt\']" :mapData="mapData" class="textarea-region" :showShape="isBrowseHighlightLeft">\r\n\t\t\t\t\t<div class="lbl"></div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone :index="mapData.idIndices[\'handLeftText\']" :mapData="mapData">\r\n\t\t\t\t\t<div class="lbl">{{browseAttackModeLabel2}}</div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone v-bind="stylePlHandBtnProps" :index="mapData.idIndices[\'handRightAlt\']" :mapData="mapData" class="textarea-region" :showShape="isBrowseHighlightRight">\r\n\t\t\t\t\t<div class="lbl"></div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone :index="mapData.idIndices[\'handRightText\']" :mapData="mapData">\r\n\t\t\t\t\t<div class="lbl">{{browseAttackModeLabel}}</div>\r\n\t\t\t\t</zone>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-else>\r\n\t\t\t<div class="select-opponent">\r\n\t\t\t\t<button @click="showOpponentPregens">Select opponent</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div v-if="gotCurrentOpponent && player && player.targetLink">\r\n\t\t\t<zone :index="mapData.idIndices[\'initRange\']" :mapData="mapData" style="overflow:visible">\r\n\t\t\t\t<div class="bger"></div>\r\n\t\t\t</zone>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div v-if="gotPregens">\r\n\t\t\t<pregens :header="pregenHeader" :characters="fightChars.pool" @close="closePregens" @singleCharSelected="confirmPregens" @multiCharSelected="confirmPregens"></pregens>\r\n\t\t</div>\r\n\r\n\t\t\x3c!--<div v-for="(li, i) in armorColorScale" :key="i" :style="{color:li}">-</div>--\x3e\r\n\r\n\t</div>\r\n\t<div class="image-map-holder" style="position:relative; display:none" v-if="mapData.renderCount==0">\r\n\t\t<img src="images/dollscreen.png" style="transform-origin:0 0; pointer-events:none; opacity:0.12" usemap="#map" ref="image" />\r\n\t\t<map name="map" ref="map">\r\n\t\t\t<area shape="rect" coords="401, 334, 435, 391" title="enemyHandLeft" />\r\n\t\t\t<area shape="rect" coords="59, 336, 92, 393" title="enemyHandRight" />\r\n\t\t\t<area shape="poly" coords="316, 519, 314, 580, 305, 622, 317, 659, 374, 585" alt="swing" title="SWING_LOWER_LEG-l" />\r\n\t\t\t<area shape="poly" coords="124, 567, 170, 525, 172, 576, 179, 619, 160, 663" alt="swing" title="SWING_LOWER_LEG-r" />\r\n\t\t\t<area shape="rect" coords="224, 478, 261, 585" title="enemyStatus" />\r\n\t\t\t<area shape="poly" coords="238, 76, 254, 78, 262, 85, 267, 115, 262, 115, 255, 96, 244, 95, 234, 97, 223, 115, 217, 115, 223, 85, 238, 76" alt="part" title="UPPER_HEAD" />\r\n\t\t\t<area shape="poly" coords="309, 400, 310, 483, 313, 506, 378, 574, 366, 421" alt="swing" title="SWING_UPPER_LEG-l" />\r\n\t\t\t<area shape="poly" coords="124, 432, 172, 409, 175, 499, 115, 557" alt="swing" title="SWING_UPPER_LEG-r" />\r\n\t\t\t<area shape="poly" coords="302, 332, 351, 364, 364, 413, 306, 390" alt="swing" title="SWING_GROIN-l" />\r\n\t\t\t<area shape="poly" coords="142, 358, 181, 334, 171, 392, 124, 418" alt="swing" title="SWING_GROIN-r" />\r\n\t\t\t<area shape="poly" coords="302, 254, 331, 307, 361, 333, 349, 349, 307, 318, 300, 315" alt="swing" title="SWING_TORSO-l" />\r\n\t\t\t<area shape="poly" coords="137, 319, 172, 278, 183, 259, 185, 322, 141, 351" alt="swing" title="SWING_TORSO-r" />\r\n\t\t\t<area shape="poly" coords="356, 263, 399, 235, 411, 300, 387, 311" alt="swing" title="SWING_LOWER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="319, 168, 352, 254, 399, 224, 366, 168" alt="swing" title="SWING_UPPER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="271, 77, 272, 127, 306, 83" alt="swing" title="SWING_DOWNWARD_HEAD-l" />\r\n\t\t\t<area shape="poly" coords="166, 82, 213, 132, 210, 77" alt="swing" title="SWING_DOWNWARD_HEAD-r" />\r\n\t\t\t<area shape="poly" coords="313, 83, 269, 144, 285, 158, 366, 162" alt="swing" title="SWING_NECK-l" />\r\n\t\t\t<area shape="poly" coords="219, 78, 242, 46, 264, 79, 267, 91, 220, 93" alt="swing" title="SWING_UPWARD_HEAD" />\r\n\t\t\t<area shape="poly" coords="89, 226, 133, 258, 101, 309, 67, 310" alt="swing" title="SWING_LOWER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="87, 213, 139, 250, 159, 186, 170, 164, 115, 162" alt="swing" title="SWING_UPPER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="153, 85, 219, 144, 200, 159, 120, 157" alt="swing" title="SWING_NECK-r" />\r\n\t\t\t<area shape="poly" coords="224, 124, 228, 144, 247, 149, 258, 142, 269, 123, 263, 123, 250, 134, 237, 134, 228, 124" alt="part" title="LOWER_HEAD" />\r\n\t\t\t<area shape="poly" coords="322, 192, 339, 250, 315, 256, 308, 243, 306, 223, 322, 192" alt="part" title="UPPER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="99, 318, 105, 318, 115, 332, 98, 371, 94, 376, 95, 358, 85, 377, 80, 377, 86, 360, 83, 358, 68, 378, 70, 366, 62, 366, 77, 343, 71, 343, 70, 338, 81, 326, 99, 318" alt="part" title="HAND-r" />\r\n\t\t\t<area shape="poly" coords="381, 320, 405, 327, 417, 340, 411, 346, 424, 366, 424, 370, 417, 371, 417, 378, 402, 359, 404, 379, 392, 360, 392, 375, 388, 371, 372, 334, 372, 327, 381, 320" alt="part" title="HAND-l" />\r\n\t\t\t<area shape="poly" coords="356, 283, 381, 313, 368, 324, 347, 311, 327, 279, 349, 270" alt="part" title="FOREARM-l" />\r\n\t\t\t<area shape="poly" coords="334, 253, 345, 263, 325, 273, 318, 260" alt="part" title="ELBOW-l" />\r\n\t\t\t<area shape="poly" coords="138, 267, 155, 281, 116, 327, 105, 317" alt="part" title="FOREARM-r" />\r\n\t\t\t<area shape="poly" coords="284, 620, 294, 619, 299, 650, 312, 666, 309, 671, 284, 672, 279, 637" alt="part" title="FOOT-l" />\r\n\t\t\t<area shape="poly" coords="188, 619, 202, 619, 207, 633, 205, 668, 199, 673, 169, 669, 183, 647, 188, 630" alt="part" title="FOOT-r" />\r\n\t\t\t<area shape="poly" coords="250, 383, 267, 368, 297, 367, 302, 390, 298, 457, 298, 480, 286, 481, 271, 486, 261, 421" alt="part" title="THIGH-l" />\r\n\t\t\t<area shape="poly" coords="301, 517, 306, 520, 308, 534, 306, 580, 297, 622, 284, 621, 275, 563, 274, 519, 291, 524, 301, 517" alt="part" title="SHIN-l" />\r\n\t\t\t<area shape="poly" coords="180, 516, 195, 523, 210, 518, 211, 558, 202, 614, 186, 614, 182, 600, 177, 571, 180, 516" alt="part" title="SHIN-r" />\r\n\t\t\t<area shape="poly" coords="274, 496, 289, 492, 301, 494, 302, 508, 292, 520, 273, 511" alt="part" title="KNEE-l" />\r\n\t\t\t<area shape="poly" coords="193, 488, 213, 497, 211, 509, 199, 516, 183, 508, 185, 492, 193, 488" alt="part" title="KNEE-r" />\r\n\t\t\t<area shape="poly" coords="189, 367, 220, 367, 237, 381, 213, 491, 205, 484, 191, 484, 186, 480, 183, 385, 189, 367" alt="part" title="THIGH-r" />\r\n\t\t\t<area shape="poly" coords="243, 343, 258, 367, 248, 379, 239, 380, 228, 366, 243, 343" alt="part" title="GROIN" />\r\n\t\t\t<area shape="poly" coords="287, 326, 293, 332, 295, 363, 262, 363, 253, 350, 253, 342, 269, 331, 287, 326" alt="part" title="HIP-l" />\r\n\t\t\t<area shape="poly" coords="197, 324, 220, 331, 235, 341, 223, 363, 188, 363, 197, 324" alt="part" title="HIP-r" />\r\n\t\t\t<area shape="poly" coords="195, 259, 218, 266, 208, 295, 213, 325, 197, 319, 195, 259" alt="part" title="SIDE-r" />\r\n\t\t\t<area shape="poly" coords="288, 259, 292, 259, 293, 266, 289, 315, 286, 320, 271, 324, 278, 294, 269, 266, 288, 259" alt="part" title="SIDE-l" />\r\n\t\t\t<area shape="poly" coords="237, 256, 257, 261, 271, 287, 268, 317, 261, 328, 246, 337, 224, 329, 212, 302, 217, 273, 237, 256" alt="part" title="BELLY" />\r\n\t\t\t<area shape="poly" coords="240, 99, 254, 102, 258, 108, 259, 123, 250, 133, 238, 132, 231, 129, 225, 118, 231, 104, 240, 99" alt="part" title="FACE" />\r\n\t\t\t<area shape="poly" coords="259, 144, 262, 157, 270, 165, 245, 179, 209, 163, 225, 158, 230, 146, 244, 154, 258, 150" alt="part" title="NECK" />\r\n\t\t\t<area shape="poly" coords="286, 169, 307, 171, 317, 186, 305, 217" alt="part" title="SHOULDER-l" />\r\n\t\t\t<area shape="poly" coords="200, 174, 180, 217, 166, 186, 176, 171, 191, 168" alt="part" title="SHOULDER-r" />\r\n\t\t\t<area shape="poly" coords="164, 196, 180, 224, 169, 257, 151, 245, 164, 196" alt="part" title="UPPER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="151, 253, 166, 263, 158, 276, 140, 261, 149, 249" alt="part" title="ELBOW-r" />\r\n\t\t\t<area shape="poly" coords="276, 170, 299, 223, 294, 252, 264, 260, 242, 250, 221, 260, 190, 250, 188, 220, 210, 171, 246, 186, 276, 170" alt="part" title="CHEST" />\r\n\t\t\t<area shape="rect" coords="1, 177, 13, 723" title="cpMeter" />\r\n\t\t\t<area shape="rect" coords="331, 3, 487, 106" title="incomingManuevers" />\r\n\t\t\t<area shape="rect" coords="71, 3, 320, 34" title="opponentSwiper" />\r\n\t\t\t<area shape="rect" coords="8, 3, 65, 31" title="roundCount" />\r\n\t\t\t<area shape="rect" coords="7, 37, 74, 163" title="vitals" />\r\n\t\t\t<area shape="rect" coords="21, 175, 72, 229" title="cpText" />\r\n\t\t\t<area shape="rect" coords="421, 143, 487, 203" title="advManuever1" />\r\n\t\t\t<area shape="rect" coords="423, 239, 486, 298" title="advManuever2" />\r\n\t\t\t<area shape="rect" coords="424, 425, 489, 481" title="advManuever3" />\r\n\t\t\t<area shape="rect" coords="423, 517, 487, 576" title="advManuever4" />\r\n\t\t\t<area shape="rect" coords="50, 509, 102, 560" title="btnBlock" />\r\n\t\t\t<area shape="rect" coords="391, 610, 443, 661" title="btnParry" />\r\n\t\t\t<area shape="rect" coords="49, 612, 101, 663" title="btnVoid" />\r\n\t\t\t<area shape="rect" coords="39, 688, 118, 721" title="handLeftText" />\r\n\t\t\t<area shape="rect" coords="351, 688, 470, 721" title="handRightText" />\r\n\t\t\t<area shape="rect" coords="271, 684, 347, 721" title="handRightAlt" />\r\n\t\t\t<area shape="rect" coords="123, 684, 199, 721" title="handLeftAlt" />\r\n\t\t\t<area shape="poly" coords="239, 605, 219, 619, 210, 727, 266, 727, 258, 617" title="initRange" />\r\n\t\t</map>\r\n\t</div>\r\n</div>'},_Init:function(){var t=Qs.prototype;this.data=t.Data,this.components=this.Components(),this.mounted=t.Mounted,this.template=this.Template(),this.computed={pregenHeader:t.get_pregenHeader,boutModel:t.get_boutModel,remainingDisplayCP:t.get_remainingDisplayCP,fatique:t.get_fatique,CP:t.get_CP,remCP:t.get_remCP,BL:t.get_BL,pain:t.get_pain,rightItem:t.get_rightItem,leftItem:t.get_leftItem,rightItemAssign:t.get_rightItemAssign,leftItemAssign:t.get_leftItemAssign,rightItemHighlighted:t.get_rightItemHighlighted,leftItemHighlighted:t.get_leftItemHighlighted,leftTypeTag:t.get_leftTypeTag,rightTypeTag:t.get_rightTypeTag,enemyRightItem:t.get_enemyRightItem,enemyLeftItem:t.get_enemyLeftItem,enemyLeftTypeTag:t.get_enemyLeftTypeTag,enemyRightTypeTag:t.get_enemyRightTypeTag,styleObservePartProps:t.get_styleObservePartProps,focusManueverAtkType:t.get_focusManueverAtkType,advStyleProps:t.get_advStyleProps,stylePartProps:t.get_stylePartProps,armorPartProps:t.get_armorPartProps,styleSwingProps:t.get_styleSwingProps,styleDefBtnProps:t.get_styleDefBtnProps,stylePlHandBtnProps:t.get_stylePlHandBtnProps,basicTargetingLabels:t.get_basicTargetingLabels,focusedTextLbl:t.get_focusedTextLbl,observePrompt:t.get_observePrompt,partObserveLbl:t.get_partObserveLbl,player:t.get_player,opponents:t.get_opponents,dollScale:t.get_dollScale,gotPregens:t.get_gotPregens,thrustPointStyle:t.get_thrustPointStyle,clampedOpponentIndex:t.get_clampedOpponentIndex,currentOpponent:t.get_currentOpponent,gotCurrentOpponent:t.get_gotCurrentOpponent,advManuevers:t.get_advManuevers,advTNArr:t.get_advTNArr,advCostArr:t.get_advCostArr,advCosLblArr:t.get_advCosLblArr,browseAttackModeLabel:t.get_browseAttackModeLabel,browseAttackModeLabel2:t.get_browseAttackModeLabel2,isBrowseHighlightLeft:t.get_isBrowseHighlightLeft,isBrowseHighlightRight:t.get_isBrowseHighlightRight,advTNs:t.get_advTNs,advSimpTNs:t.get_advSimpTNs,advCosts:t.get_advCosts,advCostStrs:t.get_advCostStrs,advSimpCosts:t.get_advSimpCosts,advSimpCostStr:t.get_advSimpCostStr,advNotAvailMask:t.get_advNotAvailMask,currentDollSheet:t.get_currentDollSheet,armorColorScale:t.get_armorColorScale,carriedDollShieldAssign:t.get_carriedDollShieldAssign,carriedDollShield:t.get_carriedDollShield,shieldIconStyle:t.get_shieldIconStyle,shieldLowProfiles:t.get_shieldLowProfiles,shieldHighProfiles:t.get_shieldHighProfiles,dollShieldCoverage:t.get_dollShieldCoverage,dollShieldCoverageBools:t.get_dollShieldCoverageBools,coverageHitLocations:t.get_coverageHitLocations,hitLocationZeroAVValues:t.get_hitLocationZeroAVValues,hitLocationZeroAVValues2:t.get_hitLocationZeroAVValues2,armorDollColors:t.get_armorDollColors,hitLocationArmorValues:t.get_hitLocationArmorValues,hitLocationArmorValues2:t.get_hitLocationArmorValues2,cpTrayCSSTransform:t.get_cpTrayCSSTransform,cpMeterAmount:t.get_cpMeterAmount,dragCPHtml:t.get_dragCPHtml,cpTrayStyle:t.get_cpTrayStyle,actingState:t.get_actingState,isDefBtnBlockVisible:t.get_isDefBtnBlockVisible,isDefBtnBlockAllowed:t.get_isDefBtnBlockAllowed,isDefBtnParryVisible:t.get_isDefBtnParryVisible,isDefBtnParryAllowed:t.get_isDefBtnParryAllowed,isDraggingCP:t.get_isDraggingCP},this.methods={get_pregenHeader:t.get_pregenHeader,closePregens:t.closePregens,quickStartDebug:t.quickStartDebug,confirmPregens:t.confirmPregens,deserializeSheet:t.deserializeSheet,showSelfPregens:t.showSelfPregens,showOpponentPregens:t.showOpponentPregens,get_boutModel:t.get_boutModel,get_remainingDisplayCP:t.get_remainingDisplayCP,get_fatique:t.get_fatique,get_CP:t.get_CP,get_remCP:t.get_remCP,get_BL:t.get_BL,get_pain:t.get_pain,get_rightItem:t.get_rightItem,get_leftItem:t.get_leftItem,get_rightItemAssign:t.get_rightItemAssign,get_leftItemAssign:t.get_leftItemAssign,get_rightItemHighlighted:t.get_rightItemHighlighted,get_leftItemHighlighted:t.get_leftItemHighlighted,getTypeTagForItem:t.getTypeTagForItem,get_leftTypeTag:t.get_leftTypeTag,get_rightTypeTag:t.get_rightTypeTag,get_enemyRightItem:t.get_enemyRightItem,get_enemyLeftItem:t.get_enemyLeftItem,get_enemyLeftTypeTag:t.get_enemyLeftTypeTag,get_enemyRightTypeTag:t.get_enemyRightTypeTag,get_styleObservePartProps:t.get_styleObservePartProps,get_focusManueverAtkType:t.get_focusManueverAtkType,get_advStyleProps:t.get_advStyleProps,get_stylePartProps:t.get_stylePartProps,getArmorPartPropsOf:t.getArmorPartPropsOf,get_armorPartProps:t.get_armorPartProps,get_styleSwingProps:t.get_styleSwingProps,get_styleDefBtnProps:t.get_styleDefBtnProps,get_stylePlHandBtnProps:t.get_stylePlHandBtnProps,get_basicTargetingLabels:t.get_basicTargetingLabels,get_focusedTextLbl:t.get_focusedTextLbl,get_observePrompt:t.get_observePrompt,get_partObserveLbl:t.get_partObserveLbl,get_player:t.get_player,get_opponents:t.get_opponents,get_dollScale:t.get_dollScale,get_gotPregens:t.get_gotPregens,get_thrustPointStyle:t.get_thrustPointStyle,get_clampedOpponentIndex:t.get_clampedOpponentIndex,get_currentOpponent:t.get_currentOpponent,get_gotCurrentOpponent:t.get_gotCurrentOpponent,get_advManuevers:t.get_advManuevers,get_advTNArr:t.get_advTNArr,get_advCostArr:t.get_advCostArr,get_advCosLblArr:t.get_advCosLblArr,get_browseAttackModeLabel:t.get_browseAttackModeLabel,get_browseAttackModeLabel2:t.get_browseAttackModeLabel2,get_isBrowseHighlightLeft:t.get_isBrowseHighlightLeft,get_isBrowseHighlightRight:t.get_isBrowseHighlightRight,get_advTNs:t.get_advTNs,get_advSimpTNs:t.get_advSimpTNs,get_advCosts:t.get_advCosts,get_advCostStrs:t.get_advCostStrs,get_advSimpCosts:t.get_advSimpCosts,get_advSimpCostStr:t.get_advSimpCostStr,advHiddenAt:t.advHiddenAt,advDisabledAt:t.advDisabledAt,get_advNotAvailMask:t.get_advNotAvailMask,onNotAvailAdvMaskChange:t.onNotAvailAdvMaskChange,startGame:t.startGame,get_currentDollSheet:t.get_currentDollSheet,get_armorColorScale:t.get_armorColorScale,get_carriedDollShieldAssign:t.get_carriedDollShieldAssign,get_carriedDollShield:t.get_carriedDollShield,get_shieldIconStyle:t.get_shieldIconStyle,get_shieldLowProfiles:t.get_shieldLowProfiles,get_shieldHighProfiles:t.get_shieldHighProfiles,get_dollShieldCoverage:t.get_dollShieldCoverage,get_dollShieldCoverageBools:t.get_dollShieldCoverageBools,shieldCoveredAtDollHitLocation:t.shieldCoveredAtDollHitLocation,get_coverageHitLocations:t.get_coverageHitLocations,get_hitLocationZeroAVValues:t.get_hitLocationZeroAVValues,get_hitLocationZeroAVValues2:t.get_hitLocationZeroAVValues2,get_armorDollColors:t.get_armorDollColors,getVisibleArmorAtDollPartIndex:t.getVisibleArmorAtDollPartIndex,getHitLocationArmorValues:t.getHitLocationArmorValues,get_hitLocationArmorValues:t.get_hitLocationArmorValues,get_hitLocationArmorValues2:t.get_hitLocationArmorValues2,get_cpTrayCSSTransform:t.get_cpTrayCSSTransform,get_cpMeterAmount:t.get_cpMeterAmount,get_dragCPHtml:t.get_dragCPHtml,getRemainingMid:t.getRemainingMid,repeatTxt:t.repeatTxt,get_cpTrayStyle:t.get_cpTrayStyle,setupUIInteraction:t.setupUIInteraction,get_actingState:t.get_actingState,get_isDefBtnBlockVisible:t.get_isDefBtnBlockVisible,get_isDefBtnBlockAllowed:t.get_isDefBtnBlockAllowed,on_isDefBtnBlockVisible:t.on_isDefBtnBlockVisible,get_isDefBtnParryVisible:t.get_isDefBtnParryVisible,on_isDefBtnParryVisible:t.on_isDefBtnParryVisible,get_isDefBtnParryAllowed:t.get_isDefBtnParryAllowed,get_isDraggingCP:t.get_isDraggingCP,onActingStateChanged:t.onActingStateChanged,onOpponentsStateChange:t.onOpponentsStateChange,handleImageMap:t.handleImageMap,onResize:t.onResize,refreshLayout:t.refreshLayout},this.watch={advNotAvailMask:t.onNotAvailAdvMaskChange,isDefBtnBlockVisible:t.on_isDefBtnBlockVisible,isDefBtnParryVisible:t.on_isDefBtnParryVisible,actingState:t.onActingStateChanged,gotCurrentOpponent:t.onOpponentsStateChange}},__class__:Qs}),(i["troshx.sos.vue.combat.components.ImageMapTester"]=$s).__name__=["troshx","sos","vue","combat","components","ImageMapTester"],$s.__super__=d,$s.prototype=t(d.prototype,{Data:function(){return Qs.getBlankImageMapData()},Components:function(){return{zone:new Js}},setupUIInteraction:function(){new Ys(this.$refs.container,this.$data)},Mounted:function(){var t=this,e=this.$refs.image;0<e.width?this.handleImageMap(e):e.onload=function(){t.handleImageMap(e)}},handleImageMap:function(t){var e=this.$refs.map.firstChild;this.refWidth=t.width,this.refHeight=t.height;for(var i,s=[];null!=e;)"area"==e.nodeName.toLowerCase()&&(i=e,this.positionList.push(Oe._new()),this.scaleList.push(Oe._new()),this.classList.push(i.getAttribute("alt")),this.titleList.push(i.getAttribute("title")),s.push(Rn.fromHTMLImageMapArea(t.width,t.height,i.getAttribute("shape"),i.getAttribute("coords")))),e=e.nextSibling;this.$data.layoutItemList=s,js.applyDollView(s,this.titleList,this.classList,this.refWidth,this.refHeight),window.addEventListener("resize",gn(this,this.onResize)),this.onResize(),this.setupUIInteraction()},onResize:function(){var t=this.$refs.container,e=parseFloat(t.clientWidth),t=parseFloat(t.clientHeight);this.scaleX=e/this.refWidth,this.scaleY=t/this.refHeight,this.refreshLayout()},refreshLayout:function(){for(var t=0,e=this.layoutItemList.length;t<e;){var i=t++;this.layoutItemList[i].solve(this.positionList[i],this.scaleList[i],this.scaleX,this.scaleY)}},Template:function(){return'<div class="dollview" style="position:fixed;top:0;left:0;width:100%;height:100%"  ref="container">\r\n\t<div style="width:100%;height:100%;top:0;left;0;position:absolute;background-repeat:no-repeat;background-image:url(images/dollscreen.png); background-position:50% 50%; background-size:contain">\r\n\t\t<zone v-for="(li, i) in layoutItemList" :title="titleList[i]" :class="classList[i]" :key="i" :x="positionList[i].x*refWidth*scaleX" :y="positionList[i].y*refHeight*scaleY" :width="scaleList[i].x*refWidth*scaleX" :height="scaleList[i].y*refHeight*scaleY" :item="li" :debug="true" />\r\n\t</div>\r\n\t<div class="image-map-holder" style="position:relative; display:none">\r\n\t\t<img src="images/dollscreen.png" style="transform-origin:0 0; pointer-events:none; opacity:0.12" usemap="#map" ref="image" />\r\n\t\t<map name="map" ref="map">\r\n\t\t\t\x3c!--<area shape="circle" coords="155, 155, 32" title="circle_test" />--\x3e\r\n\t\t\t<area shape="poly" coords="316, 519, 314, 580, 305, 622, 317, 659, 374, 585" alt="swing" title="SWING_LOWER_LEG-l" />\r\n\t\t\t<area shape="poly" coords="124, 567, 170, 525, 172, 576, 179, 619, 160, 663" alt="swing" title="SWING_LOWER_LEG-r" />\r\n\t\t\t<area shape="rect" coords="224, 478, 261, 585" title="enemyStatus" />\r\n\t\t\t<area shape="poly" coords="238, 76, 254, 78, 262, 85, 267, 115, 262, 115, 255, 96, 244, 95, 234, 97, 223, 115, 217, 115, 223, 85, 238, 76" alt="part" title="UPPER_HEAD" />\r\n\t\t\t<area shape="poly" coords="309, 400, 310, 483, 313, 506, 378, 574, 366, 421" alt="swing" title="SWING_UPPER_LEG-l" />\r\n\t\t\t<area shape="poly" coords="124, 432, 172, 409, 175, 499, 115, 557" alt="swing" title="SWING_UPPER_LEG-r" />\r\n\t\t\t<area shape="poly" coords="302, 332, 351, 364, 364, 413, 306, 390" alt="swing" title="SWING_GROIN-l" />\r\n\t\t\t<area shape="poly" coords="142, 358, 181, 334, 171, 392, 124, 418" alt="swing" title="SWING_GROIN-r" />\r\n\t\t\t<area shape="poly" coords="302, 254, 331, 307, 361, 333, 349, 349, 307, 318, 300, 315" alt="swing" title="SWING_TORSO-l" />\r\n\t\t\t<area shape="poly" coords="137, 319, 172, 278, 183, 259, 185, 322, 141, 351" alt="swing" title="SWING_TORSO-r" />\r\n\t\t\t<area shape="poly" coords="356, 263, 399, 235, 411, 300, 387, 311" alt="swing" title="SWING_LOWER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="319, 168, 352, 254, 399, 224, 366, 168" alt="swing" title="SWING_UPPER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="271, 77, 272, 127, 306, 83" alt="swing" title="SWING_DOWNWARD_HEAD-l" />\r\n\t\t\t<area shape="poly" coords="166, 82, 213, 132, 210, 77" alt="swing" title="SWING_DOWNWARD_HEAD-r" />\r\n\t\t\t<area shape="poly" coords="313, 83, 269, 144, 285, 158, 366, 162" alt="swing" title="SWING_NECK-l" />\r\n\t\t\t<area shape="poly" coords="219, 78, 242, 46, 264, 79, 267, 91, 220, 93" alt="swing" title="SWING_UPWARD_HEAD" />\r\n\t\t\t<area shape="poly" coords="89, 226, 133, 258, 101, 309, 67, 310" alt="swing" title="SWING_LOWER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="87, 213, 139, 250, 159, 186, 170, 164, 115, 162" alt="swing" title="SWING_UPPER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="153, 85, 219, 144, 200, 159, 120, 157" alt="swing" title="SWING_NECK-r" />\r\n\t\t\t<area shape="poly" coords="224, 124, 228, 144, 247, 149, 258, 142, 269, 123, 263, 123, 250, 134, 237, 134, 228, 124" alt="part" title="LOWER_HEAD" />\r\n\t\t\t<area shape="poly" coords="322, 192, 339, 250, 315, 256, 308, 243, 306, 223, 322, 192" alt="part" title="UPPER_ARM-l" />\r\n\t\t\t<area shape="poly" coords="98, 321, 106, 322, 111, 333, 97, 367, 94, 338, 79, 330, 98, 321" alt="part" title="HAND-r" />\r\n\t\t\t<area shape="poly" coords="393, 328, 399, 346, 395, 359, 384, 357, 370, 329, 386, 320" alt="part" title="HAND-l" />\r\n\t\t\t<area shape="poly" coords="356, 283, 381, 313, 368, 324, 347, 311, 327, 279, 349, 270" alt="part" title="FOREARM-l" />\r\n\t\t\t<area shape="poly" coords="334, 253, 345, 263, 325, 273, 318, 260" alt="part" title="ELBOW-l" />\r\n\t\t\t<area shape="poly" coords="138, 267, 155, 281, 116, 327, 105, 317" alt="part" title="FOREARM-r" />\r\n\t\t\t<area shape="poly" coords="284, 620, 294, 619, 299, 650, 312, 666, 309, 671, 284, 672, 279, 637" alt="part" title="FOOT-l" />\r\n\t\t\t<area shape="poly" coords="188, 619, 202, 619, 207, 633, 205, 668, 199, 673, 169, 669, 183, 647, 188, 630" alt="part" title="FOOT-r" />\r\n\t\t\t<area shape="poly" coords="250, 383, 267, 368, 297, 367, 302, 390, 298, 457, 298, 480, 286, 481, 271, 486, 261, 421" alt="part" title="THIGH-l" />\r\n\t\t\t<area shape="poly" coords="301, 517, 306, 520, 308, 534, 306, 580, 297, 622, 284, 621, 275, 563, 274, 519, 291, 524, 301, 517" alt="part" title="SHIN-l" />\r\n\t\t\t<area shape="poly" coords="180, 516, 195, 523, 210, 518, 211, 558, 202, 614, 186, 614, 182, 600, 177, 571, 180, 516" alt="part" title="SHIN-r" />\r\n\t\t\t<area shape="poly" coords="274, 496, 289, 492, 301, 494, 302, 508, 292, 520, 273, 511" alt="part" title="KNEE-l" />\r\n\t\t\t<area shape="poly" coords="193, 488, 213, 497, 211, 509, 199, 516, 183, 508, 185, 492, 193, 488" alt="part" title="KNEE-r" />\r\n\t\t\t<area shape="poly" coords="189, 367, 220, 367, 237, 381, 213, 491, 205, 484, 191, 484, 186, 480, 183, 385, 189, 367" alt="part" title="THIGH-r" />\r\n\t\t\t<area shape="poly" coords="243, 343, 258, 367, 248, 379, 239, 380, 228, 366, 243, 343" alt="part" title="GROIN" />\r\n\t\t\t<area shape="poly" coords="287, 326, 293, 332, 295, 363, 262, 363, 253, 350, 253, 342, 269, 331, 287, 326" alt="part" title="HIP-l" />\r\n\t\t\t<area shape="poly" coords="197, 324, 220, 331, 235, 341, 223, 363, 188, 363, 197, 324" alt="part" title="HIP-r" />\r\n\t\t\t<area shape="poly" coords="195, 259, 218, 266, 208, 295, 213, 325, 197, 319, 195, 259" alt="part" title="SIDE-r" />\r\n\t\t\t<area shape="poly" coords="288, 259, 292, 259, 293, 266, 289, 315, 286, 320, 271, 324, 278, 294, 269, 266, 288, 259" alt="part" title="SIDE-l" />\r\n\t\t\t<area shape="poly" coords="237, 256, 257, 261, 271, 287, 268, 317, 261, 328, 246, 337, 224, 329, 212, 302, 217, 273, 237, 256" alt="part" title="BELLY" />\r\n\t\t\t<area shape="poly" coords="240, 99, 254, 102, 258, 108, 259, 123, 250, 133, 238, 132, 231, 129, 225, 118, 231, 104, 240, 99" alt="part" title="FACE" />\r\n\t\t\t<area shape="poly" coords="259, 144, 262, 157, 270, 165, 245, 179, 209, 163, 225, 158, 230, 146, 244, 154, 258, 150" alt="part" title="NECK" />\r\n\t\t\t<area shape="poly" coords="286, 169, 307, 171, 317, 186, 305, 217" alt="part" title="SHOULDER-l" />\r\n\t\t\t<area shape="poly" coords="200, 174, 180, 217, 166, 186, 176, 171, 191, 168" alt="part" title="SHOULDER-r" />\r\n\t\t\t<area shape="poly" coords="164, 196, 180, 224, 169, 257, 151, 245, 164, 196" alt="part" title="UPPER_ARM-r" />\r\n\t\t\t<area shape="poly" coords="151, 253, 166, 263, 158, 276, 140, 261, 149, 249" alt="part" title="ELBOW-r" />\r\n\t\t\t<area shape="poly" coords="276, 170, 299, 223, 294, 252, 264, 260, 242, 250, 221, 260, 190, 250, 188, 220, 210, 171, 246, 186, 276, 170" alt="part" title="CHEST" />\r\n\t\t\t<area shape="rect" coords="1, 177, 13, 723" title="cpMeter" />\r\n\t\t\t<area shape="rect" coords="331, 3, 487, 106" title="incomingManuevers" />\r\n\t\t\t<area shape="rect" coords="71, 3, 320, 34" title="opponentSwiper" />\r\n\t\t\t<area shape="rect" coords="8, 3, 65, 31" title="roundCount" />\r\n\t\t\t<area shape="rect" coords="7, 37, 74, 163" title="vitals" />\r\n\t\t\t<area shape="rect" coords="401, 334, 435, 391" title="enemyHandLeft" />\r\n\t\t\t<area shape="rect" coords="59, 336, 92, 393" title="enemyHandRight" />\r\n\t\t\t<area shape="rect" coords="21, 175, 72, 229" title="cpText" />\r\n\t\t\t<area shape="rect" coords="421, 143, 487, 203" title="advManuever1" />\r\n\t\t\t<area shape="rect" coords="423, 239, 486, 298" title="advManuever2" />\r\n\t\t\t<area shape="rect" coords="424, 425, 489, 481" title="advManuever3" />\r\n\t\t\t<area shape="rect" coords="423, 517, 487, 576" title="advManuever4" />\r\n\t\t\t<area shape="rect" coords="50, 509, 102, 560" title="btnBlock" />\r\n\t\t\t<area shape="rect" coords="391, 610, 443, 661" title="btnParry" />\r\n\t\t\t<area shape="rect" coords="49, 612, 101, 663" title="btnVoid" />\r\n\t\t\t<area shape="rect" coords="39, 688, 118, 721" title="handLeftText" />\r\n\t\t\t<area shape="rect" coords="351, 688, 470, 721" title="handRightText" />\r\n\t\t\t<area shape="rect" coords="271, 684, 347, 721" title="handRightAlt" />\r\n\t\t\t<area shape="rect" coords="123, 684, 199, 721" title="handLeftAlt" />\r\n\t\t\t<area shape="poly" coords="239, 605, 219, 619, 210, 727, 266, 727, 258, 617" title="initRange" />\r\n\t\t\t\r\n\t\t\t<area shape="rect" coords="84, 43, 275, 78" alt="phase" title="targets_strip" />\r\n\t\t\t<area shape="rect" coords="288, 45, 320, 77" alt="phase" title="focus_target" />\r\n\t\t\t<area shape="rect" coords="332, 659, 364, 691" alt="phase" title="smallbottom4" />\r\n\t\t\t<area shape="rect" coords="118, 660, 150, 692" alt="phase" title="smallbottom2" />\r\n\t\t\t<area shape="rect" coords="21, 661, 53, 693" alt="phase" title="smallbottom1" />\r\n\t\t\t<area shape="rect" coords="6, 552, 356, 649" alt="phase" title="textlog" />\r\n\t\t\t<area shape="rect" coords="421, 229, 485, 291" alt="phase" title="sidebutton2" />\r\n\t\t\t<area shape="circle" coords="37, 511, 23" alt="phase" title="speedometer" />\r\n\t\t\t<area shape="rect" coords="432, 339, 475, 382" alt="phase" title="firerate" />\r\n\t\t\t<area shape="rect" coords="11, 243, 43, 275" alt="phase" title="focus_area" />\r\n\t\t\t<area shape="rect" coords="422, 432, 486, 494" alt="phase" title="sidebutton3" />\r\n\t\t\t<area shape="rect" coords="422, 539, 486, 601" title="sidebutton4" />\r\n\t\t\t<area shape="rect" coords="414, 658, 472, 725" alt="phase" title="bottombutton5" />\r\n\t\t\t<area shape="rect" coords="318, 659, 376, 726" alt="phase" title="bottombutton4" />\r\n\t\t\t<area shape="rect" coords="211, 659, 269, 726" alt="phase" title="bottombutton3" />\r\n\t\t\t<area shape="rect" coords="105, 659, 163, 726" alt="phase" title="bottombutton2" />\r\n\t\t\t<area shape="rect" coords="11, 659, 69, 726" alt="phase" title="bottombutton1" />\r\n\t\t</map>\r\n\t</div>\r\n</div>'},_Init:function(){var t=$s.prototype;this.data=t.Data,this.components=this.Components(),this.mounted=t.Mounted,this.template=this.Template(),this.methods={setupUIInteraction:t.setupUIInteraction,handleImageMap:t.handleImageMap,onResize:t.onResize,refreshLayout:t.refreshLayout}},__class__:$s});var Js=function(){d.call(this)};(i["troshx.sos.vue.combat.components.LayoutItemView"]=Js).__name__=["troshx","sos","vue","combat","components","LayoutItemView"],Js.drawEllipse=function(t,e,i,s,n){t.beginPath(),t.moveTo(e,i-.5*n),t.bezierCurveTo(e+.5*s,i-.5*n,e+.5*s,i+.5*n,e,i+n/2),t.bezierCurveTo(e-.5*s,i+.5*n,e-.5*s,i-.5*n,e,i-n/2),t.closePath(),t.fill(),t.stroke()},Js.__super__=d,Js.prototype=t(d.prototype,{get_computedStyle:function(){var t={left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",boxSizing:"border-box"};return null!=qs.CONTEXT||this.gotSVG||(this.showShape||this.debug)&&(t.outline=this.strokeColor+" solid "+this.strokeWidth+"px",t.backgroundColor=this.fillColor,1==this.item.shape&&(t.borderRadius="50%",t.backgroundColor=this.fillColor,this.debug||(t.outline="none"))),t},get_gotSVG:function(){return null==qs.CONTEXT&&2==this.item.shape},get_pStyle:function(){return{strokeWidth:this.strokeWidth+"px",stroke:this.strokeColor,fill:this.fillColor}},get_polyPoints:function(){return this.getPolyString(this.item.uvs)},getPolyString:function(t){for(var e=this.width,i=this.height,s=[],n=0,a=t.length;n<a;){var r=n++;s.push(t[r].x*e),s.push(t[r].y*i)}return s.join(" ")},Updated:function(){this.showShape&&null!=qs.CONTEXT&&this.renderToCanvas()},renderToCanvas:function(){var t=qs.CANVAS,e=qs.CONTEXT;e.clearRect(0,0,t.width,t.height);t=this.item.shape;e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth;var i=this.x,s=this.y,n=this.width,a=this.height;switch(t){case 0:e.fillRect(i,s,n,a),e.strokeRect(i,s,n,a);break;case 1:var r=i*this.width*.5,o=s*this.height*.5,h=this.width,l=this.height;e.beginPath(),e.moveTo(r,o-.5*l),e.bezierCurveTo(r+.5*h,o-.5*l,r+.5*h,o+.5*l,r,o+l/2),e.bezierCurveTo(r-.5*h,o+.5*l,r-.5*h,o-.5*l,r,o-l/2),e.closePath(),e.fill(),e.stroke();break;case 2:var c=this.item.uvs;e.beginPath(),e.moveTo(i+c[0].x*n,s+c[0].y*a);for(var R=1,u=c.length;R<u;){var y=R++;e.lineTo(i+c[y].x*n,s+c[y].y*a)}e.closePath(),e.fill(),e.stroke()}},get_polyDecompPoints:function(){return null!=this.item.hitDecomposition?this.item.hitDecomposition.map(gn(this,this.getPolyString)):null},get_titleClasses:function(){for(var t=this.title.split("-"),e=1,i=t.length;e<i;){var s=e++;t[s]="-"+t[s]}return t},Template:function(){return'<div class="layout-item" :class="[{debug}, titleClasses]" :data-vis="showShape" :data-title="title" style="position:absolute;z-index:1;" :style="computedStyle">\r\n\t\t\t<svg v-if="gotSVG" v-show="debug || showShape" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" :width="width" :height="height" style="position:absolute">\r\n\t\t\t\t<g style="transform-origin:0 0;">\r\n\t\t\t\t\t<polygon :style="pStyle" :points="polyPoints"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g v-if="debug" style="transform-origin:0 0;position:absolute" v-for="(p, i) in polyDecompPoints">\r\n\t\t\t\t\t<polygon style="stroke-width:0.5, stroke:#ff0000; fill:transparent" :points="p" :key="i"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t<slot />\r\n\t\t</div>'},_Init:function(){var t=Js.prototype;this.updated=t.Updated,this.template=this.Template(),this.computed={computedStyle:t.get_computedStyle,gotSVG:t.get_gotSVG,pStyle:t.get_pStyle,polyPoints:t.get_polyPoints,polyDecompPoints:t.get_polyDecompPoints,titleClasses:t.get_titleClasses},this.methods={get_computedStyle:t.get_computedStyle,get_gotSVG:t.get_gotSVG,get_pStyle:t.get_pStyle,get_polyPoints:t.get_polyPoints,getPolyString:t.getPolyString,renderToCanvas:t.renderToCanvas,get_polyDecompPoints:t.get_polyDecompPoints,get_titleClasses:t.get_titleClasses},this.props={item:{type:Object},debug:{default:!1,type:Boolean},fillColor:{default:"rgba(0,255,0,0.4)",type:String},strokeColor:{default:"#00F",type:String},showShape:{default:!1,type:Boolean},strokeWidth:{default:1,type:Number},title:{type:String},y:{type:Number},height:{type:Number},width:{type:Number},x:{type:Number}}},__class__:Js});var tn=function(){d.call(this)};(i["troshx.sos.vue.combat.components.ZoneItemView"]=tn).__name__=["troshx","sos","vue","combat","components","ZoneItemView"],tn.drawEllipse=function(t,e,i,s,n){t.beginPath(),t.moveTo(e,i-.5*n),t.bezierCurveTo(e+.5*s,i-.5*n,e+.5*s,i+.5*n,e,i+n/2),t.bezierCurveTo(e-.5*s,i+.5*n,e-.5*s,i-.5*n,e,i-n/2),t.closePath(),t.fill(),t.stroke()},tn.__super__=d,tn.prototype=t(d.prototype,{get_computedStyle:function(){var t={left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",boxSizing:"border-box"};return null!=qs.CONTEXT||this.gotSVG||(this.showShape||this.debug)&&(t.outline=this.strokeColor+" solid "+this.strokeWidth+"px",t.backgroundColor=this.fillColor,1==this.item.shape&&(t.borderRadius="50%",t.backgroundColor=this.fillColor,this.debug||(t.outline="none"))),t},get_gotSVG:function(){return null==qs.CONTEXT&&2==this.item.shape},get_pStyle:function(){return{strokeWidth:this.strokeWidth+"px",stroke:this.strokeColor,fill:this.fillColor}},get_polyPoints:function(){return this.getPolyString(this.item.uvs)},getPolyString:function(t){for(var e=this.width,i=this.height,s=[],n=0,a=t.length;n<a;){var r=n++;s.push(t[r].x*e),s.push(t[r].y*i)}return s.join(" ")},Updated:function(){this.showShape&&null!=qs.CONTEXT&&this.renderToCanvas()},renderToCanvas:function(){var t=qs.CANVAS,e=qs.CONTEXT;e.clearRect(0,0,t.width,t.height);t=this.item.shape;e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth;var i=this.x,s=this.y,n=this.width,a=this.height;switch(t){case 0:e.fillRect(i,s,n,a),e.strokeRect(i,s,n,a);break;case 1:var r=i*this.width*.5,o=s*this.height*.5,h=this.width,l=this.height;e.beginPath(),e.moveTo(r,o-.5*l),e.bezierCurveTo(r+.5*h,o-.5*l,r+.5*h,o+.5*l,r,o+l/2),e.bezierCurveTo(r-.5*h,o+.5*l,r-.5*h,o-.5*l,r,o-l/2),e.closePath(),e.fill(),e.stroke();break;case 2:var c=this.item.uvs;e.beginPath(),e.moveTo(i+c[0].x*n,s+c[0].y*a);for(var R=1,u=c.length;R<u;){var y=R++;e.lineTo(i+c[y].x*n,s+c[y].y*a)}e.closePath(),e.fill(),e.stroke()}},get_polyDecompPoints:function(){return null!=this.item.hitDecomposition?this.item.hitDecomposition.map(gn(this,this.getPolyString)):null},get_titleClasses:function(){for(var t=this.title.split("-"),e=1,i=t.length;e<i;){var s=e++;t[s]="-"+t[s]}return t},Template:function(){return'<div class="layout-item" :class="[{debug}, titleClasses]" :data-vis="showShape" :data-title="title" style="position:absolute;z-index:1;" :style="computedStyle">\r\n\t\t\t<svg v-if="gotSVG" v-show="debug || showShape" xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" :width="width" :height="height" style="position:absolute">\r\n\t\t\t\t<g style="transform-origin:0 0;">\r\n\t\t\t\t\t<polygon :style="pStyle" :points="polyPoints"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g v-if="debug" style="transform-origin:0 0;position:absolute" v-for="(p, i) in polyDecompPoints">\r\n\t\t\t\t\t<polygon style="stroke-width:0.5, stroke:#ff0000; fill:transparent" :points="p" :key="i"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t<slot />\r\n\t\t</div>'},get_item:function(){this.mapData;return this.mapData.layoutItemList[this.index]},get_x:function(){var t=this.mapData,e=(t.renderCount,this.index);return t.positionList[e].x*t.refWidth*t.scaleX},get_y:function(){var t=this.mapData,e=(t.renderCount,this.index);return t.positionList[e].y*t.refHeight*t.scaleY},get_width:function(){var t=this.mapData,e=(t.renderCount,this.index);return t.scaleList[e].x*t.refWidth*t.scaleX},get_height:function(){var t=this.mapData,e=(t.renderCount,this.index);return t.scaleList[e].y*t.refHeight*t.scaleY},get_title:function(){return this.mapData.titleList[this.index]},_Init:function(){var t=tn.prototype;this.updated=t.Updated,this.template=this.Template(),this.computed={computedStyle:t.get_computedStyle,gotSVG:t.get_gotSVG,pStyle:t.get_pStyle,polyPoints:t.get_polyPoints,polyDecompPoints:t.get_polyDecompPoints,titleClasses:t.get_titleClasses,item:t.get_item,x:t.get_x,y:t.get_y,width:t.get_width,height:t.get_height,title:t.get_title},this.methods={get_computedStyle:t.get_computedStyle,get_gotSVG:t.get_gotSVG,get_pStyle:t.get_pStyle,get_polyPoints:t.get_polyPoints,getPolyString:t.getPolyString,renderToCanvas:t.renderToCanvas,get_polyDecompPoints:t.get_polyDecompPoints,get_titleClasses:t.get_titleClasses,get_item:t.get_item,get_x:t.get_x,get_y:t.get_y,get_width:t.get_width,get_height:t.get_height,get_title:t.get_title},this.props={debug:{default:!1,type:Boolean},fillColor:{default:"rgba(0,255,0,0.4)",type:String},mapData:{},strokeColor:{default:"#00F",type:String},showShape:{default:!1,type:Boolean},strokeWidth:{default:1,type:Number},index:{type:Number}}},__class__:tn});var en=function(){d.call(this)};function sn(){this.boot=new p,window.document.body.style.padding="0",window.document.body.style.margin="0",window.document.body.style.overflow="hidden",window.document.body.style.width="100%",window.document.body.style.height="100%",window.document.body.style.backgroundColor="#e4e5e7",Vue.use(VueDragScroll);var t,e=window.document.getElementById("canvasGL");null!=e&&(e.style.pointerEvents="none",e.style.position="absolute",WebGL2D.enable(e),t=e.getContext("webgl-2d"),qs.__setupContext(e,t,!0)),this.boot.startVueWithRootComponent("#app",new Qs)}function nn(){d.call(this)}function an(){d.call(this)}function rn(){}(i["troshx.sos.vue.pregen.PregenSelectView"]=en).__name__=["troshx","sos","vue","pregen","PregenSelectView"],en.__super__=d,en.prototype=t(d.prototype,{Data:function(){return{selectedChar:-1,selectedChars:[]}},onConfirm:function(){this.multiSelect?this.multiCharSelected():this.singleCharSelected()},singleCharSelected:function(){var t=this.selectedChar,e=this.characters[t];this.splice&&this.characters.splice(t,1),this.$emit("singleCharSelected",e)},multiCharSelected:function(){if(0!=this.selectedChars.length){for(var t=[],e=0,i=this.selectedChars.length;e<i;){var s=e++;t.push(this.characters[this.selectedChars[s]])}if(this.splice)for(var n=0,a=t.length;n<a;){var r=n++;this.characters.splice(this.characters.indexOf(t[r]),1)}this.$emit("multiCharSelected",t)}},onClose:function(){this.$emit("close")},Template:function(){return'<div style="position:absolute;top:0;left:0;width:100%;height:100%;overflow:auto" v-dragscroll class="pregen-select-view">\r\n\t<h1 v-if="header">{{header}}</h1>\r\n\t<ul v-if="characters">\r\n\t\t<li v-for="(li, i) in characters" :key="i">\r\n\t\t\t<div class="checkbox-holder">\r\n\t\t\t\t<input v-if="multiSelect" type="checkbox" v-model.number="selectedChars" :value="i" :id="\'popup_cb_\'+i"></input>\r\n\t\t\t\t<input v-else type="radio" :checked="selectedChar==i" :value="i" @click="selectedChar=i" :id="\'popup_cb_\'+i"></input>\r\n\t\t\t\t<label :for="\'popup_cb_\'+i">{{li.label}}</label>\r\n\t\t\t\t<div class="desc">{{li.description}}</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t</ul>\r\n\t<div class="btn-zone">\r\n\t\t<a class="btn ok" v-show="(multiSelect && selectedChars.length) || (!multiSelect && selectedChar>=0)" v-on:click="onConfirm"><span>[✓]</span> Okay</a>\r\n\t\t<a class="btn close" v-on:click="onClose"><span>[x]</span> Cancel</a>\r\n\t</div>\r\n\t\r\n</div>'},_Init:function(){var t=en.prototype;this.data=t.Data,this.template=this.Template(),this.methods={onConfirm:t.onConfirm,singleCharSelected:t.singleCharSelected,multiCharSelected:t.multiCharSelected,onClose:t.onClose},this.props={splice:{default:!1,type:Boolean},multiSelect:{default:!1,type:Boolean},header:{type:String},characters:{type:Array}}},__class__:en}),(i["troshx.sos.vue.tests.TestUI"]=sn).__name__=["troshx","sos","vue","tests","TestUI"],sn.main=function(){new sn},sn.prototype={__class__:sn},(i["troshx.sos.vue.tests.layout.AspectConstraintTest"]=nn).__name__=["troshx","sos","vue","tests","layout","AspectConstraintTest"],nn.__super__=d,nn.prototype=t(d.prototype,{Mounted:function(){window.addEventListener("resize",gn(this,this.onResize)),this.onResize()},Created:function(){this.aspectConstraint=ln.createRelative(2,0),console.log(this.aspect*this.aspectConstraint.max),console.log(this.aspect*this.aspectConstraint.min)},onResize:function(){var t=this.$refs.container;this.screenWidth=parseFloat(t.clientWidth),this.screenHeight=parseFloat(t.clientHeight),this.aspectConstraint.findScales(this.testScale,this.screenWidth/this.refWidth,this.screenHeight/this.refHeight),this.$refs.testAspect.attributes.style=this.testStyle,this.debugField=this.aspect+"<br/>"+this.$refs.testAspect.clientWidth/this.$refs.testAspect.clientHeight,console.log(this.debugField)},Data:function(){return{screenWidth:0,screenHeight:0,aspectConstraint:null,refWidth:150,refHeight:200,testScale:Oe._new(1,1),debugField:""}},get_aspect:function(){return this.refWidth/this.refHeight},get_testStyle:function(){return{overflow:"hidden","background-color":"rgba(255,0,0,.5)",position:"absolute","box-sizing":"border-box",border:"1px solid #00ff00",width:this.refWidth*this.testScale.x+"px",height:this.refHeight*this.testScale.y+"px",top:"0px",left:"0px"}},Template:function(){return'<div>\r\n\t\t\t<div ref="container" style="font-size:22px; background-color:orange; position:absolute; top:0; left;0; width:100%; height:100%">\r\n\t\t\t\t<div ref="testAspect" v-if="aspectConstraint" :style="testStyle" v-html="debugField"></div>\r\n\t\t\t</div>\r\n\t\t</div>'},_Init:function(){var t=nn.prototype;this.mounted=t.Mounted,this.created=t.Created,this.data=t.Data,this.template=this.Template(),this.computed={aspect:t.get_aspect,testStyle:t.get_testStyle},this.methods={onResize:t.onResize,get_aspect:t.get_aspect,get_testStyle:t.get_testStyle}},__class__:nn}),(i["troshx.sos.vue.tests.layout.LayoutItemTest"]=an).__name__=["troshx","sos","vue","tests","layout","LayoutItemTest"],an.__super__=d,an.prototype=t(d.prototype,{onResize:function(){var t=this.$refs.container;this.screenWidth=parseFloat(t.clientWidth),this.screenHeight=parseFloat(t.clientHeight)},Mounted:function(){var t=this.$refs.container;this.refWidth=parseFloat(t.clientWidth),this.refHeight=parseFloat(t.clientHeight);this.layoutItem=Rn.createRect(this.refWidth,this.refHeight,100,50,255,200).pin(un.createRelative(0,0).scaleMinRelative(0,0).scaleMaxRelative(3,3)).pivot(un.createRelative(0,0).scaleMinRelative(0,0).scaleMaxRelative(3,3)).aspect(ln.createRelative(1,1).enablePreflight()),window.addEventListener("resize",gn(this,this.onResize)),this.onResize()},Data:function(){return{screenWidth:0,screenHeight:0,layoutItem:null,refWidth:550,refHeight:400,debugField:""}},get_testStyle:function(){var t=an.TEST_POS,e=an.TEST_SCALE;this.layoutItem.solve(t,e,this.screenWidth/this.refWidth,this.screenHeight/this.refHeight);var i=e.x*this.screenWidth,s=e.y*this.screenHeight,e=t.x*this.screenWidth;return{overflow:"hidden","background-color":"rgba(255,0,0,.5)",position:"absolute","box-sizing":"border-box",border:"1px solid #00ff00",width:i+"px",height:s+"px",top:t.y*this.screenHeight+"px",left:e+"px"}},Template:function(){return'<div>\r\n\t\t\t<div ref="container" style="font-size:22px; background-color:orange; position:absolute; top:0; left;0; width:100%; height:100%">\r\n\t\t\t\t<div ref="testItem" v-if="layoutItem" :style="testStyle" v-html="debugField"></div>\r\n\t\t\t</div>\r\n\t\t</div>'},_Init:function(){var t=an.prototype;this.mounted=t.Mounted,this.data=t.Data,this.template=this.Template(),this.computed={testStyle:t.get_testStyle},this.methods={onResize:t.onResize,get_testStyle:t.get_testStyle}},__class__:an}),m={},(i["troshx.util._AbsStringMap.AbsStringMap_Impl_"]=m).__name__=["troshx","util","_AbsStringMap","AbsStringMap_Impl_"],m._new=function(){return{}},m.set=function(t,e,i){t[e]=i},m.get=function(t,e){return t[e]},m.exists=function(t,e){return null!=t[e]},(i["troshx.util.DiceRoller"]=rn).__name__=["troshx","util","DiceRoller"],rn.getRollNumSuccesses=function(t,e){for(var i,s=t,n=rn.NUM_ONES=0,a=0;-1<--s;)1==(i=1+(10*Math.random()|0))&&rn.NUM_ONES++,n+=e<=i?1:0,a+=10<e&&10==i?1:0;if(0<a)for(s=a;-1<--s;)n+=e-10<=(i=1+(10*Math.random()|0))?1:0;return rn.LAST_ROLL_SUCCESSES=n},rn.makeChallengeRoll=function(t,e,i){e=rn.getRollNumSuccesses(t,e);return i<=e?e-i:(1<t?2:1)<=rn.NUM_ONES?-2:-1},rn.makeIndividualRoll=function(t,e,i){null!=i||(i={successes:0,mayBotch:!1});e=rn.getRollNumSuccesses(t,e);return i.successes=e,i.mayBotch=(1<t?2:1)<=rn.NUM_ONES,i};var on=function(){};(i["troshx.util.LibUtil"]=on).__name__=["troshx","util","LibUtil"],on.validInt=function(t){return null!=t&&!isNaN(t)},on.as=function(t,e){return j.__instanceof(t,e)?t:null},on.asNoInline=function(t,e){return j.__instanceof(t,e)?t:null},on.tryParseFloat=function(t){return parseFloat(t)},on.tryParseInt=function(t){return F.parseInt(t)},on.sortAlphabetically=function(t,e){return(t=t.toLowerCase())<(e=e.toLowerCase())?-1:e<t?1:0},on.setArrayLength=function(t,e){t.splice(e,t.length-e)},on.field=function(t,e){return t[e]},on.setField=function(t,e,i){t[e]=i},on.override2ndObjInto=function(t,e){for(var i=0,s=O.fields(e);i<s.length;){var n=s[i];++i,t[n]=e[n]}return t},on.setFieldChain=function(t,e,i){return t[e]=i},on.arrayToList=function(t){for(var e=new N,i=0;i<t.length;){var s=t[i];++i,e.add(s)}return e},on.getArrayItemAtIndex=function(t,e){return t[e]},on.getListItemAtIndex=function(t,e){if(e<0||e>=t.length)return null;for(var i=t.h,s=0,n=e;s<n;){s++,i.item;i=i.next}e=i.item;return i=i.next,e},on.clearArray=function(t){t.length=0},on.truncateArray=function(t,e){t.length=e},on.findForList=function(t,e){for(var i=t.h;null!=i;){var s=i.item,i=i.next,s=s;if(e(s))return s}return null},on.minI=function(t,e){return t<e?t:e},on.maxI=function(t,e){return e<=t?t:e},on.minI_=function(t,e){return t<e?t:e},on.maxI_=function(t,e){return e<=t?t:e},on.removeArrayItemAtIndex=function(t,e){t.splice(e,1)},on.toFixed=function(t,e){return t.toFixed(e)},on.getURLQueryStringParams=function(t){for(var t=t.split("?").pop(),e={},i=0,s=new L("[&;]","g").split(t);i<s.length;){var n=s[i];++i;var a=n.split("=");a.length<2||(n=a.shift(),n=decodeURIComponent(n.split("+").join(" ")),a=a.join("="),e[n]=decodeURIComponent(a.split("+").join(" ")))}return e};var hn=function(){};(i["troshx.util.UidStringMapCreator"]=hn).__name__=["troshx","util","UidStringMapCreator"],hn.createStrMapFromArray=function(t){for(var e={},i=0,s=t.length;i<s;){var n=i++;e[t[n].get_uid()]=t[n]}return e};var ln=function(){this.preflight=!1,this.max=1,this.min=1};function cn(){}(i["troshx.util.layout.AspectConstraint"]=ln).__name__=["troshx","util","layout","AspectConstraint"],ln.createRelative=function(t,e){var i=new ln;return null!=t&&(1<t?i.max=t:t<1&&(i.min=t)),null!=e&&(1<e?e>i.max&&(i.max=e):e<1&&e<i.min&&(i.min=e)),i},ln.prototype={enablePreflight:function(){return this.preflight=!0,this},findScales:function(t,e,i){t.x=Math.min(e,this.max*i),t.y=0<this.min?Math.min(i,e/this.min):i},__class__:ln},(i["troshx.util.layout.BorderConstraint"]=cn).__name__=["troshx","util","layout","BorderConstraint"],cn.isHorizontal=function(t){return 0!=(1&t)},cn.isMaximalSide=function(t){return 1==t||2==t},cn.createRelative=function(t,e,i){null==i&&(i=0),null==e&&(e=2);var s=new cn;return s.coord=t,s.minScale=e,s.maxScale=i,s},cn.prototype={solveCoord:function(t,e){e=this.findScaleRatio(e);return this.coord+(t-this.coord)*e},findScaleRatio:function(t){var e=1;return 1<=this.maxScale&&1<t&&(e=1/t*Math.min(t,this.maxScale)),this.minScale<=1&&t<1&&(e=1/t*Math.max(t,this.minScale)),e},__class__:cn};var Rn=function(){this.hitPadding=0,this.shape=0};(i["troshx.util.layout.LayoutItem"]=Rn).__name__=["troshx","util","layout","LayoutItem"],Rn.createRectWIthUVs=function(t,e,i,s){var n=new Rn;return n.u=t,n.v=e,n.uDim=i,n.vDim=s,n},Rn.createRect=function(t,e,i,s,n,a){return Rn.createRectWIthUVs(i/t,s/e,n/t,a/e)},Rn.createCircle=function(t,e,i,s,n){e=Rn.createRectWIthUVs((i-n)/t,(s-n)/e,2*n/t,2*n/e);return e.shape=1,e},Rn.createPolygon=function(t,e,i){var s=2147483647,n=2147483647,a=0,r=0,o=new Rn;o.shape=2;var h=0,l=i.length;for(o.uvs=[];h<l;)u=Oe._new(i[h],i[h+1]),o.uvs.push(u),u.x<s&&(s=u.x),u.y<n&&(n=u.y),u.x>a&&(a=u.x),u.y>r&&(r=u.y),h+=2;o.u=s/t,o.v=n/e,o.uDim=a/t,o.vDim=r/e,o.uDim-=o.u,o.vDim-=o.v;for(var c=0,R=o.uvs.length;c<R;){var u,y=c++;(u=o.uvs[y]).x=(u.x/t-o.u)/o.uDim,u.y=(u.y/e-o.v)/o.vDim}return o},Rn.fromHTMLImageMapArea=function(t,e,i,s){s=s.split(", ").map(function(t){return parseFloat(t)});return"rect"==i?Rn.createRect(t,e,s[0],s[1],s[2]-s[0],s[3]-s[1]):"circle"==i?Rn.createCircle(t,e,s[0],s[1],s[2]):Rn.createPolygon(t,e,s)},Rn.prototype={setUVs:function(t){this.uvs=t},solve:function(t,e,i,s){var n,a=Rn.SCRATCH,r=null!=this._pivot?(n=this.u+this._pivot.pt.x*this.uDim,this.v+this._pivot.pt.y*this.vDim):(n=this.u,this.v);null!=this._pin&&(this._pin.findScaleRatios(a,i,s),null!=this._aspect&&this._aspect.preflight&&(this._aspect.findScales(e,i,s),e.x/=i,e.y/=s,a.x=Math.min(e.x,a.x),a.y=Math.min(e.y,a.y)),n=this._pin.pt.x+(n-this._pin.pt.x)*a.x,r=this._pin.pt.y+(r-this._pin.pt.y)*a.y),null!=this._pivot?(this._pivot.findScaleRatios(e,i,s),t.x=n-this._pivot.pt.x*this.uDim*e.x,t.y=r-this._pivot.pt.y*this.vDim*e.y):(e.x=1,e.y=1,t.x=n,t.y=r);var o,h,l,c,R,u=t.x,y=t.y,g=u+e.x*this.uDim,d=y+e.y*this.vDim;null!=this._borders&&(null!=this._borders[0]&&(o=this._borders[0],h=this.v,l=o.findScaleRatio(s),y=o.coord+(h-o.coord)*l),null!=this._borders[1]&&(o=this._borders[1],h=this.u+this.uDim,l=o.findScaleRatio(i),g=o.coord+(h-o.coord)*l),null!=this._borders[2]&&(o=this._borders[2],c=this.v+this.vDim,R=o.findScaleRatio(s),d=o.coord+(c-o.coord)*R),null!=this._borders[3]&&(o=this._borders[3],c=this.u,R=o.findScaleRatio(i),u=o.coord+(c-o.coord)*R)),t.x=u,t.y=y,e.x=g-u,e.y=d-y,null!=this._aspect&&(this._aspect.findScales(a,i,s),a.x/=i,a.y/=s,a.x*=this.uDim,a.y*=this.vDim,this._aspect.findScales(e,e.x/a.x,e.y/a.y),e.x*=a.x,e.y*=a.y,null!=this._pivot&&(t.x=n-this._pivot.pt.x*e.x,t.y=r-this._pivot.pt.y*e.y))},resolvePolygon:function(t,e,i){for(var s=0,n=0,a=this.uvs.length;n<a;){var r=n++;t[s++]=e.x+this.uvs[r].x*i.x,t[s++]=e.y+this.uvs[r].y*i.y}},pivot:function(t){return this._pivot=t,this},pin:function(t){return this._pin=t,this},aspect:function(t){return this._aspect=t,this},border:function(t,e,i,s){return null==s&&(s=-1),null==this._borders&&(this._borders=[null,null,null,null]),s<0?s=1==t||2==t?1:0:1==t||2==t?0!=(1&t)?s<this.u+this.uDim&&(s=this.u+this.uDim):s<this.v+this.vDim&&(s=this.v+this.vDim):0!=(1&t)?s>this.u&&(s=this.u):s>this.v&&(s=this.v),this._borders[t]=cn.createRelative(s,e,i),this},__class__:Rn};var un=function(){this.pt=Oe._new()};(i["troshx.util.layout.PointScaleConstraint"]=un).__name__=["troshx","util","layout","PointScaleConstraint"],un.createRelative=function(t,e){var i=new un;return i.pt.x=t,i.pt.y=e,i},un.prototype={findScaleRatios:function(t,e,i){t.x=1,t.y=1,null!=this.scaleMax&&(1<e&&1<=this.scaleMax.x&&(t.x=1/e*Math.min(e,this.scaleMax.x)),1<i&&1<=this.scaleMax.y&&(t.y=1/i*Math.min(i,this.scaleMax.y))),null!=this.scaleMin&&(e<1&&this.scaleMin.x<=1&&(t.x=1/e*Math.max(e,this.scaleMin.x)),i<1&&this.scaleMin.y<=1&&(t.y=1/i*Math.max(i,this.scaleMin.y)))},findScales:function(t,e,i){this.findScaleRatios(t,i,e),t.x*=e,t.y*=i},scaleMinRelative:function(t,e){return null==e&&(e=0),null==t&&(t=0),null==this.scaleMin&&(this.scaleMin=Oe._new()),this.scaleMin.x=t,this.scaleMin.y=e,this},scaleMaxRelative:function(t,e){return null==e&&(e=0),null==t&&(t=0),null==this.scaleMax&&(this.scaleMax=Oe._new()),this.scaleMax.x=t,this.scaleMax.y=e,this},__class__:un};var yn=0;function gn(t,e){return null==e?null:(null==e.__id__&&(e.__id__=yn++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&((i=function(){return i.method.apply(i.scope,arguments)}).scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i);var i}i.Math=Math,String.prototype.__class__=i.String=String,String.__name__=["String"],i.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=i.Date=Date,Date.__name__=["Date"];var dn=i.Int={__name__:["Int"]},pn=i.Dynamic={__name__:["Dynamic"]},_n=i.Float=Number;_n.__name__=["Float"];var fn=i.Bool=Boolean;fn.__ename__=["Bool"];var mn=i.Class={__name__:["Class"]},vn={},bn={},Sn=e.ArrayBuffer||S;null==Sn.prototype.slice&&(Sn.prototype.slice=S.sliceImpl);var wn=e.Uint8Array||w._new;P.NIL=new P(null,null),G.USE_CACHE=!1,G.USE_ENUM_INDEX=!1,G.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",k.DEFAULT_RESOLVER=new l,k.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",U.count=0,g.NAMES=new q,g.SINGLETON_CACHE=new q,_.stack=[],Ne.reflexVertices=[],Ne.steinerPoints=[],v.INFINITY=new v,Fe.point=Oe._new(),Fe.zero=Oe._new(0,0),Fe.EPSILON=1e-8,j.__toStr={}.toString,w.BYTES_PER_ELEMENT=1,H.STEP_NEXT=0,H.STEP_NEW_CYCLE=1,H.STEP_NEW_ROUND=2,K.SIDE_A=-1,K.SIDE_B=1,K.SIDE_NONE=0,Q.TYPE_NONE=0,Q.TYPE_PLAYERS_TURN=1,Q.TYPE_RESOLVE_MANUEVER=2,tt.NO_ZONE=-1,tt.LEFT_HAND_ZONE=-2,tt.RIGHT_HAND_ZONE=-3,nt.__GOOD_EYES__BAD_EYES=1,nt.__GOOD_EARS_BAD_EARS=2,nt.__GOOD_EARS_BAD_NOSE=4,nt.__RICH__POOR=8,nt.__TRUE_GRIT_SHELTERED=16,nt.__ROBUST_FRAIL=32,nt.__ONE_EYED=64,nt.__CRAVEN__HONORABLE=128,nt.__HONORABLE__COMPLETE_MONSTER=256,nt.__TALL__SHORT=512,nt.CHARACTER_CREATION_ONLY=1,nt.CANNOT_BE_REMOVED=2,nt.TIMES_INFINITE=-1,nt.TIMES_VARYING=-2,nt.COSTLESS_ARRAY=[0],rt.COST_1=1,rt.COST_2=5,rt.COST_3=10,yt.MAX_BANE_EARNABLE=15,Ht.ALIVE=1,Ht.DEAD=2,Ht.ALIVE_ALIVE=3,ce.LEFT_ARM=1,ce.RIGHT_ARM=2,ce.LEFT_LEG=4,ce.RIGHT_LEG=8,ce.BOTH_LEGS=12,ge.LEFT_ARM=1,ge.RIGHT_ARM=2,ge.LEFT_LEG=4,ge.RIGHT_LEG=8,ge.BOTH_LEGS=12,ge.BOTH_ARMS=3,pe.CASH_MULTIPLIERS=[1,1.5,2],fe.BONUS_POINTS=10,ve.WEALTH_PER_QTY=2,ve.COST_PER_ESTATE=10,be.COUNT=0,we.COST_1=1,we.COST_2=3,ze.COST=2,Te.POWERFUL=1,Te.GRATING=2,Te.SOOTHING=4,Le.COST_SINGLE=1,Le.COST_2=2,Le.COST_3=3,Ie.COST_MINOR=4,Ie.COST_MAJOR=8,Ve.COST_3=18,Ve.COST_2=15,Ve.COST_1=10,Ue.HAND=131072,Ue.LOWER_ARM=196608,Ue.FULL_ARM=245776,Ue.FOOT=8192,Ue.LOWER_LEG=12288,Ue.FULL_LEG=15360,Ue.LEVEL_1_AREAS=139264,Ue.LEVEL_2_AREAS=208896,Ue.LEVEL_3_AREAS=261136,je.INT_MAX=2147483647,je.PROF_COST_BEYOND_MAX=2,je.CATEGORY_RACE=0,je.CATEGORY_ATTRIBUTES=1,je.CATEGORY_BNB=2,je.CATEGORY_SKILLS=3,je.CATEGORY_SOCIAL_WEALTH=4,je.CATEGORY_PROFECIENCIES=5,je.ATTRIBUTE_START_MAX=8,je.MORTAL_MAX=12,je.PCP_COLUMN_ATTRIBUTES=[22,23,24,27,31,35,40,45,50,56],je.MAX_PACKET_SKILL_LEVEL=5,f.STEP_ORIENTATION=-2,f.STEP_TARGET_SELECTION=-1,f.STEP_DECLARE=0,f.STEP_RESOLVE=1,Qe.UID_COUNT=0,Qe.FLAG_TWO_HANDED=1,Qe.FLAG_STRAPPED=2,Qe.EYE_CORRECTIVE=4,Qe.PROSTHETIC=8,Qe.MASK_HANDED=3,Qe.CP=0,Qe.SP=1,Qe.GP=2,$e.VISIBLE_WEIGHT_AVC=1,$e.VISIBLE_WEIGHT_AVP=1.4,$e.VISIBLE_WEIGHT_AVB=.6,$e.WEAK_SPOT=1,$e.HALF=2,$e.THRUST_ONLY=4,$e.HALF_SYMBOL="*",$e.WEAK_SPOT_SYMBOL="ϕ",$e.THRUST_ONLY_SYMBOL="t",$e.SUPERSCRIPT_MINUS="⁻",$e.SUPERSCRIPT_PLUS="⁺",$e.SUPERSCRIPT_NUMBERS="⁰¹²³⁴⁵⁶⁷⁸⁹",T.CREST_IDENTIFYING=1,T.CREST_INTIMIDATING=2,T.CREST_RUTHLESSLY_FASHIONABLE=3,h.MOVABLE=1,h.HARD=2,h.MAIL=4,h.TEXTILE=8,h.BULLETPROOF=16,c.USE_AV_SELF=0,c.USE_AV_OTHER=-1,ti.SWING_DOWNWARD_HEAD=0,ti.SWING_UPWARD_HEAD=1,ti.SWING_NECK=2,ti.SWING_TORSO=3,ti.SWING_UPPER_ARM=4,ti.SWING_LOWER_ARM=5,ti.SWING_UPPER_LEG=6,ti.SWING_LOWER_LEG=7,ti.SWING_GROIN=8,ti.thrustStartIndex=9,ti.THRUST_HEAD=9,ti.THRUST_NECK=10,ti.THRUST_CHEST=11,ti.THRUST_BELLY=12,ti.THRUST_UPPER_ARM=13,ti.THRUST_LOWER_ARM=14,ti.THRUST_GROIN=15,ti.THRUST_UPPER_LEG=16,ti.THRUST_LOWER_LEG=17,ti.UPPER_HEAD=0,ti.FACE=1,ti.LOWER_HEAD=2,ti.NECK=3,ti.SHOULDER=4,ti.CHEST=5,ti.SIDE=6,ti.BELLY=7,ti.HIP=8,ti.GROIN=9,ti.THIGH=10,ti.KNEE=11,ti.SHIN=12,ti.FOOT=13,ti.UPPER_ARM=14,ti.ELBOW=15,ti.FOREARM=16,ti.HAND=17,ti.rearStartIndex=18,ti.UPPER_BACK=18,ti.LOWER_BACK=19,ti.FULL_HEAD=7,ti.FULL_TORSO=480,ti.FULL_LEG=15360,ti.FULL_ARM=245776,ti.FRONT_ONLY=2,ei.HAND=0,ei.LEVER=1,ei.SCREW=2,ei.STIRRUP=3,ei.WINDLASS=4,ei.WINCH=5,ei.CRANK=6,ii.CUTTING=0,ii.PIERCING=1,ii.BLUDGEONING=2,ii.UNARMED=3,ii.FALLING=4,ii.BURN=5,ii.ELECTRICAL=6,ii.COLD=7,ni.CAPLOCK=0,ni.FIRELOCK=1,ni.FLINTLOCK=2,ni.MATCHLOCK=3,ni.NEEDLEFIRE=4,ni.SNAPLOCK=5,ni.WHEELOCK=6,ai.REACH_HA=1,ai.REACH_H=2,ai.REACH_S=3,ai.REACH_M=4,ai.REACH_L=5,ai.REACH_VL=6,ai.REACH_EL=7,ai.REACH_LL=8,ri.BALL=0,ri.BUCK_AND_BALL=1,ri.HEAVY_SHOT=2,ri.RIFLE_BALL=3,ri.SHOT=4,ri.SPIKE=5,oi.MANUAL=0,oi.BRASS_CATRIDGE=1,oi.PAPER_CATRIDGE=2,oi.PAPER_MACHE_CATRIDGE=3,li.SP_TO_GP=.05,li.GP_TO_SP=20,li.CP_TO_SP=.08333333333333333,li.SP_TO_CP=12,li.CP_TO_GP=.004166666666666667,li.GP_TO_CP=240,li.ZERO=new li,li.TEMP=new li,ci.HELD_MASTER=1,ci.HELD_OFF=2,ci.HELD_BOTH=3,ci.UNHELD_UNSPECIFIED=0,ci.UNHELD_SHEATH_HOLSTER=1,ci.UNHELD_STRAPPED_ARM=2,ci.UNHELD_STRAPPED_SHOULDER=3,ci.UNHELD_BACK=4,ci.UNHELD_CONCEALED=5,ci.UNHELD_FORCE_DISABLED=6,ci.PREFER_UNHELD_PACKED=1,ci.PREFER_UNHELD_DROPPED=2,ci.PREFER_UNHELD_EQUIPPED=4,ci.WEAR_RIGHT=1,ci.WEAR_LEFT=2,ci.WEAR_WHOLE=4,ci.UID_COUNT=0,ci.MONEY_CALC_CACHE=[0,0,0],ci.MONEY_REF=new li,ci.LEFT_HALF_SUFFIX="_",yi.TYPE_DEFENSIVE=1,yi.TYPE_OFFENSIVE=2,yi.TYPE_BOTH=3,yi.TYPE_MOVEMENT=4,yi.TYPE_TRANSFORMATION=8,yi.TYPE_INITIATIVE=16,yi.TYPE_PASSING=32,yi.ORIENTATION_DEFENSIVE=3,yi.ORIENTATION_CAUTIOUS=2,yi.ORIENTATION_AGGRESSIVE=1,yi.ATTACK_TYPE_SWING=1,yi.ATTACK_TYPE_THRUST=2,yi.ATTACK_TYPE_BOTH=3,yi.ATTACK_TYPE_SHOOTING=4,yi.REQ_WEAPON=1,yi.REQ_SHIELD=2,yi.REQ_UNARMED=4,yi.REQ_STUFF=8,yi.TARGET_ZONE_AUTO=0,yi.TARGET_ZONE_WEAPON=1,yi.TARGET_ZONE_SHIELD=2,yi.TARGET_ZONE_OPPONENT=4,yi.TAG_CROSS_FIGHTING=1,yi.TAG_GRAPPLE=2,yi.TAG_CLINCHING=4,yi.TAG_PUSH=8,yi.TAG_GRAB=16,yi.TAG_BASH=32,yi.TAG_PARRY=64,yi.TAG_VOID=128,yi.TAG_BLOCK=256,yi.TAG_ADVANCED=512,yi.TAG_INSTANT=1024,yi.TAG_MOVEMENT=2048,yi.HANDS_NONE=0,yi.HANDS_MASTER=1,yi.HANDS_SECONDARY=2,yi.HANDS_BOTH=3,yi.NO_INVEST=-1,yi.DEFER_COST=-2,gi.BRACE=1,gi.CALVARY_SWORD=2,gi.COMPANION_WEAPON=4,gi.COUCHED_CHARGE=8,gi.FLUID_THRUSTS=16,gi.FORWARD_SWEPT=32,gi.FREAKISHLY_LARGE=64,gi.HAND_OFF=128,gi.HEAVY_WEAPON=256,gi.HOOK=512,gi.LIGHT_BLADE=1024,gi.PARRYING_TEETH=2048,gi.SWINGING_SLOT=4096,gi.THIN_BLADE=8192,gi.THRUSTING_SLOT=16384,gi.TIGHT_GRIP=32768,gi.WEAPON_ATTACHMENT=65536,gi.TOTAL_FLAGS=17,di.BLUDGEON=1,di.NARROW=2,di.SHIELD_STICK=4,di.AP_FIRST_HIT_ONLY=8,di.CHEAT_ATTACHMENT=16,di.TOTAL_FLAGS=5,pi.ATTR_STR=0,pi.ATTR_AGI=1,pi.ATTR_END=2,pi.ATTR_HLT=3,pi.ATTR_WIL=4,pi.ATTR_WIT=5,pi.ATTR_INT=6,pi.ATTR_PER=7,pi.CMP_ADR=8,pi.CMP_MOB=9,pi.CMP_CAR=10,pi.CMP_CHA=11,pi.CMP_TOU=12,pi.CP=13,pi.REACH=14,pi.MP=15,pi.CAR_END=16,pi.FATIQUE_END=17,pi.STARTING_WEALTH=18,pi.STARTING_MONEY=19,pi.STARTING_GRIT=20,pi.TOTAL_SLOTS=21,mi.TYPE_MELEE=0,mi.TYPE_RANGED=1,mi.MASK_ALL=2147483647,mi.M_1H_SWORD=0,mi.M_1H_BLUNT=1,mi.M_2H_BLUNT=2,mi.M_2H_SWORD=3,mi.M_SPEAR=4,mi.M_POLEARM=5,mi.M_DAGGER=6,mi.M_WRESTLING=7,mi.M_PUGILISM=8,mi.TOTAL_M=9,mi.R_BOW=0,mi.R_SLING=1,mi.R_CROSSBOW=2,mi.R_FIREARM=3,mi.R_THROWING=4,mi.TOTAL_R=5,mi.SEPERATOR="_$_",bi.MAX_LEVELS=20,bi.MASTERY_LEVEL=20,wi.SIZE_SMALL=0,wi.SIZE_MEDIUM=1,wi.SIZE_LARGE=2,wi.STRAP_ARM=0,wi.STRAP_SHOULDER=1,wi.POSITION_LOW=0,wi.POSITION_HIGH=1,xi.STR=1,xi.AGI=2,xi.END=4,xi.HLT=8,xi.WIP=16,xi.WIT=32,xi.INT=64,xi.PER=128,xi.CHA=256,xi.TRAINED=1,xi.TEACHER=4,xi.MASTERY=10,xi.CHARS_SPECIAL_OPEN=" (",xi.CHARS_SPECIAL_CLOSE=")",u.PISTOL=1,u.DRAGON=2,u.CUSTOM_HILT=1,u.RIDICULOUSLY_SHARP=2,u.EXQUISITE_DECORATION=4,u.BIZARRE_GIMMICK=8,Li.STAUNCHED=1,Li.TREATED=2,Li.MASK_OPENWOUND=3,Li.UNIQUE_COUNT=0,ji.STUFF=["Net (Retiarius)"],ds.PCP_FOR_TIERS=[1,2,4,6,8],Ls.SIMPLICITY=1,Ls.FLOWING_WATER=2,Ls.RAGING_FLAME=4,Ls.BITING_WIND=8,Ls.STOIC_EARTH=16,Es.PROTECT_THE_BANNER="Protect the Banner!",Es.RIDE_TO_RUIN="Ride to Ruin!",Gs.GENDER_MALE=0,Gs.GENDER_FEMALE=1,Gs.VERSION=2,Gs.LIQUIDATE_ASSET_BASE=6,Zs.TRAY_TOTAL_COLS=5,Zs.B_ATTACK_1H=1,Zs.B_ATTACK_SHIELD=2,Zs.B_ATTACK_2H=3,Zs.B_ATTACK_UNARMED=0,Zs.B_ATTACK_UNARMED_2=7,Zs.TARGETING_LABELS_MELEE=["Thrust at","Swing at"],Zs.TARGETING_LABELS_SHOOT=["Shoot at",null],Zs.TARGETING_LABELS_THROW=["Throw at",null],Zs.TARGETING_LABELS_SHIELD=["Shield bash at",null],Zs.TARGETING_LABELS_UNARMED=["Straight punch at","Hook punch to","Downward hook to","Upward hook to"],Zs.EMPTY_ARR=[],Zs.ACTING_DOLL_DECLARE=0,Zs.ACTING_DOLL_DRAG_CP=1,Zs.ACTING_NONE=2,Ys.HIT_OFFSET_OBSERVE_Y=-55,Ys.MAX_GRID_SIZE=64,Ys.MIN_GRID_SIZE=36,Ks.DOWN=1,Ks.MOVE=2,Ks.TAP=4,Ks.HOLD=8,Ks.SWIPE_UP=16,Ks.SWIPE_RIGHT=32,Ks.SWIPE_DOWN=64,Ks.SWIPE_LEFT=128,Ks.SWIPE=240,Ks.PAN_UP=256,Ks.PAN_RIGHT=512,Ks.PAN_DOWN=1024,Ks.PAN_LEFT=2048,Ks.PAN=3840,Ks.HOVER=4096,Ks.MOVE_OVER=8192,Ks.CANCELED=16384,Ks.RELEASE=32768,Ks.RELEASE_OVER=65536,Ks.ROLL_OUT=131072,Ks.HOVER_SWITCH=262144,Ks.MASK_HOVER=266240,Ks.MASK_CANCELED_OR_RELEASE=49152,Ks.SAMPLE_PT=Oe._new(),Ks.SAMPLE_PT2=Oe._new(),Ks.SAMPLE_PT_A=Oe._new(),Ks.SAMPLE_PT_B=Oe._new(),Qs.PREGEN_SELECT_OPPONENT=4,Qs.PREGEN_SELECT_SELF=1,Qs.ICON_EYE="&#xf06e;",Qs.ICON_CHEV_LEFT="&#xf053;",Qs.ICON_ARROW_LEFT="&#xf060;",Qs.ICON_FINGER_UP="&#xf0a6;",Qs.ICON_SHIELD="&#xf132;",Qs.HTML_CHAR_DRAGGED="◘",Qs.HTML_CHAR_DICE="◊",an.TEST_POS=Oe._new(),an.TEST_SCALE=Oe._new(),rn.NUM_ONES=0,rn.LAST_ROLL_SUCCESSES=0,rn.ROLL_RESULT_BOTCH=-2,rn.ROLL_RESULT_DRAW=0,rn.ROLL_RESULT_FAILED=-1,cn.SIDE_TOP=0,cn.SIDE_RIGHT=1,cn.SIDE_BOTTOM=2,cn.SIDE_LEFT=3,Rn.SHAPE_RECT=0,Rn.SHAPE_CIRCLE=1,Rn.SHAPE_POLYGON=2,Rn.SCRATCH=Oe._new(),sn.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);