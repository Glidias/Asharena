(function(e){"use strict";function i(e,i){function t(){}t.prototype=e;var a=new t;for(var s in i)a[s]=i[s];return i.toString!==Object.prototype.toString&&(a.toString=i.toString),a}function t(e,i){if(null==i)return null;null==i.__id__&&(i.__id__=js++);var t;return null==e.hx__closures__?e.hx__closures__={}:t=e.hx__closures__[i.__id__],null==t&&(t=function(){return t.method.apply(t.scope,arguments)},t.scope=e,t.method=i,e.hx__closures__[i.__id__]=t),t}var a={},s=function(){return Y.__string_rec(this,"")},o=function(e,i){this.r=new RegExp(e,i.split("u").join(""))};a.EReg=o,o.__name__=["EReg"],o.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw new Z("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw new Z("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,i,t){if(null==t&&(t=-1),this.r.global){this.r.lastIndex=i;var a=this.r,s=0>t?e:R.substr(e,0,i+t);this.r.m=a.exec(s);var o=null!=this.r.m;return o&&(this.r.s=e),o}var n=this.match(0>t?R.substr(e,i,null):R.substr(e,i,t));return n&&(this.r.s=e,this.r.m.index+=i),n},split:function(e){return e.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(e,i){for(var t=0,a="";!(t>=e.length);){if(!this.matchSub(e,t)){a+=u.string(R.substr(e,t,null));break}var s=this.matchedPos();if(a+=u.string(R.substr(e,t,s.pos-t)),a+=u.string(i(this)),0==s.len?(a+=u.string(R.substr(e,s.pos,1)),t=s.pos+1):t=s.pos+s.len,!this.r.global)break}return!this.r.global&&0<t&&t<e.length&&(a+=u.string(R.substr(e,t,null))),a},__class__:o};var R=function(){};a.HxOverrides=R,R.__name__=["HxOverrides"],R.strDate=function(e){var i=e.length;switch(i){case 8:var a=e.split(":"),s=new Date;return s.setTime(0),s.setUTCHours(a[0]),s.setUTCMinutes(a[1]),s.setUTCSeconds(a[2]),s;case 10:var o=e.split("-");return new Date(o[0],o[1]-1,o[2],0,0,0);case 19:var n=e.split(" "),r=n[0].split("-"),l=n[1].split(":");return new Date(r[0],r[1]-1,r[2],l[0],l[1],l[2]);default:throw new Z("Invalid date format : "+e);}},R.cca=function(e,i){var t=e.charCodeAt(i);return t==t?t:void 0},R.substr=function(e,i,t){if(null==t)t=e.length;else if(0>t)if(0==i)t=e.length+t;else return"";return e.substr(i,t)},R.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var y=function(){this.length=0};a.List=y,y.__name__=["List"],y.prototype={add:function(e){var i=new g(e,null);null==this.h?this.h=i:this.q.next=i,this.q=i,this.length++},__class__:y};var g=function(e,i){this.item=e,this.next=i};a["_List.ListNode"]=g,g.__name__=["_List","ListNode"],g.prototype={__class__:g},Math.__name__=["Math"];var _=function(){};a.Reflect=_,_.__name__=["Reflect"],_.field=function(e,i){try{return e[i]}catch(i){return null}},_.fields=function(e){var i=[];if(null!=e){var t=Object.prototype.hasOwnProperty;for(var a in e)"__id__"!=a&&"hx__closures__"!=a&&t.call(e,a)&&i.push(a)}return i},_.isFunction=function(e){return!("function"!=typeof e)&&!(e.__name__||e.__ename__)},_.compareMethods=function(e,i){return!(e!=i)||!!(_.isFunction(e)&&_.isFunction(i))&&!(e.scope!=i.scope||e.method!=i.method)&&null!=e.method},_.deleteField=function(e,i){return!!Object.prototype.hasOwnProperty.call(e,i)&&(delete e[i],!0)};var u=function(){};a.Std=u,u.__name__=["Std"],u.string=function(e){return Y.__string_rec(e,"")},u.parseInt=function(e){var i=parseInt(e,10);return 0==i&&(120==R.cca(e,1)||88==R.cca(e,1))&&(i=parseInt(e)),isNaN(i)?null:i};var m=function(){this.b=""};a.StringBuf=m,m.__name__=["StringBuf"],m.prototype={__class__:m};var f=function(){};a.StringTools=f,f.__name__=["StringTools"],f.isSpace=function(e,i){var t=R.cca(e,i);return!!(8<t&&14>t)||32==t},f.ltrim=function(e){for(var i=e.length,t=0;t<i&&f.isSpace(e,t);)++t;return 0<t?R.substr(e,t,i-t):e},f.rtrim=function(e){for(var i=e.length,t=0;t<i&&f.isSpace(e,i-t-1);)++t;return 0<t?R.substr(e,0,i-t):e},f.trim=function(e){return f.ltrim(f.rtrim(e))};var b=a.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};b.TNull=["TNull",0],b.TNull.toString=s,b.TNull.__enum__=b,b.TInt=["TInt",1],b.TInt.toString=s,b.TInt.__enum__=b,b.TFloat=["TFloat",2],b.TFloat.toString=s,b.TFloat.__enum__=b,b.TBool=["TBool",3],b.TBool.toString=s,b.TBool.__enum__=b,b.TObject=["TObject",4],b.TObject.toString=s,b.TObject.__enum__=b,b.TFunction=["TFunction",5],b.TFunction.toString=s,b.TFunction.__enum__=b,b.TClass=function(e){var i=["TClass",6,e];return i.__enum__=b,i.toString=s,i},b.TEnum=function(i){var e=["TEnum",7,i];return e.__enum__=b,e.toString=s,e},b.TUnknown=["TUnknown",8],b.TUnknown.toString=s,b.TUnknown.__enum__=b;var S=function(){};a.Type=S,S.__name__=["Type"],S.getClassName=function(e){var i=e.__name__;return null==i?null:i.join(".")},S.getEnumName=function(i){var e=i.__ename__;return e.join(".")},S.resolveClass=function(e){var i=a[e];return null!=i&&i.__name__?i:null},S.resolveEnum=function(i){var t=a[i];return null!=t&&t.__ename__?t:null},S.createEmptyInstance=function(e){function i(){}return i.prototype=e.prototype,new i},S.createEnum=function(i,e,t){var a=_.field(i,e);if(null==a)throw new Z("No such constructor "+e);if(_.isFunction(a)){if(null==t)throw new Z("Constructor "+e+" need parameters");return a.apply(i,t)}if(null!=t&&0!=t.length)throw new Z("Constructor "+e+" does not need parameters");return a},S["typeof"]=function(i){switch(typeof i){case"boolean":return b.TBool;case"function":return i.__name__||i.__ename__?b.TObject:b.TFunction;case"number":return Math.ceil(i)==i%2147483648?b.TInt:b.TFloat;case"object":if(null==i)return b.TNull;var t=i.__enum__;if(null!=t)return b.TEnum(t);var e=Y.getClass(i);return null==e?b.TObject:b.TClass(e);case"string":return b.TClass(String);case"undefined":return b.TNull;default:return b.TUnknown;}};var x=function(){};a["haxe.IMap"]=x,x.__name__=["haxe","IMap"];var A=function(){this.buf=new m,this.cache=[],this.useCache=A.USE_CACHE,this.useEnumIndex=A.USE_ENUM_INDEX,this.shash=new M,this.scount=0};a["haxe.Serializer"]=A,A.__name__=["haxe","Serializer"],A.prototype={toString:function(){return this.buf.b},serializeString:function(e){var i=this.shash,t=null==to[e]?i.h[e]:i.getReserved(e);if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);var a=this.shash,o=this.scount++;null==to[e]?a.h[e]=o:a.setReserved(e,o),this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=u.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=0,a=this.cache.length;t<a;){var s=t++,i=this.cache[s];if(typeof i==typeof e&&i==e)return this.buf.b+="r",this.buf.b+=null==s?"null":""+s,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var i=0,t=_.fields(e);i<t.length;){var a=t[i];++i,this.serializeString(a),this.serialize(_.field(e,a))}this.buf.b+="g"},serialize:function(t){var a=S["typeof"](t);switch(a[1]){case 0:this.buf.b+="n";break;case 1:var s=t;if(0==s)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==s?"null":""+s;break;case 2:var o=t;isNaN(o)?this.buf.b+="k":isFinite(o)?(this.buf.b+="d",this.buf.b+=null==o?"null":""+o):this.buf.b+=0>o?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(Y.__instanceof(t,eo)){var n=S.getClassName(t);this.buf.b+="A",this.serializeString(n)}else if(Y.__instanceof(t,io))this.buf.b+="B",this.serializeString(S.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new Z("Cannot serialize function");break;case 6:var r=a[2];if(r==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(r){case Array:var d=0;this.buf.b+="a";for(var c=t.length,l=0;l<c;){var h=l++;null==t[h]?++d:(0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==d?"null":""+d),d=0),this.serialize(t[h]))}0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==d?"null":""+d)),this.buf.b+="h";break;case Date:this.buf.b+="v",this.buf.b+=u.string(t.getTime());break;case y:this.buf.b+="l";for(var i=t.h;null!=i;){var g=i.item;i=i.next;this.serialize(g)}this.buf.b+="h";break;case L:this.buf.b+="q";for(var p=t,m=p.keys();m.hasNext();){var f=m.next();this.buf.b+=":",this.buf.b+=null==f?"null":""+f,this.serialize(p.h[f])}this.buf.b+="h";break;case w:this.buf.b+="M";for(var b=t,x=b.keys();x.hasNext();){var v=x.next(),z=_.field(v,"__id__");_.deleteField(v,"__id__"),this.serialize(v),v.__id__=z,this.serialize(b.h[v.__id__])}this.buf.b+="h";break;case M:this.buf.b+="b";for(var T=t,C=T.keys();C.hasNext();){var E=C.next();this.serializeString(E),this.serialize(null==to[E]?T.h[E]:T.getReserved(E))}this.buf.b+="h";break;case I:var P=t;this.buf.b+="s",this.buf.b+=u.string(Math.ceil(8*P.length/6)),this.buf.b+=":";var k=0,H=P.length-2,B=A.BASE64_CODES;if(null==B){var D=A.BASE64.length,N=Array(D);B=N;for(var O=0,F=A.BASE64.length;O<F;){var W=O++;B[W]=R.cca(A.BASE64,W)}A.BASE64_CODES=B}for(;k<H;){var G=P.b[k++],V=P.b[k++],U=P.b[k++];this.buf.b+=String.fromCharCode(B[G>>2]),this.buf.b+=String.fromCharCode(B[63&(G<<4|V>>4)]),this.buf.b+=String.fromCharCode(B[63&(V<<2|U>>6)]),this.buf.b+=String.fromCharCode(B[63&U])}if(k==H){var q=P.b[k++],K=P.b[k++];this.buf.b+=String.fromCharCode(B[q>>2]),this.buf.b+=String.fromCharCode(B[63&(q<<4|K>>4)]),this.buf.b+=String.fromCharCode(B[63&K<<2])}else if(k==H+1){var j=P.b[k++];this.buf.b+=String.fromCharCode(B[j>>2]),this.buf.b+=String.fromCharCode(B[63&j<<4])}break;default:this.useCache&&this.cache.pop(),null==t.hxSerialize?(this.buf.b+="c",this.serializeString(S.getClassName(r)),this.useCache&&this.cache.push(t),this.serializeFields(t)):(this.buf.b+="C",this.serializeString(S.getClassName(r)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g");}break;case 7:var X=a[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=u.string(this.useEnumIndex?"j":"w"),this.serializeString(S.getEnumName(X)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=u.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var e=t.length;this.buf.b+=u.string(e-2);for(var Q=2;Q<e;){var $=Q++;this.serialize(t[$])}this.useCache&&this.cache.push(t);break;default:throw new Z("Cannot serialize "+u.string(t));}},__class__:A};var v=function(){};a["haxe._Unserializer.DefaultResolver"]=v,v.__name__=["haxe","_Unserializer","DefaultResolver"],v.prototype={resolveClass:function(e){return S.resolveClass(e)},resolveEnum:function(e){return S.resolveEnum(e)},__class__:v};var z=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[];var i=z.DEFAULT_RESOLVER;null==i&&(i=new v,z.DEFAULT_RESOLVER=i),this.resolver=i};a["haxe.Unserializer"]=z,z.__name__=["haxe","Unserializer"],z.initCodes=function(){for(var e=[],t=0,a=z.BASE64.length;t<a;){var s=t++;e[z.BASE64.charCodeAt(s)]=s}return e},z.prototype={readDigits:function(){for(var e=0,i=!1,t=this.pos,a;a=this.buf.charCodeAt(this.pos),a==a;){if(45==a){if(this.pos!=t)break;i=!0,this.pos++;continue}if(48>a||57<a)break;e=10*e+(a-48),this.pos++}return i&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(43<=i&&58>i||101==i||69==i)this.pos++;else break}return parseFloat(R.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new Z("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var i=this.unserialize();if("string"!=typeof i)throw new Z("Invalid object key");var t=this.unserialize();e[i]=t}this.pos++},unserializeEnum:function(e,i){if(58!=this.buf.charCodeAt(this.pos++))throw new Z("Invalid enum format");var t=this.readDigits();if(0==t)return S.createEnum(e,i);for(var a=[];0<t--;)a.push(this.unserialize());return S.createEnum(e,i,a)},unserialize:function(){var r=this.buf.charCodeAt(this.pos++);switch(r){case 65:var g=this.unserialize(),p=this.resolver.resolveClass(g);if(null==p)throw new Z("Class not found "+g);return p;case 66:var _=this.unserialize(),u=this.resolver.resolveEnum(_);if(null==u)throw new Z("Enum not found "+_);return u;case 67:var e=this.unserialize(),m=this.resolver.resolveClass(e);if(null==m)throw new Z("Class not found "+e);var f=S.createEmptyInstance(m);if(this.cache.push(f),f.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new Z("Invalid custom data");return f;case 77:var o=new w;this.cache.push(o);for(var h=this.buf,b;104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),o.set(b,this.unserialize());return this.pos++,o;case 82:var x=this.readDigits();if(0>x||x>=this.scache.length)throw new Z("Invalid string reference");return this.scache[x];case 97:var n=this.buf,A=[];for(this.cache.push(A);;){var a=this.buf.charCodeAt(this.pos);if(104==a){this.pos++;break}if(117==a){this.pos++;var c=this.readDigits();A[A.length+c-1]=null}else A.push(this.unserialize())}return A;case 98:var v=new M;this.cache.push(v);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var T=this.unserialize(),C=this.unserialize();null==to[T]?v.h[T]=C:v.setReserved(T,C)}return this.pos++,v;case 99:var E=this.unserialize(),P=this.resolver.resolveClass(E);if(null==P)throw new Z("Class not found "+E);var k=S.createEmptyInstance(P);return this.cache.push(k),this.unserializeObject(k),k;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var H=this.unserialize(),B=this.resolver.resolveEnum(H);if(null==B)throw new Z("Enum not found "+H);this.pos++;var D=this.readDigits(),N=B.__constructs__.slice()[D];if(null==N)throw new Z("Unknown enum index "+H+"@"+D);var O=this.unserializeEnum(B,N);return this.cache.push(O),O;case 107:return NaN;case 108:var F=new y;this.cache.push(F);for(this.buf;104!=this.buf.charCodeAt(this.pos);)F.add(this.unserialize());return this.pos++,F;case 109:return-Infinity;case 110:return null;case 111:var l={};return this.cache.push(l),this.unserializeObject(l),l;case 112:return 1/0;case 113:var W=new L;this.cache.push(W);for(var G=this.buf,V=this.buf.charCodeAt(this.pos++);58==V;){var U=this.readDigits(),i=this.unserialize();W.h[U]=i,V=this.buf.charCodeAt(this.pos++)}if(104!=V)throw new Z("Invalid IntMap format");return W;case 114:var q=this.readDigits();if(0>q||q>=this.cache.length)throw new Z("Invalid reference");return this.cache[q];case 115:var Y=this.readDigits(),K=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<Y)throw new Z("Invalid bytes length");var j=z.CODES;null==j&&(j=z.initCodes(),z.CODES=j);for(var X=this.pos,Q=3&Y,$=3*(Y>>2)+(2<=Q?Q-1:0),J=X+(Y-Q),ee=new I(new ao($)),ie=0;X<J;){var te=j[K.charCodeAt(X++)],ae=j[K.charCodeAt(X++)];ee.b[ie++]=255&(te<<2|ae>>4);var se=j[K.charCodeAt(X++)];ee.b[ie++]=255&(ae<<4|se>>2);var oe=j[K.charCodeAt(X++)];ee.b[ie++]=255&(se<<6|oe)}if(2<=Q){var ne=j[K.charCodeAt(X++)],re=j[K.charCodeAt(X++)];if(ee.b[ie++]=255&(ne<<2|re>>4),3==Q){var le=j[K.charCodeAt(X++)];ee.b[ie++]=255&(re<<4|le>>2)}}return this.pos+=Y,this.cache.push(ee),ee;case 116:return!0;case 118:var Re;if(48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4))Re=R.strDate(R.substr(this.buf,this.pos,19)),this.pos+=19;else{var de=this.readFloat();Re=new Date(de)}return this.cache.push(Re),Re;case 119:var t=this.unserialize(),ce=this.resolver.resolveEnum(t);if(null==ce)throw new Z("Enum not found "+t);var he=this.unserializeEnum(ce,this.unserialize());return this.cache.push(he),he;case 120:throw Z.wrap(this.unserialize());break;case 121:var ye=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<ye)throw new Z("Invalid string length");var ge=R.substr(this.buf,this.pos,ye);return this.pos+=ye,ge=decodeURIComponent(ge.split("+").join(" ")),this.scache.push(ge),ge;case 122:return 0;default:}throw this.pos--,new Z("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:z};var T=function(){};a["haxe.ds.ArraySort"]=T,T.__name__=["haxe","ds","ArraySort"],T.sort=function(e,i){T.rec(e,i,0,e.length)},T.rec=function(e,t,a,s){var o=a+s>>1;if(12>s-a){if(s<=a)return;for(var n=a+1;n<s;)for(var r=n++,i=r;i>a&&0>t(e[i],e[i-1]);)T.swap(e,i-1,i),--i;return}T.rec(e,t,a,o),T.rec(e,t,o,s),T.doMerge(e,t,a,o,s,o-a,s-o)},T.doMerge=function(e,i,t,a,s,o,n){var r,l,R,d,c;return 0==o||0==n?void 0:2==o+n?void(0>i(e[a],e[t])&&T.swap(e,a,t)):void(o>n?(R=o>>1,r=t+R,l=T.lower(e,i,a,s,r),d=l-a):(d=n>>1,l=a+d,r=T.upper(e,i,t,a,l),R=r-t),T.rotate(e,i,r,a,l),c=r+d,T.doMerge(e,i,t,r,c,R,d),T.doMerge(e,i,c,l,s,o-R,n-d))},T.rotate=function(e,i,t,a,s){var o;if(t!=a&&a!=s)for(o=T.gcd(s-t,a-t);0!=o--;){for(var r=e[t+o],l=a-t,R=t+o,d=t+o+l;d!=t+o;)e[R]=e[d],R=d,s-d>l?d+=l:d=t+(l-(s-d));e[R]=r}},T.gcd=function(e,i){for(;0!=i;){var a=e%i;e=i,i=a}return e},T.upper=function(e,i,t,a,s){for(var o=a-t,n,r;0<o;)n=o>>1,r=t+n,0>i(e[s],e[r])?o=n:(t=r+1,o=o-n-1);return t},T.lower=function(e,i,t,a,s){for(var o=a-t,n,r;0<o;)n=o>>1,r=t+n,0>i(e[r],e[s])?(t=r+1,o=o-n-1):o=n;return t},T.swap=function(e,t,i){var a=e[t];e[t]=e[i],e[i]=a};var L=function(){this.h={}};a["haxe.ds.IntMap"]=L,L.__name__=["haxe","ds","IntMap"],L.__interfaces__=[x],L.prototype={remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var i in this.h)this.h.hasOwnProperty(i)&&e.push(0|i);return R.iter(e)},__class__:L};var w=function(){this.h={__keys__:{}}};a["haxe.ds.ObjectMap"]=w,w.__name__=["haxe","ds","ObjectMap"],w.__interfaces__=[x],w.assignId=function(e){return e.__id__=++w.count},w.getId=function(e){return e.__id__},w.prototype={set:function(e,i){var t=e.__id__||(e.__id__=++w.count);this.h[t]=i,this.h.__keys__[t]=e},keys:function(){var e=[];for(var i in this.h.__keys__)this.h.hasOwnProperty(i)&&e.push(this.h.__keys__[i]);return R.iter(e)},__class__:w};var M=function(){this.h={}};a["haxe.ds.StringMap"]=M,M.__name__=["haxe","ds","StringMap"],M.__interfaces__=[x],M.prototype={setReserved:function(e,i){null==this.rh&&(this.rh={}),this.rh["$"+e]=i},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},keys:function(){return R.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var i in this.h)this.h.hasOwnProperty(i)&&e.push(i);if(null!=this.rh)for(var i in this.rh)36==i.charCodeAt(0)&&e.push(i.substr(1));return e},__class__:M};var I=function(e){this.length=e.byteLength,this.b=new so(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};a["haxe.io.Bytes"]=I,I.__name__=["haxe","io","Bytes"],I.alloc=function(e){return new I(new ao(e))},I.ofString=function(e){for(var t=[],a=0;a<e.length;){var s=e.charCodeAt(a++);55296<=s&&56319>=s&&(s=s-55232<<10|1023&e.charCodeAt(a++)),127>=s?t.push(s):2047>=s?(t.push(192|s>>6),t.push(128|63&s)):65535>=s?(t.push(224|s>>12),t.push(128|63&s>>6),t.push(128|63&s)):(t.push(240|s>>18),t.push(128|63&s>>12),t.push(128|63&s>>6),t.push(128|63&s))}return new I(new so(t).buffer)},I.ofData=function(e){var i=e.hxBytes;return null==i?new I(e):i},I.fastGet=function(e,i){return e.bytes[i]},I.prototype={__class__:I};var C=function(){};a["haxevx.vuex.core.IBuildListed"]=C,C.__name__=["haxevx","vuex","core","IBuildListed"];var E=function(){};a["haxevx.vuex.core.IPayload"]=E,E.__name__=["haxevx","vuex","core","IPayload"],E.prototype={__class__:E};var P=function(){};a["haxevx.vuex.core.NoneT"]=P,P.__name__=["haxevx","vuex","core","NoneT"],P.prototype={toString:function(){return"NoneT"},__class__:P};var H=function(){};a["haxevx.vuex.core.Singletons"]=H,H.__name__=["haxevx","vuex","core","Singletons"],H.addLookup=function(e,i){var t=H.NAMES,a;if(null==to[e]?t.h.hasOwnProperty(e):t.existsReserved(e)){var s=H.NAMES;a=null==to[e]?s.h[e]:s.getReserved(e)}else{a=[];var o=H.NAMES;null==to[e]?o.h[e]=a:o.setReserved(e,a)}a.push(i)},H.setAsSingleton=function(e){var i=H.SINGLETON_CACHE,t=e,a=S.getClassName(null==t?null:Y.getClass(t)),s=e;return null==to[a]?i.h[a]=s:i.setReserved(a,s),e},H.getSingleton=function(e){var i=H.SINGLETON_CACHE;return null==to[e]?i.h[e]:i.getReserved(e)},H.getClassNameOfInstance=function(e){var i=e;return S.getClassName(null==i?null:Y.getClass(i))},H.clearLookups=function(){for(var e=H.NAMES.keys();e.hasNext();){var i=e.next(),t=H.SINGLETON_CACHE;if(null==(null==to[i]?t.h[i]:t.getReserved(i))){var a=H.NAMES;console.log("Warning:: Could not find singleton dependency from/to: ["+u.string(null==to[i]?a.h[i]:a.getReserved(i))+"] -> "+i)}}H.NAMES=new M};var B=function(){this._Init()};a["haxevx.vuex.core.VComponent"]=B,B.__name__=["haxevx","vuex","core","VComponent"],B.__super__=Object,B.prototype=i(Object.prototype,{_Init:function(){},get__props:function(){return this},get__vData:function(){return this.$data},PropsData:function(){return null},Data:function(){return null},Created:function(){},BeforeCreate:function(){},BeforeDestroy:function(){},Destroy:function(){},BeforeMount:function(){},Mounted:function(){},BeforeUpdate:function(){},Updated:function(){},Activated:function(){},Deactivated:function(){},El:function(){return null},Render:function(){return null},Template:function(){return null},Components:function(){return null},GetDefaultPropSettings:function(){return null},GetDefaultPropValues:function(){return null},__class__:B});var D=function(){};a["haxevx.vuex.core.VxBoot"]=D,D.__name__=["haxevx","vuex","core","VxBoot"],D.registerModuleWithStore=function(e,i,t){i._Init(e+"/"),t[e]=i,t.registerModule(e,i),D.clearModuleInjStack(t)},D.clearModuleInjStack=function(e){for(var t=e.getters,a=N.stack,s=a.length;-1<--s;)a[s]._InjNative(t);N.stack=[]},D.notifyStarted=function(){H.clearLookups()},D.getRenderComponentMethod=function(e){return function(i){return i(e,null,null)}},D.prototype={startStore:function(e){if(null!=this.STORE)throw new Z("Vuex store already started! Only 1 store is allowed");for(var t=new Vuex.Store(e),a=t.getters,s=N.stack,n=s.length,r,l;-1<--n;)s[n]._InjNative(a);if(s=[],null!=e.modules){var R=0;l=e.modules;for(var d=_.fields(l),c;R<d.length;){c=d[R],++R;_.field(l,c);r=e[c],t[c]=r}}return this.STORE=t,t},startVueWithRootComponent:function(e,i){var t={};t.el=e,null!=this.STORE&&(t.store=this.STORE),t.render=D.getRenderComponentMethod(i);var a=new Vue(t);return D.notifyStarted(),a},__class__:D};var N=function(){};a["haxevx.vuex.core.ModuleStack"]=N,N.__name__=["haxevx","vuex","core","ModuleStack"];var O=function(){};a["haxevx.vuex.native.ActionContext"]=O,O.__name__=["haxevx","vuex","native","ActionContext"],O.prototype={__class__:O};var F=function(){};a["haxevx.vuex.util.VHTMacros"]=F,F.__name__=["haxevx","vuex","util","VHTMacros"];var W=function(){};a["hxGeomAlgo.Bayazit"]=W,W.__name__=["hxGeomAlgo","Bayazit"],W.decomposePoly=function(e){var i=[];if(3>e.length)return i;W.poly=[];for(var t=0,a;t<e.length;)a=e[t],++t,W.poly.push(V._new(a.x,a.y));return W.reversed=q.makeCW(W.poly),W.reflexVertices.length=0,W.steinerPoints.length=0,W._decomposePoly(W.poly,i),i},W._decomposePoly=function(e,t){for(var s=V._new(),o=V._new(),n=V._new(),r=V._new(),l=0,R=0,c=0,h=0,y=0,g=0,_=0,u=[],m=[],f=0,S=e.length;f<S;){var A=f++;if(q.isReflex(e,A)){W.reflexVertices.push(e[A]),R=1/0,l=R;for(var i=0,z=e.length;i<z;){for(var T=i++,L=A-1,M=e.length,I;0>L;)L+=M;for(var C=e[L%M],E=A,P=e.length;0>E;)E+=P;for(var H=e[E%P],a=T,B=e.length;0>a;)a+=B;var D=e[a%B];if(0<(H.x-C.x)*(D.y-C.y)-(D.x-C.x)*(H.y-C.y)){for(var b=A-1,N=e.length;0>b;)b+=N;for(var O=e[b%N],F=A,G=e.length;0>F;)F+=G;for(var U=e[F%G],Z=T-1,Y=e.length;0>Z;)Z+=Y;var K=e[Z%Y];I=0>=(U.x-O.x)*(K.y-O.y)-(K.x-O.x)*(U.y-O.y)}else I=!1;if(I){for(var j=A-1,X=e.length;0>j;)j+=X;for(var Q=e[j%X],$=A,J=e.length;0>$;)$+=J;for(var ee=e[$%J],ie=T,te=e.length;0>ie;)ie+=te;for(var ae=e[ie%te],se=T-1,oe=e.length;0>se;)se+=oe;n=q.intersection(Q,ee,ae,e[se%oe]);for(var ne=A+1,re=e.length;0>ne;)ne+=re;for(var le=e[ne%re],Re=A,de=e.length;0>Re;)Re+=de;var ce=e[Re%de];if(0>(ce.x-le.x)*(n.y-le.y)-(n.x-le.x)*(ce.y-le.y)){var he=e[A],v=he.x-n.x,x=he.y-n.y;c=v*v+x*x,c<R&&(R=c,o=n,g=T)}}for(var ye=A+1,ge=e.length,pe;0>ye;)ye+=ge;for(var _e=e[ye%ge],ue=A,me=e.length;0>ue;)ue+=me;for(var fe=e[ue%me],be=T+1,Se=e.length;0>be;)be+=Se;var xe=e[be%Se];if(0<(fe.x-_e.x)*(xe.y-_e.y)-(xe.x-_e.x)*(fe.y-_e.y)){for(var Ae=A+1,ve=e.length;0>Ae;)Ae+=ve;for(var ze=e[Ae%ve],Te=A,Le=e.length;0>Te;)Te+=Le;for(var we=e[Te%Le],Me=T,Ie=e.length;0>Me;)Me+=Ie;var Ce=e[Me%Ie];pe=0>=(we.x-ze.x)*(Ce.y-ze.y)-(Ce.x-ze.x)*(we.y-ze.y)}else pe=!1;if(pe){for(var Ee=A+1,Pe=e.length;0>Ee;)Ee+=Pe;for(var ke=e[Ee%Pe],He=A,Be=e.length;0>He;)He+=Be;for(var De=e[He%Be],Ne=T,Oe=e.length;0>Ne;)Ne+=Oe;for(var Fe=e[Ne%Oe],We=T+1,Ge=e.length;0>We;)We+=Ge;n=q.intersection(ke,De,Fe,e[We%Ge]);for(var Ve=A-1,Ue=e.length;0>Ve;)Ve+=Ue;for(var qe=e[Ve%Ue],Ze=A,Ye=e.length;0>Ze;)Ze+=Ye;var Ke=e[Ze%Ye];if(0<(Ke.x-qe.x)*(n.y-qe.y)-(n.x-qe.x)*(Ke.y-qe.y)){var je=e[A],Xe=je.x-n.x,Qe=je.y-n.y;c=Xe*Xe+Qe*Qe,c<l&&(l=c,s=n,y=T)}}}if(g!=(y+1)%e.length){g>y&&(y+=e.length),h=1/0;for(var $e=g,Je=y+1;$e<Je;){for(var ei=$e++,ii=A-1,ti=e.length,ai;0>ii;)ii+=ti;for(var si=e[ii%ti],oi=A,ni=e.length;0>oi;)oi+=ni;for(var ri=e[oi%ni],li=ei,Ri=e.length;0>li;)li+=Ri;var di=e[li%Ri];if(0<=(ri.x-si.x)*(di.y-si.y)-(di.x-si.x)*(ri.y-si.y)){for(var ci=A+1,hi=e.length;0>ci;)ci+=hi;for(var yi=e[ci%hi],gi=A,pi=e.length;0>gi;)gi+=pi;for(var _i=e[gi%pi],ui=ei,mi=e.length;0>ui;)ui+=mi;var fi=e[ui%mi];ai=0>=(_i.x-yi.x)*(fi.y-yi.y)-(fi.x-yi.x)*(_i.y-yi.y)}else ai=!1;if(ai){for(var bi=A,Si=e.length;0>bi;)bi+=Si;for(var xi=e[bi%Si],Ai=ei,vi=e.length;0>Ai;)Ai+=vi;var zi=e[Ai%vi],w=xi.x-zi.x,Ti=xi.y-zi.y;if(c=w*w+Ti*Ti,c<h){h=c;for(var Li=ei,wi=e.length;0>Li;)Li+=wi;r=e[Li%wi],_=ei%e.length}}}if(A<_){for(var Mi=A,Ii=_+1,Ci;Mi<Ii;)Ci=Mi++,m.push(e[Ci]);if(0!=_)for(var Ei=_,Pi=e.length,ki;Ei<Pi;)ki=Ei++,u.push(e[ki]);for(var Hi=0,Bi;Hi<A+1;)Bi=Hi++,u.push(e[Bi])}else{if(0!=A)for(var Di=A,Ni=e.length,Oi;Di<Ni;)Oi=Di++,m.push(e[Oi]);for(var Fi=0,Wi=_+1,Gi;Fi<Wi;)Gi=Fi++,m.push(e[Gi]);for(var Vi=_,Ui;Vi<A+1;)Ui=Vi++,u.push(e[Ui])}}else if(n.x=(o.x+s.x)/2,n.y=(o.y+s.y)/2,W.steinerPoints.push(n),A<y){for(var qi=A,Zi=y+1,Yi;qi<Zi;)Yi=qi++,m.push(e[Yi]);if(m.push(n),u.push(n),0!=g)for(var Ki=g,ji=e.length,Xi;Ki<ji;)Xi=Ki++,u.push(e[Xi]);for(var Qi=0,$i;Qi<A+1;)$i=Qi++,u.push(e[$i])}else{if(0!=A)for(var Ji=A,et=e.length,it;Ji<et;)it=Ji++,m.push(e[it]);for(var tt=0,at=y+1,st;tt<at;)st=tt++,m.push(e[st]);m.push(n),u.push(n);for(var ot=g,nt;ot<A+1;)nt=ot++,u.push(e[nt])}return void(m.length<u.length?(W._decomposePoly(m,t),W._decomposePoly(u,t)):(W._decomposePoly(u,t),W._decomposePoly(m,t)))}}t.push(e)};var G=function(e,i,t){null==t&&(t=1),null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i,this.w=t};a["hxGeomAlgo.HomogCoord"]=G,G.__name__=["hxGeomAlgo","HomogCoord"],G.det=function(e,i,t){return e.w*i.perpdot(t)-i.w*e.perpdot(t)+t.w*e.perpdot(i)},G.ccw=function(e,i,t){return 0<G.det(e,i,t)},G.cw=function(e,i,t){return 0>G.det(e,i,t)},G.prototype={add:function(e){return this.x+=e.x,this.y+=e.y,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this},neg:function(){return this.w=-this.w,this.x=-this.x,this.y=-this.y,this},mul:function(e){return this.w*=e,this.x*=e,this.y*=e,this},div:function(e){return this.w/=e,this.x/=e,this.y/=e,this},normalize:function(){return this.div(this.length())},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},perp:function(){var e=-this.y;return this.y=this.x,this.x=e,this},dotPoint:function(e){return this.w+this.x*e.x+this.y*e.y},dot:function(e){return this.w*e.w+this.x*e.x+this.y*e.y},perpdot:function(e){return this.x*e.y-this.y*e.x},dotperp:function(e){return-this.x*e.y+this.y*e.x},equals:function(e){return!(e.w*this.x!=this.w*e.x)&&e.w*this.y==this.w*e.y},left:function(e){return 0<this.dotPoint(e)},right:function(e){return 0>this.dotPoint(e)},toScreen:function(){return V._new(this.x/this.w,-this.y/this.w)},toPoint:function(){return V._new(this.x/this.w,this.y/this.w)},meet:function(e){return new G(e.w*this.y-this.w*e.y,this.w*e.x-e.w*this.x,this.x*e.y-this.y*e.x)},meetPoint:function(e){return new G(this.y-this.w*e.y,this.w*e.x-this.x,this.x*e.y-this.y*e.x)},toString:function(){return" (w:"+this.w+"; x:"+this.x+", y:"+this.y+")  "},__class__:G};var V={};a["hxGeomAlgo._HxPoint.HxPoint_Impl_"]=V,V.__name__=["hxGeomAlgo","_HxPoint","HxPoint_Impl_"],V.get_x=function(e){return e.x},V.set_x=function(e,i){return e.x=i},V.get_y=function(e){return e.y},V.set_y=function(e,i){return e.y=i},V._new=function(e,i){null==i&&(i=0),null==e&&(e=0);var t=new U(e,i);return t},V.setTo=function(e,i,t){e.x=i,e.y=t},V.equals=function(e,i){return!(null==e||null==i||i.x!=e.x)&&i.y==e.y},V.notEequals=function(e,i){return null==e||null==i||i.x!=e.x||i.y!=e.y},V.clone=function(e){return V._new(e.x,e.y)},V.toString=function(e){return"("+e.x+", "+e.y+")"},V.fromPointStruct=function(e){return V._new(e.x,e.y)},V.toPointStruct=function(e){return{x:e.x,y:e.y}},V.areEqual=function(e,i){return!(null==e||null==i||i.x!=e.x)&&i.y==e.y},V.areNotEqual=function(e,i){return null==e||null==i||i.x!=e.x||i.y!=e.y};var U=function(e,i){null==i&&(i=0),null==e&&(e=0),this.x=e,this.y=i};a["hxGeomAlgo.HxPointData"]=U,U.__name__=["hxGeomAlgo","HxPointData"],U.prototype={__class__:U};var q=function(){};a["hxGeomAlgo.PolyTools"]=q,q.__name__=["hxGeomAlgo","PolyTools"],q.isCCW=function(e){if(2>=e.length)return!0;for(var t=0,a=0,s=e.length;a<s;){for(var o=a++,i=o-1,n=e.length;0>i;)i+=n;for(var r=e[i%n].x*e[o].y,l=e[o].x,R=o-1,d=e.length;0>R;)R+=d;t+=r-l*e[R%d].y}return 0>t},q.makeCCW=function(e){var i=!1;return q.isCCW(e)||(e.reverse(),i=!0),i},q.makeCW=function(e){var i=!1;return q.isCCW(e)&&(e.reverse(),i=!0),i},q.isConvex=function(e){for(var t=null,a=0,s=e.length;a<s;){var o=a++,i=0==o?e.length-1:o-1,n=o,r=o==e.length-1?0:o+1,l=e[n].x-e[i].x,R=e[n].y-e[i].y,d=e[r].x-e[n].x,c=e[r].y-e[n].y,h=l*c-d*R,y=0<h;if(0!=h)if(null==t)t=y;else if(t!=y)return!1}return!0},q.isSimple=function(e){var t=e.length;if(3>=t)return!0;for(var a=0;a<t;)for(var s=a++,i=s,o=s==t-1?0:s+1,n=s+1;n<t;){var r=n++,l=r,R=r==t-1?0:r+1,d=q.segmentIntersect(e[i],e[o],e[l],e[R]),c,h;if(null!=d){var y=e[i],g;if(null==d||null==y||y.x!=d.x||y.y!=d.y){var p=e[o];g=null!=d&&null!=p&&p.x==d.x&&p.y==d.y}else g=!0;h=!g}else h=!1;if(h){var _=e[l],u;if(null==d||null==_||_.x!=d.x||_.y!=d.y){var m=e[R];u=null!=d&&null!=m&&m.x==d.x&&m.y==d.y}else u=!0;c=!u}else c=!1;if(c)return!1}return!0},q.segmentIntersect=function(e,i,t,a){var s,o,n,r,l,R,d;o=i.y-e.y,r=e.x-i.x,R=i.x*e.y-e.x*i.y,n=a.y-t.y,l=t.x-a.x,d=a.x*t.y-t.x*a.y;var c=o*l-n*r;if(0==c)return null;s=V._new(),s.x=(r*d-l*R)/c,s.y=(n*R-o*d)/c;var h=s.x-i.x,y=s.y-i.y,g=e.x-i.x,p=e.y-i.y;if(h*h+y*y>g*g+p*p)return null;var _=s.x-e.x,u=s.y-e.y,m=e.x-i.x,f=e.y-i.y;if(_*_+u*u>m*m+f*f)return null;var b=s.x-a.x,S=s.y-a.y,x=t.x-a.x,A=t.y-a.y;if(b*b+S*S>x*x+A*A)return null;var v=s.x-t.x,z=s.y-t.y,T=t.x-a.x,L=t.y-a.y;return v*v+z*z>T*T+L*L?null:s},q.findDuplicatePoints=function(e,t,a){null==a&&(a=!0),null==t&&(t=!0);var s=e.length;if(1>=s)return[];for(var o=[],n=0;n<s-1;)for(var r=n++,i=r+1;i<s;){var l=e[r],R=e[i],d=null!=l&&null!=R&&R.x==l.x&&R.y==l.y;if(d&&o.push(r),t||d&&!t)break;++i}var c;if(a&&t){var h=e[0],y=e[s-1];c=null!=h&&null!=y&&y.x==h.x&&y.y==h.y}else c=!1;return c&&o.push(s-1),o},q.intersection=function(e,i,t,a){var s=null,o=i.y-e.y,n=e.x-i.x,r=o*e.x+n*e.y,l=a.y-t.y,R=t.x-a.x,d=l*t.x+R*t.y,c=o*R-l*n;return Math.abs(c)<=q.EPSILON||(s=V._new(),s.x=(R*r-n*d)/c,s.y=(o*d-l*r)/c),s},q.isReflex=function(e,i){for(var t=i-1,s=e.length;0>t;)t+=s;for(var o=e[t%s],n=i,r=e.length;0>n;)n+=r;for(var l=e[n%r],a=i+1,R=e.length;0>a;)a+=R;var d=e[a%R];return 0>(l.x-o.x)*(d.y-o.y)-(d.x-o.x)*(l.y-o.y)},q.at=function(e,i){for(var t=e.length;0>i;)i+=t;return e[i%t]},q.side=function(e,i,t){return(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.isLeft=function(e,i,t){return 0<(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.isLeftOrOn=function(e,i,t){return 0<=(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.isRight=function(e,i,t){return 0>(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.isRightOrOn=function(e,i,t){return 0>=(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.isCollinear=function(e,i,t){return 0==(i.x-e.x)*(t.y-e.y)-(t.x-e.x)*(i.y-e.y)},q.distance=function(e,i){var t=e.x-i.x,a=e.y-i.y;return Math.sqrt(t*t+a*a)},q.distanceToSegment=function(e,i,t){return Math.sqrt(q.distanceToSegmentSquared(e,i,t))},q.distanceSquared=function(e,i){var t=e.x-i.x,a=e.y-i.y;return t*t+a*a},q.distanceToSegmentSquared=function(e,i,a){var s=i.x-a.x,o=i.y-a.y,n=s*s+o*o;if(0==n){var r=e.x-i.x,l=e.y-i.y;return r*r+l*l}var R=((e.x-i.x)*(a.x-i.x)+(e.y-i.y)*(a.y-i.y))/n;if(0>R){var t=e.x-i.x,d=e.y-i.y;return t*t+d*d}if(1<R){var c=e.x-a.x,h=e.y-a.y;return c*c+h*h}var y=q.point;y.x=i.x+R*(a.x-i.x),y.y=i.y+R*(a.y-i.y);var g=q.point,p=e.x-g.x,_=e.y-g.y;return p*p+_*_},q.meet=function(e,i){return new G(e.y-i.y,i.x-e.x,e.x*i.y-e.y*i.x)},q.dot=function(e,i){return e.x*i.x+e.y*i.y},q.sqr=function(e){return e*e},q.eq=function(e,i){return Math.abs(e-i)<=q.EPSILON},q.clear=function(e){e.length=0},q.toFloatArray=function(e,i){i=null==i?[]:i;for(var t=0;t<e.length;){var a=e[t];++t,i.push(a.x),i.push(a.y)}return i},q.reverseFloatArray=function(e,t){null==t&&(t=!1);for(var a=t?e:[],s=e.length>>1,o=0;o<s;){var n=o++,i=2*(s-n-1);a[2*n]=e[i],a[2*n+1]=e[i+1]}return a},q.flatten=function(e,i){for(var t=null==i?[]:i,a=0;a<e.length;){var s=e[a];++a;for(var o=0;o<s.length;){var n=s[o];++o,t.push(n)}}return t},q.toPointArray=function(e,t){t=null==t?[]:t;var a=e.length;1==e.length%2&&--a;for(var s=0,o=a>>1;s<o;){var n=s++;t.push(V._new(e[2*n],e[2*n+1]))}return t};var Z=function(e){Error.call(this),this.val=e,this.message=e+"",Error.captureStackTrace&&Error.captureStackTrace(this,Z)};a["js._Boot.HaxeError"]=Z,Z.__name__=["js","_Boot","HaxeError"],Z.wrap=function(e){return e instanceof Error?e:new Z(e)},Z.__super__=Error,Z.prototype=i(Error.prototype,{__class__:Z});var Y=function(){};a["js.Boot"]=Y,Y.__name__=["js","Boot"],Y.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var i=e.__class__;if(null!=i)return i;var t=Y.__nativeClassName(e);return null==t?null:Y.__resolveNativeClass(t)},Y.__string_rec=function(e,a){if(null==e)return"null";if(5<=a.length)return"<...>";var o=typeof e;switch("function"==o&&(e.__name__||e.__ename__)&&(o="object"),o){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var n=e[0]+"(";a+="\t";for(var r=2,R=e.length,d;r<R;)d=r++,n+=2==d?Y.__string_rec(e[d],a):","+Y.__string_rec(e[d],a);return n+")"}var c=e.length,l="[";a+="\t";for(var h=0,y;h<c;)y=h++,l+=(0<y?",":"")+Y.__string_rec(e[y],a);return l+="]",l}var g;try{g=e.toString}catch(i){return"???"}if(null!=g&&g!=Object.toString&&"function"==typeof g){var p=e.toString();if("[object Object]"!=p)return p}var _=null,u="{\n";a+="\t";var m=null!=e.hasOwnProperty;for(var _ in e)(!m||e.hasOwnProperty(_))&&"prototype"!=_&&"__class__"!=_&&"__super__"!=_&&"__interfaces__"!=_&&"__properties__"!=_&&(2!=u.length&&(u+=", \n"),u+=a+_+" : "+Y.__string_rec(e[_],a));return a=a.substring(1),u+="\n"+a+"}",u;case"string":return e;default:return e+"";}},Y.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var a=e.__interfaces__;if(null!=a)for(var s=0,o=a.length;s<o;){var n=s++,i=a[n];if(i==t||Y.__interfLoop(i,t))return!0}return Y.__interfLoop(e.__super__,t)},Y.__instanceof=function(e,i){if(null==i)return!1;switch(i){case Array:return!!(e instanceof Array)&&null==e.__enum__;break;case Js:return"boolean"==typeof e;case Qs:return!0;case $s:return"number"==typeof e;case Xs:return!("number"!=typeof e)&&(0|e)==e;break;case String:return"string"==typeof e;default:if(!(null!=e))return!1;else if("function"==typeof i){if(e instanceof i)return!0;if(Y.__interfLoop(Y.getClass(e),i))return!0}else if("object"==typeof i&&Y.__isNativeObj(i)&&e instanceof i)return!0;return i==eo&&null!=e.__name__||i==io&&null!=e.__ename__||e.__enum__==i;}},Y.__nativeClassName=function(e){var i=Y.__toStr.call(e).slice(8,-1);return"Object"==i||"Function"==i||"Math"==i||"JSON"==i?null:i},Y.__isNativeObj=function(e){return null!=Y.__nativeClassName(e)},Y.__resolveNativeClass=function(i){return e[i]};var K=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var a=0;a<t;){var s=a++;this.a[s]=0}this.byteLength=t}};a["js.html.compat.ArrayBuffer"]=K,K.__name__=["js","html","compat","ArrayBuffer"],K.sliceImpl=function(e,i){var t=new so(this,e,null==i?null:i-e),a=new ao(t.byteLength),s=new so(a);return s.set(t),a},K.prototype={slice:function(e,i){return new K(this.a.slice(e,i))},__class__:K};var j=function(){};a["js.html.compat.Uint8Array"]=j,j.__name__=["js","html","compat","Uint8Array"],j._new=function(e,t,a){var s;if("number"==typeof e){s=[];for(var o=0,n;o<e;)n=o++,s[n]=0;s.byteLength=s.length,s.byteOffset=0,s.buffer=new K(s)}else if(Y.__instanceof(e,K)){var r=e;null==t&&(t=0),null==a&&(a=r.byteLength-t),s=0==t?r.a:r.a.slice(t,t+a),s.byteLength=s.length,s.byteOffset=t,s.buffer=r}else if(e instanceof Array&&null==e.__enum__)s=e.slice(),s.byteLength=s.length,s.byteOffset=0,s.buffer=new K(s);else throw new Z("TODO "+u.string(e));return s.subarray=j._subarray,s.set=j._set,s},j._set=function(e,t){if(Y.__instanceof(e.buffer,K)){if(e.byteLength+t>this.byteLength)throw new Z("set() outside of range");for(var a=0,s=e.byteLength;a<s;){var o=a++;this[o+t]=e[o]}}else if(e instanceof Array&&null==e.__enum__){var i=e;if(i.length+t>this.byteLength)throw new Z("set() outside of range");for(var n=0,r=i.length;n<r;){var l=n++;this[l+t]=i[l]}}else throw new Z("TODO")},j._subarray=function(e,i){var t=j._new(this.slice(e,i));return t.byteOffset=e,t};var X=function(e){null==e&&(e=[]),this.valueClasses=e,this.slots=se.NIL,this.priorityBased=!1};a["msignal.Signal"]=X,X.__name__=["msignal","Signal"],X.prototype={add:function(e){return this.registerListener(e)},addOnce:function(e){return this.registerListener(e,!0)},addWithPriority:function(e,i){return null==i&&(i=0),this.registerListener(e,!1,i)},addOnceWithPriority:function(e,i){return null==i&&(i=0),this.registerListener(e,!0,i)},remove:function(e){var i=this.slots.find(e);return null==i?null:(this.slots=this.slots.filterNot(e),i)},removeAll:function(){this.slots=se.NIL},registerListener:function(e,i,t){if(null==t&&(t=0),null==i&&(i=!1),this.registrationPossible(e,i)){var a=this.createSlot(e,i,t);return this.priorityBased||0==t||(this.priorityBased=!0),this.slots=this.priorityBased||0!=t?this.slots.insertWithPriority(a):this.slots.prepend(a),a}return this.slots.find(e)},registrationPossible:function(e){if(!this.slots.nonEmpty)return!0;var i=this.slots.find(e);return!(null!=i)},createSlot:function(e,i,t){return null==t&&(t=0),null==i&&(i=!1),null},get_numListeners:function(){return this.slots.get_length()},__class__:X};var Q=function(){X.call(this)};a["msignal.Signal0"]=Q,Q.__name__=["msignal","Signal0"],Q.__super__=X,Q.prototype=i(X.prototype,{dispatch:function(){for(var e=this.slots;e.nonEmpty;)e.head.execute(),e=e.tail},createSlot:function(e,i,t){return null==t&&(t=0),null==i&&(i=!1),new ie(this,e,i,t)},__class__:Q});var $=function(e){X.call(this,[e])};a["msignal.Signal1"]=$,$.__name__=["msignal","Signal1"],$.__super__=X,$.prototype=i(X.prototype,{dispatch:function(e){for(var i=this.slots;i.nonEmpty;)i.head.execute(e),i=i.tail},createSlot:function(e,i,t){return null==t&&(t=0),null==i&&(i=!1),new te(this,e,i,t)},__class__:$});var J=function(e,i){X.call(this,[e,i])};a["msignal.Signal2"]=J,J.__name__=["msignal","Signal2"],J.__super__=X,J.prototype=i(X.prototype,{dispatch:function(e,i){for(var t=this.slots;t.nonEmpty;)t.head.execute(e,i),t=t.tail},createSlot:function(e,i,t){return null==t&&(t=0),null==i&&(i=!1),new ae(this,e,i,t)},__class__:J});var ee=function(e,i,t,a){null==a&&(a=0),null==t&&(t=!1),this.signal=e,this.set_listener(i),this.once=t,this.priority=a,this.enabled=!0};a["msignal.Slot"]=ee,ee.__name__=["msignal","Slot"],ee.prototype={remove:function(){this.signal.remove(this.listener)},set_listener:function(e){return this.listener=e},__class__:ee};var ie=function(e,i,t,a){null==a&&(a=0),null==t&&(t=!1),ee.call(this,e,i,t,a)};a["msignal.Slot0"]=ie,ie.__name__=["msignal","Slot0"],ie.__super__=ee,ie.prototype=i(ee.prototype,{execute:function(){this.enabled&&(this.once&&this.remove(),this.listener())},__class__:ie});var te=function(e,i,t,a){null==a&&(a=0),null==t&&(t=!1),ee.call(this,e,i,t,a)};a["msignal.Slot1"]=te,te.__name__=["msignal","Slot1"],te.__super__=ee,te.prototype=i(ee.prototype,{execute:function(e){this.enabled&&(this.once&&this.remove(),null!=this.param&&(e=this.param),this.listener(e))},__class__:te});var ae=function(e,i,t,a){null==a&&(a=0),null==t&&(t=!1),ee.call(this,e,i,t,a)};a["msignal.Slot2"]=ae,ae.__name__=["msignal","Slot2"],ae.__super__=ee,ae.prototype=i(ee.prototype,{execute:function(e,i){this.enabled&&(this.once&&this.remove(),null!=this.param1&&(e=this.param1),null!=this.param2&&(i=this.param2),this.listener(e,i))},__class__:ae});var se=function(e,i){this.nonEmpty=!1,null==e&&null==i?this.nonEmpty=!1:null!=e&&(this.head=e,this.tail=null==i?se.NIL:i,this.nonEmpty=!0)};a["msignal.SlotList"]=se,se.__name__=["msignal","SlotList"],se.prototype={get_length:function(){if(!this.nonEmpty)return 0;if(this.tail==se.NIL)return 1;for(var e=0,i=this;i.nonEmpty;)++e,i=i.tail;return e},prepend:function(e){return new se(e,this)},append:function(e){if(null==e)return this;if(!this.nonEmpty)return new se(e);if(this.tail==se.NIL)return new se(e).prepend(this.head);for(var i=new se(this.head),t=i,a=this.tail;a.nonEmpty;)t=t.tail=new se(a.head),a=a.tail;return t.tail=new se(e),i},insertWithPriority:function(e){if(!this.nonEmpty)return new se(e);var i=e.priority;if(i>=this.head.priority)return this.prepend(e);for(var t=new se(this.head),a=t,s=this.tail;s.nonEmpty;){if(i>s.head.priority)return a.tail=s.prepend(e),t;a=a.tail=new se(s.head),s=s.tail}return a.tail=new se(e),t},filterNot:function(e){if(!this.nonEmpty||null==e)return this;if(_.compareMethods(this.head.listener,e))return this.tail;for(var i=new se(this.head),t=i,a=this.tail;a.nonEmpty;){if(_.compareMethods(a.head.listener,e))return t.tail=a.tail,i;t=t.tail=new se(a.head),a=a.tail}return this},contains:function(e){if(!this.nonEmpty)return!1;for(var i=this;i.nonEmpty;){if(_.compareMethods(i.head.listener,e))return!0;i=i.tail}return!1},find:function(e){if(!this.nonEmpty)return null;for(var i=this;i.nonEmpty;){if(_.compareMethods(i.head.listener,e))return i.head;i=i.tail}return null},__class__:se};var oe=function(){this.linkUpdateCount=0,this.combatants=[],this.roundCount=0,this.secondTempo=!1,this.s=0,this.c=0};a["troshx.components.Bout"]=oe,oe.__name__=["troshx","components","Bout"],oe.prototype={setStep:function(e){this.s=e},setupAllNewSideLinks:function(){for(var e=null,i=0,t=this.combatants.length;i<t;)for(var s=i++,a=s+1,o=this.combatants.length,r;a<o;)r=a++,this.combatants[s].sideIndex!=this.combatants[r].sideIndex&&(null==e?e=this.links=new re(this.combatants[s],this.combatants[r]):e=e.next=new re(this.combatants[s],this.combatants[r]));this.linkUpdateCount++},pushNewFightNode:function(e){var i=null,t=!1;if(null==e.targetLink)for(var s=0,o=this.combatants.length;s<o;){var n=s++,a=this.combatants[n];a.sideIndex!=e.sideIndex&&(i=new re(e,a),e.targetLink=i,null==a.targetLink&&(a.targetLink=i),null!=this.links&&(i.next=this.links),this.links=i,t=!0)}t&&this.linkUpdateCount++,this.combatants.push(e)},clearLinksWithCondition:function(e){for(var i=this.links,t=!1,a=null,s;null!=i;)s=i.next,e(i)&&(t=!0,null==a?this.links=s:a.next=s,i.a.targetLink==i&&(i.a.targetLink=null),i.b.targetLink==i&&(i.b.targetLink=null)),a=i,i=s;return t&&this.linkUpdateCount++,t},findLink:function(e,i){for(var t=this.links;null!=t;){if(t.a==e&&t.b==i||t.b==e&&t.a==i)return t;t=t.next}return null},findLinkedOpponents:function(e){for(var i=[],t=this.links;null!=t;)(t.a==e||t.b==e)&&i.push(t.a==e?t.b:t.a),t=t.next;return i},countLinkedOpponents:function(e){for(var i=0,t=this.links;null!=t;)(t.a==e||t.b==e)&&++i,t=t.next;return i},removeLinksFromAgainst:function(e,i){return this.clearLinksWithCondition(function(t){return t.a==e?0<=i.indexOf(t.b):t.b==e&&0<=i.indexOf(t.a)})},purgeDeadLinks:function(){return this.clearLinksWithCondition(function(e){return!!e.a.fight.dead||e.b.fight.dead})},step:function(e){0==e?this.s++:1==e?(this.s=0,this.c++):2==e&&(this.s=0,this.c=0,this.roundCount++)},__class__:oe};var ne=function(e,i,t){null==t&&(t=0),this.label=e,this.charSheet=i,this.fight=new le,this.sideIndex=t};a["troshx.components.FightNode"]=ne,ne.__name__=["troshx","components","FightNode"],ne.prototype={getTargetOpponent:function(){return null==this.targetLink?null:this.targetLink.a==this?this.targetLink.b:this.targetLink.a},__class__:ne};var re=function(e,i){this.reach=0,this.a=e,this.b=i,Object.defineProperty(this,"next",{enumerable:!1,iterable:!1,writable:!0,configurable:!1}),Object.defineProperty(this,"a",{enumerable:!1,iterable:!1,writable:!1,configurable:!1}),Object.defineProperty(this,"b",{enumerable:!1,iterable:!1,writable:!1,configurable:!1})};a["troshx.components.FightLink"]=re,re.__name__=["troshx","components","FightLink"],re.prototype={findNodeSide:function(e){return e==this.a?-1:e==this.b?1:0},__class__:re};var le=function(){this.kd=!1,this.KO=!1,this.lastAttacking=!1,this.orientation=0,this.defensiveManevers=[],this.attackManuevers=[],this.dead=!1,this.cp=0};a["troshx.components.FightState"]=le,le.__name__=["troshx","components","FightState"],le.prototype={__class__:le};var Re=function(){};a["troshx.core.BoutMessage"]=Re,Re.__name__=["troshx","core","BoutMessage"],Re.create=function(e,i){null==e&&(e=0);var t=new Re;return t.type=e,t.text=i,t},Re.prototype={__class__:Re};var de=function(e,i,t){null==t&&(t=""),this.label=e,this.savedData=i,this.description=t};a["troshx.core.CharSave"]=de,de.__name__=["troshx","core","CharSave"],de.prototype={__class__:de};var ce=function(){};a["troshx.core.IBodyChar"]=ce,ce.__name__=["troshx","core","IBodyChar"],ce.prototype={__class__:ce};var he=function(){};a["troshx.core.IBoutController"]=he,he.__name__=["troshx","core","IBoutController"],he.prototype={__class__:he};var ye=function(){};a["troshx.core.IBoutModel"]=ye,ye.__name__=["troshx","core","IBoutModel"],ye.prototype={__class__:ye};var ge=function(){};a["troshx.core.IManuever"]=ge,ge.__name__=["troshx","core","IManuever"];var pe=function(){};a["troshx.core.IUid"]=pe,pe.__name__=["troshx","core","IUid"],pe.prototype={__class__:pe};var ue=function(){this.replyTo=null,this.activeEnemyItem=null,this.activeEnemyZone=-1,this.activeEnemyBody=null,this.usingLeftLimb=!1,this.activeItem=null,this.typePreference=0};a["troshx.core.ManueverSpec"]=ue,ue.__name__=["troshx","core","ManueverSpec"],ue.prototype={resetPlayer:function(){this.typePreference=0,this.usingLeftLimb=!1,this.activeItem=null,this.activeEnemyItem=null,this.activeEnemyZone=-1},resetAll:function(){this.typePreference=0,this.usingLeftLimb=!1,this.activeItem=null,this.activeEnemyItem=null,this.activeEnemyBody=null,this.activeEnemyZone=-1},setNewEnemy:function(e){this.activeEnemyZone=-1,this.activeEnemyBody=e,this.activeEnemyItem=null},__class__:ue};var me=function(){this.stack=[]};a["troshx.core.ManueverStack"]=me,me.__name__=["troshx","core","ManueverStack"],me.prototype={reset:function(){this.stack.length=0},reverseOrder:function(){this.stack.reverse()},pushManuever:function(e){this.stack.push(e)},sortOnLowestToHighestReflex:function(){T.sort(this.stack,function(e,i){return e.reflexScore==i.reflexScore?0:e.reflexScore>i.reflexScore?1:-1})},sortOnHighestToLowestReflex:function(){T.sort(this.stack,function(e,i){return e.reflexScore==i.reflexScore?0:e.reflexScore>i.reflexScore?-1:1})},__class__:me};var fe=function(){};a["troshx.ds.IMatchArray"]=fe,fe.__name__=["troshx","ds","IMatchArray"],fe.prototype={__class__:fe};var be=function(){this.hash={},this.list=[]};a["troshx.ds.HashedArray"]=be,be.__name__=["troshx","ds","HashedArray"],be.__interfaces__=[fe],be.prototype={filter:function(e){this.list=this.list.filter(e),this.rehash()},rehash:function(){for(var e={},t=0,a=this.list.length;t<a;){var s=t++,i=this.list[s];e[i.get_uid()]=i}this.hash=e},add:function(e){var i=e.get_uid();if(!this.hashContains(e))this.hash[i]=e,this.list.push(e);else{var t=this.hash[i];t.updateAgainst(e)}},indexOf:function(e){for(var t=0,a=this.list.length;t<a;){var s=t++;if(this.list[s].get_uid()==e.get_uid())return s}return-1},delete:function(e){var i=e.get_uid();this.hashContains(e)?_.deleteField(this.hash,i):console.log("Warning: No item found to be removed for uid:"+e.get_uid());var t=this.indexOf(e);0<=t?this.list.splice(t,1):console.log("Warning: No item found to be removed for array index:"+t)},contains:function(e){return this.hashContains(e)},containsId:function(e){return Object.prototype.hasOwnProperty.call(this.hash,e)},hashContains:function(e){var i=this.hash,t=e.get_uid();return Object.prototype.hasOwnProperty.call(i,t)},findById:function(e){return _.field(this.hash,e)},listContains:function(e){return 0<=this.indexOf(e)},__class__:be};var Se=function(){this.list=[]};a["troshx.ds.IDMatchArray"]=Se,Se.__name__=["troshx","ds","IDMatchArray"],Se.__interfaces__=[fe],Se.prototype={filter:function(e){this.list=this.list.filter(e)},add:function(e){var i=e.get_uid(),t=this.getMatchingItem(e);if(null==t)this.list.push(e);else{t.updateAgainst(e);var a,s;e==t?s=!1:(a=this.list.indexOf(e),s=0<=a),s&&this.list.splice(a,1)}},delete:function(e){e.get_uid();this.contains(e)||console.log("Warning: No item found to be removed for uid:"+e.get_uid());var i=this.list.indexOf(e);0<=i?this.list.splice(i,1):console.log("Warning: No item found to be removed for array index:"+i)},contains:function(e){for(var t=0,a=this.list.length;t<a;){var s=t++;if(this.list[s].get_uid()==e.get_uid())return!0}return!1},splicedAgainst:function(e){for(var t=-1,s=null,o=0,n=this.list.length;o<n;){var r=o++,i=this.list[r];if(i.get_uid()==e.get_uid()){s=i,t=r;break}}return null!=s&&(0>=s.spliceAgainst(e)&&this.list.splice(t,1),!0)},getMatchingItem:function(e){for(var t=0,s=this.list.length;t<s;){var o=t++,i=this.list[o];if(i.get_uid()==e.get_uid())return i}return null},listContains:function(e){return 0<=this.list.indexOf(e)},get_length:function(){return this.list.length},__class__:Se};var xe=function(){};a["troshx.ds.IUpdateWith"]=xe,xe.__name__=["troshx","ds","IUpdateWith"],xe.prototype={__class__:xe};var Ae=function(){};a["troshx.ds.IValidable"]=Ae,Ae.__name__=["troshx","ds","IValidable"],Ae.prototype={__class__:Ae};var ve=function(e){this.value=e};a["troshx.ds.ValueHolder"]=ve,ve.__name__=["troshx","ds","ValueHolder"],ve.prototype={__class__:ve};var ze=function(e){this.value=e};a["troshx.ds.ValueHolder_Int"]=ze,ze.__name__=["troshx","ds","ValueHolder_Int"],ze.prototype={__class__:ze};var Te=function(e,i){this.name=e,this.costs=i,this.flags=0,this.clampRank=!1,this.multipleTimes=0,this.channels=0,this.superChannels=0};a["troshx.sos.core.BoonBane"]=Te,Te.__name__=["troshx","sos","core","BoonBane"],Te.prototype={isAvailableCharacterCreation:function(){return this.costs!=Te.COSTLESS_ARRAY},get_uid:function(){return this.name},__class__:Te};var Le=function(e,i){Te.call(this,e,i)};a["troshx.sos.core.Boon"]=Le,Le.__name__=["troshx","sos","core","Boon"],Le.__super__=Te,Le.prototype=i(Te.prototype,{getEmptyAssignInstance:function(){return new Ce},getAssign:function(e,i){var t=this.getEmptyAssignInstance(i);return t.boon=this,t.rank=e,t},__class__:Le});var we=function(){Le.call(this,"Allies",[1,5,10]),this.clampRank=!0,this.multipleTimes=-2};a["troshx.sos.bnb.Allies"]=we,we.__name__=["troshx","sos","bnb","Allies"],we.__super__=Le,we.prototype=i(Le.prototype,{getEmptyAssignInstance:function(){return new Ee},__class__:we});var Me=function(){};a["troshx.sos.bnb.IBuildUIFields"]=Me,Me.__name__=["troshx","sos","bnb","IBuildUIFields"];var Ie=function(){this._minRequired=0,this._canceled=!1,this._forcePermanent=!1,this.discount=0};a["troshx.sos.core.BoonBaneAssign"]=Ie,Ie.__name__=["troshx","sos","core","BoonBaneAssign"],Ie.__interfaces__=[pe],Ie.prototype={freeze:function(){},unfreezeAll:function(){},dontCountCost:function(){return!!this._canceled||this._forcePermanent},cleanup:function(){},cleanupUIArrays:function(){},onFurtherAdded:function(){},onRemoved:function(){},onInited:function(){},getQty:function(){return 1},getCost:function(){return 0},getCosting:function(e,i){return e.costs[i-1]},isValid:function(){return!0},getBoonOrBane:function(){return null},getUIFields:function(){return null},get_uid:function(){return""},__class__:Ie};var Ce=function(){Ie.call(this)};a["troshx.sos.core.BoonAssign"]=Ce,Ce.__name__=["troshx","sos","core","BoonAssign"],Ce.__interfaces__=[xe],Ce.__super__=Ie,Ce.prototype=i(Ie.prototype,{getMaxLength:function(e,i){return 0|(this._remainingCached+i*e)/e},clampLength:function(e,i){return null==i&&(i=1),e>=i?e:i},bitmaskIndexCanBeToggledAtCost:function(e,i,t){var a=this._remainingCached>=t;return!!(0!=(i&1<<e))||a},updateRemainingCache:function(e){this._remainingCached=e},get_uid:function(){return this.boon.name},getCost:function(e){return this.boon.costs[(2>e?1:e)-1]},getBaseCost:function(e){return this.boon.costs[(2>e?1:e)-1]},getBoonOrBane:function(){return this.boon},getUIFields:function(){return null},toString:function(){return"[BoonAssign: "+this.boon.name+"]"},updateAgainst:function(){},spliceAgainst:function(){return 0},__class__:Ce});var Ee=function(){this.__hasUIFields__=!0,this.majorPowerList=[],this.moderatePowerList=[],this.minorPowerList=[""],Ce.call(this)};a["troshx.sos.bnb.AlliesAssign"]=Ee,Ee.__name__=["troshx","sos","bnb","AlliesAssign"],Ee.__super__=Ce,Ee.prototype=i(Ce.prototype,{getQty:function(){return this.minorPowerList.length+this.moderatePowerList.length+this.majorPowerList.length},getMaxLengthCost:function(e,i){return i*e},getCost:function(){return this.getMaxLengthCost(1,this.minorPowerList.length)+this.getMaxLengthCost(5,this.moderatePowerList.length)+this.getMaxLengthCost(10,this.majorPowerList.length)},cleanupUIArrays:function(){var e=this.minorPowerList.length;this.minorPowerList=this.minorPowerList.slice(0,0|(this._remainingCached+(1<=e?e:1))/1),this.moderatePowerList=this.moderatePowerList.slice(0,0|(this._remainingCached+5*this.moderatePowerList.length)/5),this.majorPowerList=this.majorPowerList.slice(0,0|(this._remainingCached+10*this.majorPowerList.length)/10)},getUIFields:function(){var e=this.minorPowerList.length;return[{prop:"minorPowerList",minLength:0,maxLength:0|(this._remainingCached+(1<=e?e:1))/1,of:"String",defaultValue:"",type:"Array",label:"Minor Power List"},{prop:"moderatePowerList",minLength:0,maxLength:0|(this._remainingCached+5*this.moderatePowerList.length)/5,of:"String",defaultValue:"",type:"Array",label:"Moderate Power List"},{prop:"majorPowerList",minLength:0,maxLength:0|(this._remainingCached+10*this.majorPowerList.length)/10,of:"String",defaultValue:"",type:"Array",label:"Major Power List"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:Ee});var Pe=function(e,i){Te.call(this,e,i),this.isBane=!0};a["troshx.sos.core.Bane"]=Pe,Pe.__name__=["troshx","sos","core","Bane"],Pe.__super__=Te,Pe.prototype=i(Te.prototype,{getEmptyAssignInstance:function(){return new Be},getAssign:function(e,i){var t=this.getEmptyAssignInstance(i);return t.bane=this,t.rank=e,t},__class__:Pe});var ke=function(){Pe.call(this,"Bad Eyes",[4,6]),this.channels=1,this.flags=2};a["troshx.sos.bnb.BadEyes"]=ke,ke.__name__=["troshx","sos","bnb","BadEyes"],ke.__super__=Pe,ke.prototype=i(Pe.prototype,{__class__:ke});var He=function(){};a["troshx.sos.bnb.Banes"]=He,He.__name__=["troshx","sos","bnb","Banes"],He.getList=function(){return[new Ne,new Oe,new ke,new Fe,new ni,new We,new Ge,new Ve,new Ei,new ki,new Ue,new qe,new Ni,new Wi,new Vi,new Ze,new Ye,new Yi,new Ke,new je,new Qe,new Xe,new it,new $e,new ot,new rt,new Je,new Rt,new ct,new ei,new ii,new yt,new ti,new ai,new si,new oi]},He.prototype={__class__:He};var Be=function(){Ie.call(this)};a["troshx.sos.core.BaneAssign"]=Be,Be.__name__=["troshx","sos","core","BaneAssign"],Be.__interfaces__=[xe],Be.__super__=Ie,Be.prototype=i(Ie.prototype,{get_uid:function(){return this.bane.name},getCost:function(e){return this.bane.costs[(2>e?1:e)-1]},getBaseCost:function(e){return this.bane.costs[(2>e?1:e)-1]},getBoonOrBane:function(){return this.bane},getUIFields:function(){return null},toString:function(){return"[BaneAssign: "+this.bane.name+"]"},updateAgainst:function(){},spliceAgainst:function(){return 0},__class__:Be});var De=function(){this.__hasUIFields__=!0,this.notes="",Be.call(this)};a["troshx.sos.bnb.BaneNotesAssign"]=De,De.__name__=["troshx","sos","bnb","BaneNotesAssign"],De.__super__=Be,De.prototype=i(Be.prototype,{getUIFields:function(){return[{prop:"notes",type:"textarea",label:"Notes"}]},__class__:De});var Ne=function(){Pe.call(this,"Arrow Magnet",[3])};a["troshx.sos.bnb.ArrowMagnet"]=Ne,Ne.__name__=["troshx","sos","bnb","ArrowMagnet"],Ne.__super__=Pe,Ne.prototype=i(Pe.prototype,{__class__:Ne});var Oe=function(){Pe.call(this,"Bad Ears",[2,4]),this.channels=2,this.flags=2};a["troshx.sos.bnb.BadEars"]=Oe,Oe.__name__=["troshx","sos","bnb","BadEars"],Oe.__super__=Pe,Oe.prototype=i(Pe.prototype,{__class__:Oe});var Fe=function(){Pe.call(this,"Bad Reputation",[3,6,9])};a["troshx.sos.bnb.BadReputation"]=Fe,Fe.__name__=["troshx","sos","bnb","BadReputation"],Fe.__super__=Pe,Fe.prototype=i(Pe.prototype,{__class__:Fe});var We=function(){Pe.call(this,"Bigoted",[5])};a["troshx.sos.bnb.Bigoted"]=We,We.__name__=["troshx","sos","bnb","Bigoted"],We.__super__=Pe,We.prototype=i(Pe.prototype,{__class__:We});var Ge=function(){Pe.call(this,"Blind",[20]),this.flags=2,this.superChannels=65};a["troshx.sos.bnb.Blind"]=Ge,Ge.__name__=["troshx","sos","bnb","Blind"],Ge.__super__=Pe,Ge.prototype=i(Pe.prototype,{__class__:Ge});var Ve=function(){Pe.call(this,"Braggart",[3])};a["troshx.sos.bnb.Braggart"]=Ve,Ve.__name__=["troshx","sos","bnb","Braggart"],Ve.__super__=Pe,Ve.prototype=i(Pe.prototype,{__class__:Ve});var Ue=function(){Pe.call(this,"Complete Monster",[10]),this.channels=256};a["troshx.sos.bnb.CompleteMonster"]=Ue,Ue.__name__=["troshx","sos","bnb","CompleteMonster"],Ue.__super__=Pe,Ue.prototype=i(Pe.prototype,{__class__:Ue});var qe=function(){Pe.call(this,"Craven",[4,8]),this.channels=128};a["troshx.sos.bnb.Craven"]=qe,qe.__name__=["troshx","sos","bnb","Craven"],qe.__super__=Pe,qe.prototype=i(Pe.prototype,{__class__:qe});var Ze=function(){Pe.call(this,"Enemies",[3,10,15])};a["troshx.sos.bnb.Enemies"]=Ze,Ze.__name__=["troshx","sos","bnb","Enemies"],Ze.__super__=Pe,Ze.prototype=i(Pe.prototype,{__class__:Ze});var Ye=function(){Pe.call(this,"Facial Deformity",[2,4,8]),this.flags=2};a["troshx.sos.bnb.FacialDeformity"]=Ye,Ye.__name__=["troshx","sos","bnb","FacialDeformity"],Ye.__super__=Pe,Ye.prototype=i(Pe.prototype,{__class__:Ye});var Ke=function(){Pe.call(this,"Frail",[8]),this.channels=32,this.staticModifiers=[Kt.create(12,"Frail",-1)]};a["troshx.sos.bnb.Frail"]=Ke,Ke.__name__=["troshx","sos","bnb","Frail"],Ke.__super__=Pe,Ke.prototype=i(Pe.prototype,{__class__:Ke});var je=function(){Pe.call(this,"Haemophilia",[8]),this.flags=2};a["troshx.sos.bnb.Haemophilia"]=je,je.__name__=["troshx","sos","bnb","Haemophilia"],je.__super__=Pe,je.prototype=i(Pe.prototype,{__class__:je});var Xe=function(){Pe.call(this,"Hothead",[3])};a["troshx.sos.bnb.Hothead"]=Xe,Xe.__name__=["troshx","sos","bnb","Hothead"],Xe.__super__=Pe,Xe.prototype=i(Pe.prototype,{__class__:Xe});var Qe=function(){Pe.call(this,"Honorable",[5]),this.channels=256};a["troshx.sos.bnb.Honorable"]=Qe,Qe.__name__=["troshx","sos","bnb","Honorable"],Qe.__super__=Pe,Qe.prototype=i(Pe.prototype,{__class__:Qe});var $e=function(){Pe.call(this,"Mute",[5,8]),this.flags=2};a["troshx.sos.bnb.Mute"]=$e,$e.__name__=["troshx","sos","bnb","Mute"],$e.__super__=Pe,$e.prototype=i(Pe.prototype,{__class__:$e});var Je=function(){Pe.call(this,"One-Eyed",[10]),this.flags=2,this.channels=64;var e=Kt.create(13,"One-Eyed",-1);e.next=Kt.create(15,"One-Eyed",-2),this.staticModifiers=[e]};a["troshx.sos.bnb.OneEyed"]=Je,Je.__name__=["troshx","sos","bnb","OneEyed"],Je.__super__=Pe,Je.prototype=i(Pe.prototype,{__class__:Je});var ei=function(){Pe.call(this,"Sheltered",[2,4,6]),this.flags=1,this.channels=16,this.staticModifiers=[Kt.create(20,"Sheltered (i)",-1),Kt.create(20,"Sheltered (ii)",-2),Kt.create(20,"Sheltered (iii)",-3)]};a["troshx.sos.bnb.Sheltered"]=ei,ei.__name__=["troshx","sos","bnb","Sheltered"],ei.__super__=Pe,ei.prototype=i(Pe.prototype,{__class__:ei});var ii=function(){Pe.call(this,"Short",[8,15]),this.channels=512;var e=Kt.create(14,"Short (i)",-1);e.next=Kt.create(9,"Short (i)",-1);var i=Kt.create(14,"Short (ii)",-2);i.next=Kt.create(9,"Short (ii)",-2),this.staticModifiers=[e,i]};a["troshx.sos.bnb.Short"]=ii,ii.__name__=["troshx","sos","bnb","Short"],ii.__super__=Pe,ii.prototype=i(Pe.prototype,{__class__:ii});var ti=function(){Pe.call(this,"Technologically Impaired",[5])};a["troshx.sos.bnb.TechnologicallyImpaired"]=ti,ti.__name__=["troshx","sos","bnb","TechnologicallyImpaired"],ti.__super__=Pe,ti.prototype=i(Pe.prototype,{__class__:ti});var ai=function(){Pe.call(this,"Unhappily Married",[1,2,3])};a["troshx.sos.bnb.UnhappilyMarried"]=ai,ai.__name__=["troshx","sos","bnb","UnhappilyMarried"],ai.__super__=Pe,ai.prototype=i(Pe.prototype,{__class__:ai});var si=function(){Pe.call(this,"Virtuous",[5])};a["troshx.sos.bnb.Virtuous"]=si,si.__name__=["troshx","sos","bnb","Virtuous"],si.__super__=Pe,si.prototype=i(Pe.prototype,{__class__:si});var oi=function(){Pe.call(this,"Wanted",[5,10,15])};a["troshx.sos.bnb.Wanted"]=oi,oi.__name__=["troshx","sos","bnb","Wanted"],oi.__super__=Pe,oi.prototype=i(Pe.prototype,{__class__:oi});var ni=function(){Pe.call(this,"Barren/Sterility",[1,3]),this.flags=2,this.conditions=[null,new li]};a["troshx.sos.bnb.BarrenOrSterility"]=ni,ni.__name__=["troshx","sos","bnb","BarrenOrSterility"],ni.__super__=Pe,ni.prototype=i(Pe.prototype,{__class__:ni});var ri=function(){};a["troshx.sos.core.BoonBaneCondition"]=ri,ri.__name__=["troshx","sos","core","BoonBaneCondition"],ri.prototype={valid:function(){return!0},__class__:ri};var li=function(){ri.call(this)};a["troshx.sos.bnb.EunuchCondition"]=li,li.__name__=["troshx","sos","bnb","EunuchCondition"],li.__super__=ri,li.prototype=i(ri.prototype,{valid:function(e){return 0==e.gender},__class__:li});var Ri=function(){};a["troshx.sos.bnb.Boons"]=Ri,Ri.__name__=["troshx","sos","bnb","Boons"],Ri.getList=function(){return[new we,new ci,new hi,new yi,new gi,new pi,new _i,new ui,new mi,new qi,new fi,new Ki,new bi,new Xi,new Si,new xi,new Ai,new vi,new Qi,new zi,new Ji,new at,new Ti,new Li,new Ii,new Ci,new wi,new Mi]},Ri.prototype={__class__:Ri};var di=function(){this.notes="",Ce.call(this)};a["troshx.sos.bnb.BoonNotesAssign"]=di,di.__name__=["troshx","sos","bnb","BoonNotesAssign"],di.__super__=Ce,di.prototype=i(Ce.prototype,{getUIFields:function(){return[]},__class__:di});var ci=function(){Le.call(this,"Ambidextrous",[3]),this.flags=1};a["troshx.sos.bnb.Ambidextrous"]=ci,ci.__name__=["troshx","sos","bnb","Ambidextrous"],ci.__super__=Le,ci.prototype=i(Le.prototype,{__class__:ci});var hi=function(){Le.call(this,"Animal Affinity",[2,4,6])};a["troshx.sos.bnb.AnimalAffinity"]=hi,hi.__name__=["troshx","sos","bnb","AnimalAffinity"],hi.__super__=Le,hi.prototype=i(Le.prototype,{__class__:hi});var yi=function(){Le.call(this,"Beautiful",[3,6])};a["troshx.sos.bnb.Beautiful"]=yi,yi.__name__=["troshx","sos","bnb","Beautiful"],yi.__super__=Le,yi.prototype=i(Le.prototype,{__class__:yi});var gi=function(){Le.call(this,"Berserker",[8,12]);var e=Kt.create(13,"Berserker",4);this.staticModifiers=[e,e]};a["troshx.sos.bnb.Berserker"]=gi,gi.__name__=["troshx","sos","bnb","Berserker"],gi.__super__=Le,gi.prototype=i(Le.prototype,{__class__:gi});var pi=function(){Le.call(this,"Bloodthirsty",[4])};a["troshx.sos.bnb.Bloodthirsty"]=pi,pi.__name__=["troshx","sos","bnb","Bloodthirsty"],pi.__super__=Le,pi.prototype=i(Le.prototype,{__class__:pi});var _i=function(){Le.call(this,"Brave",[3])};a["troshx.sos.bnb.Brave"]=_i,_i.__name__=["troshx","sos","bnb","Brave"],_i.__super__=Le,_i.prototype=i(Le.prototype,{__class__:_i});var ui=function(){Le.call(this,"Contacts",[1,4,6,8])};a["troshx.sos.bnb.Contacts"]=ui,ui.__name__=["troshx","sos","bnb","Contacts"],ui.__super__=Le,ui.prototype=i(Le.prototype,{__class__:ui});var mi=function(){Le.call(this,"Direction Sense",[3])};a["troshx.sos.bnb.DirectionSense"]=mi,mi.__name__=["troshx","sos","bnb","DirectionSense"],mi.__super__=Le,mi.prototype=i(Le.prototype,{__class__:mi});var fi=function(){Le.call(this,"Famous",[2,4])};a["troshx.sos.bnb.Famous"]=fi,fi.__name__=["troshx","sos","bnb","Famous"],fi.__super__=Le,fi.prototype=i(Le.prototype,{__class__:fi});var bi=function(){Le.call(this,"Folks Back Home",[3,6,8])};a["troshx.sos.bnb.FolksBackHome"]=bi,bi.__name__=["troshx","sos","bnb","FolksBackHome"],bi.__super__=Le,bi.prototype=i(Le.prototype,{__class__:bi});var Si=function(){Le.call(this,"Good Ears",[3]),this.channels=2};a["troshx.sos.bnb.GoodEars"]=Si,Si.__name__=["troshx","sos","bnb","GoodEars"],Si.__super__=Le,Si.prototype=i(Le.prototype,{__class__:Si});var xi=function(){Le.call(this,"Good Eyes",[3]),this.channels=1};a["troshx.sos.bnb.GoodEyes"]=xi,xi.__name__=["troshx","sos","bnb","GoodEyes"],xi.__super__=Le,xi.prototype=i(Le.prototype,{__class__:xi});var Ai=function(){Le.call(this,"Good Nose",[3]),this.channels=4};a["troshx.sos.bnb.GoodNose"]=Ai,Ai.__name__=["troshx","sos","bnb","GoodNose"],Ai.__super__=Le,Ai.prototype=i(Le.prototype,{__class__:Ai});var vi=function(){Le.call(this,"Hale and Hearty",[2,4])};a["troshx.sos.bnb.HaleAndHearty"]=vi,vi.__name__=["troshx","sos","bnb","HaleAndHearty"],vi.__super__=Le,vi.prototype=i(Le.prototype,{__class__:vi});var zi=function(){Le.call(this,"Known for Virtue",[5])};a["troshx.sos.bnb.KnownForVirtue"]=zi,zi.__name__=["troshx","sos","bnb","KnownForVirtue"],zi.__super__=Le,zi.prototype=i(Le.prototype,{__class__:zi});var Ti=function(){Le.call(this,"Natural Born Killer",[6,12,18]),this.staticModifiers=[Kt.create(13,"Natural Born Killer (i)",1),Kt.create(13,"Natural Born Killer (ii)",2),Kt.create(13,"Natural Born Killer (iii)",3)]};a["troshx.sos.bnb.NaturalBornKiller"]=Ti,Ti.__name__=["troshx","sos","bnb","NaturalBornKiller"],Ti.__super__=Le,Ti.prototype=i(Le.prototype,{__class__:Ti});var Li=function(){Le.call(this,"Natural Leader",[3])};a["troshx.sos.bnb.NaturalLeader"]=Li,Li.__name__=["troshx","sos","bnb","NaturalLeader"],Li.__super__=Le,Li.prototype=i(Le.prototype,{__class__:Li});var wi=function(){Le.call(this,"Tall",[8,12]),this.flags=1,this.channels=512,this.staticModifiers=[null,Kt.create(14,"Tall",1)]};a["troshx.sos.bnb.Tall"]=wi,wi.__name__=["troshx","sos","bnb","Tall"],wi.__super__=Le,wi.prototype=i(Le.prototype,{__class__:wi});var Mi=function(){Le.call(this,"True Grit",[2,4,6]),this.flags=1,this.channels=16,this.staticModifiers=[Kt.create(20,"True Grit (i)",1),Kt.create(20,"True Grit (ii)",2),Kt.create(20,"True Grit (iii)",3)]};a["troshx.sos.bnb.TrueGrit"]=Mi,Mi.__name__=["troshx","sos","bnb","TrueGrit"],Mi.__super__=Le,Mi.prototype=i(Le.prototype,{__class__:Mi});var Ii=function(){Le.call(this,"Rich",[1,3,5]),this.channels=8,this.flags=1,this.staticModifiers=[Kt.create(19,"Rich (i)",0,1.1),Kt.create(19,"Rich (ii)",0,1.5),Kt.create(19,"Rich (iii)",0,2)]};a["troshx.sos.bnb.Rich"]=Ii,Ii.__name__=["troshx","sos","bnb","Rich"],Ii.__super__=Le,Ii.prototype=i(Le.prototype,{__class__:Ii});var Ci=function(){Le.call(this,"Robust",[8]),this.channels=32,this.staticModifiers=[Kt.create(12,"Robust",1)]};a["troshx.sos.bnb.Robust"]=Ci,Ci.__name__=["troshx","sos","bnb","Robust"],Ci.__super__=Le,Ci.prototype=i(Le.prototype,{__class__:Ci});var Ei=function(){Pe.call(this,"Brain Damage",[4,8]),this.flags=2,this.multipleTimes=-2,this.clampRank=!0};a["troshx.sos.bnb.BrainDamage"]=Ei,Ei.__name__=["troshx","sos","bnb","BrainDamage"],Ei.__super__=Pe,Ei.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(e){return new Pi(e)},__class__:Ei});var Pi=function(e){this.__hasUIFields__=!0,this.intModifier=Kt.create(6,"Brain Damage",0),this.count2=0,this.count1=0,Be.call(this),this.char=e,this.oldWound=new rt().getAssign(0,e),this.mute=new $e().getAssign(0,e),this.lastingPain=new it().getAssign(0,e),this.badEyes=new ke().getAssign(0,e),this.badEars=new Oe().getAssign(0,e),this.blind=new Ge().getAssign(0,e),this.oneEyed=new Je().getAssign(0,e)};a["troshx.sos.bnb.BrainDamageAssign"]=Pi,Pi.__name__=["troshx","sos","bnb","BrainDamageAssign"],Pi.__super__=Be,Pi.prototype=i(Be.prototype,{callbackUITrigger:function(e,i){return this.execute("count1"==i?0:1),this.baneQueue},gainBane:function(e,i){var t=e.bane.clampRank?1:i;e.rank>=t&&(t=e.rank),e.rank=t,e._minRequired=t,e.discount=e._costCached=e.getCost(t),this.baneQueue.push(e)},execute:function(e){this._minRequired=1;var i;if(0==e?(this.count1++,i=0):(this.count2++,i=2),this.char.ingame&&(this.intModifier.add-=(0|Math.random()*(0==e?2:5))+1,0!=this.intModifier.add&&!this.char.hasStaticModifier(this.intModifier))){var a=this.char,s=this.intModifier;if(null!=s){var o=a.staticModifierTable[s.index];o.push(s);for(var n=s.next;null!=n;)o=a.staticModifierTable[n.index],o.push(n),n=n.next}}var r=this.char.banes,l=this.oldWound.get_uid(),R=_.field(r.hash,l),d=this.char.banes,c=this.lastingPain.get_uid(),h=_.field(d.hash,c);R==this.oldWound&&(R=null),h==this.lastingPain&&(h=null),this.baneQueue=[];var y=(0|10*Math.random())+i+1;switch(y){case 1:break;case 2:break;case 3:break;case 4:0==this.blind.rank&&this.gainBane(this.badEyes,1);break;case 5:this.gainBane(this.badEars,2);break;case 6:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.badEars,1);break;case 7:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.badEars,2);break;case 8:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),0==this.blind.rank&&this.gainBane(this.oneEyed,1);break;case 9:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.mute,1);break;case 10:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.lastingPain.inflictRandomMinor(),1),null!=h&&this.lastingPain.mergeWith(h);break;case 11:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.lastingPain.inflictRandomMinor(),1),null!=h&&this.lastingPain.mergeWith(h),this.char.ingame&&(this.char.intelligence-=2);break;case 12:this.gainBane(this.oldWound.inflictRandom(),1),null!=R&&this.oldWound.mergeWith(R),this.gainBane(this.lastingPain.inflictRandomMajor(),2),null!=h&&this.lastingPain.mergeWith(h),this.gainBane(this.blind,1);break;default:console.log("Warning, unforeseen roll index number detected: "+y);}},getCost:function(){return 4*this.count1+8*this.count2},getUIFields:function(){return[{prop:"count1",label:"Trigger Brain Damage (4)",type:"ButtonCounter",callback:t(this,this.callbackUITrigger),preventDefault:!0},{prop:"count2",label:"Trigger Brain Damage (8)",type:"ButtonCounter",callback:t(this,this.callbackUITrigger),preventDefault:!0}]},__class__:Pi});var ki=function(){Pe.call(this,"Broken Limb",Te.COSTLESS_ARRAY),this.flags=2,this.multipleTimes=-2};a["troshx.sos.bnb.BrokenLimb"]=ki,ki.__name__=["troshx","sos","bnb","BrokenLimb"],ki.__super__=Pe,ki.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(){var e=new Hi;return e},__class__:ki});var Hi=function(){this.__hasUIFields__=!0,this.affectedLimbs=0,Be.call(this);var e=new Di(this);this.situationalModifiers=[e]};a["troshx.sos.bnb.BrokenLimbAssign"]=Hi,Hi.__name__=["troshx","sos","bnb","BrokenLimbAssign"],Hi.__super__=Be,Hi.prototype=i(Be.prototype,{isValid:function(){return 0<this.affectedLimbs},getCost:function(e){return this.getQty()*Be.prototype.getCost.call(this,e)},getQty:function(){var e=0;return e+=0==(1&this.affectedLimbs)?0:1,e+=0==(2&this.affectedLimbs)?0:1,e+=0==(4&this.affectedLimbs)?0:1,e+=0==(8&this.affectedLimbs)?0:1,e},getUIFields:function(){return[{prop:"affectedLimbs",type:"Bitmask",labels:["Left Arm","Right Arm","Left Leg","Right Leg"],label:"Affected Limbs"}]},__class__:Hi});var Bi=function(e,i){this.index=e,this.name=i};a["troshx.sos.core.SituationalCharModifier"]=Bi,Bi.__name__=["troshx","sos","core","SituationalCharModifier"],Bi.prototype={get_name:function(){return this.name},_setIndex:function(e){this.index=e},getModifiedValueMultiply:function(e,i,t){return t},getModifiedValueAdd:function(e,i,t){return t},__class__:Bi};var Di=function(e){Bi.call(this,9,"Broken Limb"),this.current=e};a["troshx.sos.bnb.BrokenLimbMOBModifier"]=Di,Di.__name__=["troshx","sos","bnb","BrokenLimbMOBModifier"],Di.__super__=Bi,Di.prototype=i(Bi.prototype,{getModifiedValueMultiply:function(e,t,a){if(0!=(12&this.current.affectedLimbs)){var s=e.inventory.wornArmor,o=0,n=0,r=e.leftHanded;n|=0==(4&this.current.affectedLimbs)?0:e.leftHanded?1:2,n|=0==(8&this.current.affectedLimbs)?0:e.leftHanded?2:1;for(var l=0,R=s.length;l<R;)var d=l++,i=s[d];if(0==o)return 1>a?a:1;n&=~o;var c=t,h=0==n?.25:.125;return c*h<a?c*h:a}return a},__class__:Di});var Ni=function(){Pe.call(this,"Crippled Limb/Appendage",[8]),this.flags=2,this.multipleTimes=-2};a["troshx.sos.bnb.CrippledLimb"]=Ni,Ni.__name__=["troshx","sos","bnb","CrippledLimb"],Ni.__super__=Pe,Ni.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(){return new Oi},__class__:Ni});var Oi=function(){this.__hasUIFields__=!0,this.affectedLimbs=0,Be.call(this);var e=new Fi(this);this.situationalModifiers=[e]};a["troshx.sos.bnb.CrippledLimbAssign"]=Oi,Oi.__name__=["troshx","sos","bnb","CrippledLimbAssign"],Oi.__super__=Be,Oi.prototype=i(Be.prototype,{isValid:function(){return 0<this.getQty()},getCost:function(e){return this.getQty()*Be.prototype.getCost.call(this,e)},getQty:function(){var e=0;return e+=0==(1&this.affectedLimbs)?0:1,e+=0==(2&this.affectedLimbs)?0:1,e+=0==(4&this.affectedLimbs)?0:1,e+=0==(8&this.affectedLimbs)?0:1,e},getUIFields:function(){return[{prop:"affectedLimbs",type:"Bitmask",labels:["Left Arm","Right Arm","Left Leg","Right Leg"],label:"Affected Limbs"}]},__class__:Oi});var Fi=function(e){Bi.call(this,9,"Crippled Limb/Appendage"),this.current=e};a["troshx.sos.bnb.CrippedLimbMOBModifier"]=Fi,Fi.__name__=["troshx","sos","bnb","CrippedLimbMOBModifier"],Fi.__super__=Bi,Fi.prototype=i(Bi.prototype,{getModifiedValueMultiply:function(e,i,t){if(0!=(12&this.current.affectedLimbs)){var a=12==this.current.affectedLimbs?.25:.5,s=i;return s*a<t?s*a:t}return t},__class__:Fi});var Wi=function(){Pe.call(this,"Debt",[2,4,8])};a["troshx.sos.bnb.Debt"]=Wi,Wi.__name__=["troshx","sos","bnb","Debt"],Wi.__super__=Pe,Wi.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(){return new Gi},__class__:Wi});var Gi=function(){this.__hasUIFields__=!0,this.currentOwed=new Ft,Be.call(this)};a["troshx.sos.bnb.DebtAssign"]=Gi,Gi.__name__=["troshx","sos","bnb","DebtAssign"],Gi.__super__=Be,Gi.prototype=i(Be.prototype,{getUIFields:function(){return[{prop:"currentOwed",type:"Money",label:"Current Owed"}]},__class__:Gi});var Vi=function(){Pe.call(this,"Dire Past",[0]),this.flags=3};a["troshx.sos.bnb.DirePast"]=Vi,Vi.__name__=["troshx","sos","bnb","DirePast"],Vi.__super__=Pe,Vi.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(e){return new Ui(e)},__class__:Vi});var Ui=function(e){this.__hasUIFields__=!0,this.notes="",Be.call(this),this.char=e,this.uiActivated=this.char.direPast};a["troshx.sos.bnb.DirePastAssign"]=Ui,Ui.__name__=["troshx","sos","bnb","DirePastAssign"],Ui.__super__=Be,Ui.prototype=i(Be.prototype,{execute:function(){if(!this.char.direPast){this._forcePermanent=!0,this.char.direPast=!0;for(var e=this.char.banes.list,t=0,a=e.length;t<a;){var s=t++,i=e[s];i._minRequired=i.rank,i.discount=i._costCached=i.getCost(i.rank),i.freeze()}}},getUIFields:function(){return[{prop:"notes",type:"textarea",label:"Notes"},{prop:"uiActivated",type:"ButtonPermaPress",label:"Trigger",descriptionDone:"Done!",description:"Warning: For GM use only. Once you trigger Dire Past, all existing banes (assigned by GM based on your given 'story') are baked permanently at their current levels and can no longer be canceled/reduced during character creation! However, you will gain 10 free points to spend on Boons.",callback:t(this,this.execute)}]},__class__:Ui});var qi=function(){Le.call(this,"Estate",[10]),this.flags=1,this.multipleTimes=-2};a["troshx.sos.bnb.Estate"]=qi,qi.__name__=["troshx","sos","bnb","Estate"],qi.__super__=Le,qi.prototype=i(Le.prototype,{getEmptyAssignInstance:function(e){return new Zi(e)},__class__:qi});var Zi=function(e){this.__hasUIFields__=!0,this.notes="",this.estates=[Zi.getEmptyWealthAssign()],Ce.call(this),this.char=e};a["troshx.sos.bnb.EstateAssign"]=Zi,Zi.__name__=["troshx","sos","bnb","EstateAssign"],Zi.getEmptyWealthAssign=function(){return{name:"",liquidate:!1,uid:Zi.COUNT++,worth:2}},Zi.__super__=Ce,Zi.prototype=i(Ce.prototype,{getQty:function(){return this.estates.length},getCost:function(){return 10*this.estates.length},cleanupUIArrays:function(){this.estates=this.estates.slice(0,0|(this._remainingCached+10*this.estates.length)/10)},getUIFields:function(){return[{prop:"estates",label:"Estates",defaultValue:Zi.getEmptyWealthAssign,fixedWorth:!0,disableLiquidity:!this.char.ingame,minLength:1,maxLength:0|(this._remainingCached+10*this.estates.length)/10,of:"WealthAssetAssign",type:"Array"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:Zi});var Yi=function(){Pe.call(this,"Fat",[5]);var e=Kt.create(9,"Fat",-2),i;i=e,e=e.next=Kt.create(17,"Fat",-2),this.staticModifiers=[i]};a["troshx.sos.bnb.Fat"]=Yi,Yi.__name__=["troshx","sos","bnb","Fat"],Yi.__super__=Pe,Yi.prototype=i(Pe.prototype,{__class__:Yi});var Ki=function(){Le.call(this,"Favor",[1,3]),this.clampRank=!0,this.multipleTimes=-2};a["troshx.sos.bnb.Favor"]=Ki,Ki.__name__=["troshx","sos","bnb","Favor"],Ki.__super__=Le,Ki.prototype=i(Le.prototype,{getEmptyAssignInstance:function(){return new ji},__class__:Ki});var ji=function(){this.__hasUIFields__=!0,this.notes="",this.greaterFavors=[],this.simpleFavors=[""],Ce.call(this)};a["troshx.sos.bnb.FavorAssign"]=ji,ji.__name__=["troshx","sos","bnb","FavorAssign"],ji.__super__=Ce,ji.prototype=i(Ce.prototype,{isValid:function(){return 1<=this.getQty()},getQty:function(){return this.simpleFavors.length+this.greaterFavors.length},getCost:function(){return this.simpleFavors.length+3*this.greaterFavors.length},cleanupUIArrays:function(){var e=this.simpleFavors.length;this.simpleFavors=this.simpleFavors.slice(0,0|(this._remainingCached+(1<=e?e:1))/1),this.greaterFavors=this.greaterFavors.slice(0,0|(this._remainingCached+3*this.greaterFavors.length)/3)},getUIFields:function(){var e=this.simpleFavors.length;return[{prop:"simpleFavors",minLength:0,maxLength:0|(this._remainingCached+(1<=e?e:1))/1,of:"String",defaultValue:"",type:"Array",label:"Simple Favors"},{prop:"greaterFavors",minLength:0,maxLength:0|(this._remainingCached+3*this.greaterFavors.length)/3,of:"String",defaultValue:"",type:"Array",label:"Greater Favors"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:ji});var Xi=function(){Le.call(this,"Follower",[5])};a["troshx.sos.bnb.Follower"]=Xi,Xi.__name__=["troshx","sos","bnb","Follower"],Xi.__super__=Le,Xi.prototype=i(Le.prototype,{__class__:Xi});var Qi=function(){Le.call(this,"Impressive Voice",[2]),this.multipleTimes=3};a["troshx.sos.bnb.ImpressiveVoice"]=Qi,Qi.__name__=["troshx","sos","bnb","ImpressiveVoice"],Qi.__super__=Le,Qi.prototype=i(Le.prototype,{getEmptyAssignInstance:function(){return new $i},__class__:Qi});var $i=function(){this.__hasUIFields__=!0,this.voiceQualities=0,Ce.call(this)};a["troshx.sos.bnb.ImpressiveVoiceAssign"]=$i,$i.__name__=["troshx","sos","bnb","ImpressiveVoiceAssign"],$i.__super__=Ce,$i.prototype=i(Ce.prototype,{isValid:function(){return 0!=(7&this.voiceQualities)},canBeToggled:function(e){var i=0!=(this.voiceQualities&1<<e),t=2<=this._remainingCached;return!!i||t},getQty:function(){var e=0;return e+=0==(1&this.voiceQualities)?0:1,e+=0==(2&this.voiceQualities)?0:1,e+=0==(4&this.voiceQualities)?0:1,e},getCost:function(){return 2*this.getQty()},getUIFields:function(){return[{prop:"voiceQualities",type:"Bitmask",labels:["Powerful","Grating","Soothing"],validateOptionFunc:t(this,this.canBeToggled),label:"Voice Qualities"}]},__class__:$i});var Ji=function(){Le.call(this,"Language",[1,2,3]),this.customCostInnerSlashes="|/",this.multipleTimes=-2};a["troshx.sos.bnb.Language"]=Ji,Ji.__name__=["troshx","sos","bnb","Language"],Ji.__super__=Le,Ji.prototype=i(Le.prototype,{getEmptyAssignInstance:function(e){return new et(e)},__class__:Ji});var et=function(e){this.__hasUIFields__=!0,this.notes="",this.ingameLanguages=[],this.polyglotLanguages=[],this.secondLanguage=[],this.startingLanguages=[""],Ce.call(this),this.char=e};a["troshx.sos.bnb.LanguageAssign"]=et,et.__name__=["troshx","sos","bnb","LanguageAssign"],et.__super__=Ce,et.prototype=i(Ce.prototype,{getQty:function(){return this.startingLanguages.length+this.secondLanguage.length+this.polyglotLanguages.length+this.ingameLanguages.length},getRankCost:function(e){return 1<e?3==e?3:2:1},getCost:function(e){return(1<this.startingLanguages.length?this.startingLanguages.length-1:0)+(1<e?3==e?3:2:1)},cleanupUIArrays:function(){this.startingLanguages=this.startingLanguages.slice(0,0|(this._remainingCached+this.startingLanguages.length)/1),this.secondLanguage=this.secondLanguage.slice(0,2==this.rank?1:0),this.polyglotLanguages=this.polyglotLanguages.slice(0,3<=this.rank?this.char.get_INT()+2:0),this.ingameLanguages=this.ingameLanguages.slice(0,this.char.ingame?null:0)},getUIFields:function(){var e={prop:"startingLanguages",minLength:2<=this.rank?0:1,label:"Starting Languages #1",maxLength:0|(this._remainingCached+this.startingLanguages.length)/1,of:"String",defaultValue:"",type:"Array"},i=2==this.rank?1:0,t=3<=this.rank?this.char.get_INT()+2:0;return[e,{prop:"secondLanguage",label:"2nd Starting Language #2",maxLength:i,of:"String",defaultValue:"",type:"Array"},{prop:"polyglotLanguages",label:"Starting Polyglot Languages #3",maxLength:t,of:"String",defaultValue:"",type:"Array"},{prop:"ingameLanguages",maxLength:this.char.ingame?null:0,of:"String",defaultValue:"",type:"Array",label:"Ingame Languages"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:et});var it=function(){Pe.call(this,"Lasting Pain",[4,8]),this.flags=2,this.multipleTimes=-2,this.clampRank=!0};a["troshx.sos.bnb.LastingPain"]=it,it.__name__=["troshx","sos","bnb","LastingPain"],it.__super__=Pe,it.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(e){return new tt(e)},__class__:it});var tt=function(e){this.__hasUIFields__=!0,this.permaMask2=0,this.permaMask=0,this.hitLocationsMajor=0,this.hitLocationsMinor=0,Be.call(this),this.char=e};a["troshx.sos.bnb.LastingPainAssign"]=tt,tt.__name__=["troshx","sos","bnb","LastingPainAssign"],tt.__super__=Be,tt.prototype=i(Be.prototype,{isValidUILocation:function(e){return 0==(1<<e&this.permaMask)},isValidUILocation2:function(e){return 0==(1<<e&this.permaMask2)},getCost:function(){return 4*this.minorCount()+8*this.majorCount()},mergeWith:function(e){this.hitLocationsMajor|=e.hitLocationsMajor,this.hitLocationsMinor|=e.hitLocationsMinor;for(var t=this.permaMask,a=this.char.body.hitLocations.length,s=0;-1<--a;)0!=(1<<a&t)&&++s;for(var o=4*s,n=this.permaMask2,r=this.char.body.hitLocations.length,l=0;-1<--r;)0!=(1<<r&n)&&++l;this.discount=o+8*l},freeze:function(){this.permaMask|=this.hitLocationsMinor,this.permaMask2|=this.hitLocationsMajor},unfreezeAll:function(){this.permaMask=0,this.permaMask2=0},inflictRandomMinor:function(){for(var e=this.char.body.hitLocations.length,t=[];-1<--e;)0==(1<<e&this.hitLocationsMinor)&&t.push(1<<e);return 0<t.length&&(e=t[0|Math.random()*t.length],this.hitLocationsMinor|=e,this.permaMask|=e),this},inflictRandomMajor:function(){for(var e=this.char.body.hitLocations.length,t=[];-1<--e;)0==(1<<e&this.hitLocationsMajor)&&t.push(1<<e);return 0<t.length&&(e=t[0|Math.random()*t.length],this.hitLocationsMajor|=e,this.permaMask2|=e),this},minorCount:function(){for(var e=this.hitLocationsMinor,t=this.char.body.hitLocations.length,a=0;-1<--t;)0!=(1<<t&e)&&++a;return a},majorCount:function(){for(var e=this.hitLocationsMajor,t=this.char.body.hitLocations.length,a=0;-1<--t;)0!=(1<<t&e)&&++a;return a},countMask:function(e){for(var t=this.char.body.hitLocations.length,a=0;-1<--t;)0!=(1<<t&e)&&++a;return a},getQty:function(){return this.minorCount()+this.majorCount()},isValid:function(){return 0!=this.hitLocationsMajor||0!=this.hitLocationsMinor},getUIFields:function(){return[{prop:"hitLocationsMinor",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:t(this,this.isValidUILocation),label:"Hit Locations Minor"},{prop:"hitLocationsMajor",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:t(this,this.isValidUILocation2),label:"Hit Locations Major"}]},__class__:tt});var at=function(){Le.call(this,"Literate",[1]),this.multipleTimes=-2};a["troshx.sos.bnb.Literate"]=at,at.__name__=["troshx","sos","bnb","Literate"],at.__super__=Le,at.prototype=i(Le.prototype,{getEmptyAssignInstance:function(){return new st},__class__:at});var st=function(){this.__hasUIFields__=!0,this.notes="",this.scripts=[""],Ce.call(this)};a["troshx.sos.bnb.LiterateAssign"]=st,st.__name__=["troshx","sos","bnb","LiterateAssign"],st.__super__=Ce,st.prototype=i(Ce.prototype,{getQty:function(){return this.scripts.length},getCost:function(){return this.boon.costs[0]*this.scripts.length},cleanupUIArrays:function(){var e=this.scripts.length;this.scripts=this.scripts.slice(0,0|(this._remainingCached+(1<=e?e:1))/1)},getUIFields:function(){var e=this.scripts.length;return[{prop:"scripts",label:"Known scripts",minLength:1,maxLength:0|(this._remainingCached+(1<=e?e:1))/1,of:"String",defaultValue:"",type:"Array"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:st});var ot=function(){Pe.call(this,"Oath",[2])};a["troshx.sos.bnb.Oath"]=ot,ot.__name__=["troshx","sos","bnb","Oath"],ot.__super__=Pe,ot.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(){return new nt},__class__:ot});var nt=function(){this.__hasUIFields__=!0,this.notes="",this.cost=2,Be.call(this)};a["troshx.sos.bnb.OathAssign"]=nt,nt.__name__=["troshx","sos","bnb","OathAssign"],nt.__super__=Be,nt.prototype=i(Be.prototype,{getCost:function(){return this.cost},getUIFields:function(){return[{prop:"cost",min:2,max:10,type:"Int",label:"Cost"},{prop:"notes",type:"textarea",label:"Notes"}]},__class__:nt});var rt=function(){Pe.call(this,"Old Wound",[1]),this.flags=2,this.multipleTimes=-2};a["troshx.sos.bnb.OldWound"]=rt,rt.__name__=["troshx","sos","bnb","OldWound"],rt.__super__=Pe,rt.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(e){return new lt(e)},__class__:rt});var lt=function(e){this.__hasUIFields__=!0,this.permaMask=0,this.hitLocations=0,Be.call(this),this.char=e};a["troshx.sos.bnb.OldWoundAssign"]=lt,lt.__name__=["troshx","sos","bnb","OldWoundAssign"],lt.__super__=Be,lt.prototype=i(Be.prototype,{getCost:function(e){return Be.prototype.getCost.call(this,e)*this.getQty()},isValidUILocation:function(e){return 0==(1<<e&this.permaMask)},freeze:function(){this.permaMask|=this.hitLocations},unfreezeAll:function(){this.permaMask=0},inflictRandom:function(){for(var e=this.char.body.hitLocations.length,t=[];-1<--e;)0==(1<<e&this.hitLocations)&&t.push(1<<e);return 0<t.length&&(e=t[0|Math.random()*t.length],this.hitLocations|=e,this.permaMask|=e),this},mergeWith:function(e){this.hitLocations|=e.hitLocations;for(var t=Be.prototype.getCost.call(this,this.rank),a=this.permaMask,s=this.char.body.hitLocations.length,o=0;-1<--s;)0!=(1<<s&a)&&++o;this.discount=t*o},getQty:function(){for(var e=this.hitLocations,t=this.char.body.hitLocations.length,a=0;-1<--t;)0!=(1<<t&e)&&++a;return a},countMask:function(e){for(var t=this.char.body.hitLocations.length,a=0;-1<--t;)0!=(1<<t&e)&&++a;return a},isValid:function(){return 0!=this.hitLocations},getUIFields:function(){return[{prop:"hitLocations",type:"HitLocationMultiSelector",body:this.char.body,validateOptionFunc:t(this,this.isValidUILocation),label:"Hit Locations"}]},__class__:lt});var Rt=function(){Pe.call(this,"Poor",[4,6,8]),this.flags=1,this.channels=8;var e=Kt.create(18,"Poor (i)",0,.5);e.next=Kt.create(19,"Poor (i)",0,.5);var i=Kt.create(18,"Poor (ii)",0,.25);i.next=Kt.create(19,"Poor (ii)",0,.25),this.staticModifiers=[e,i,Kt.create(19,"Poor (iii)",0,0)]};a["troshx.sos.bnb.Poor"]=Rt,Rt.__name__=["troshx","sos","bnb","Poor"],Rt.__super__=Pe,Rt.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(e){return new dt(e)},__class__:Rt});var dt=function(e){Be.call(this),this.char=e};a["troshx.sos.bnb.PoorAssign"]=dt,dt.__name__=["troshx","sos","bnb","PoorAssign"],dt.__super__=Be,dt.prototype=i(Be.prototype,{getCost:function(e){var i=3==this.rank?4:2==this.rank?3:2,t=this.char.socialClass.wealthIndex+1,a=(t<i?t/i:1)*(0<e?this.bane.costs[e-1]:0);return Math.floor(a)},getUIFields:function(){return[]},__class__:dt});var ct=function(){Pe.call(this,"Severed Limb/Appendage",[10,15,18]),this.clampRank=!0,this.flags=2,this.multipleTimes=-2};a["troshx.sos.bnb.SeveredLimb"]=ct,ct.__name__=["troshx","sos","bnb","SeveredLimb"],ct.__super__=Pe,ct.prototype=i(Pe.prototype,{getEmptyAssignInstance:function(){var e=new ht;return e},__class__:ct});var ht=function(){this.__hasUIFields__=!0,this.severedLegRight=0,this.severedLegLeft=0,this.severedArmRight=0,this.severedArmLeft=0,Be.call(this)};a["troshx.sos.bnb.SeveredLimbAssign"]=ht,ht.__name__=["troshx","sos","bnb","SeveredLimbAssign"],ht.__super__=Be,ht.prototype=i(Be.prototype,{get_severedAreasLeft:function(){return this.severedArmLeft|this.severedLegLeft},get_severedAreasRight:function(){return this.severedArmRight|this.severedLegRight},isValid:function(){var e=0!=(261136&this.get_severedAreasLeft()),i=0!=(261136&this.get_severedAreasRight());return!!e||i},getCost:function(){var e=0;return e+=245776==this.severedArmLeft?18:196608==this.severedArmLeft?15:0==this.severedArmLeft?0:10,e+=245776==this.severedArmRight?18:196608==this.severedArmRight?15:0==this.severedArmRight?0:10,e+=15360==this.severedLegLeft?18:12288==this.severedLegLeft?15:0==this.severedLegLeft?0:10,e+=15360==this.severedLegRight?18:12288==this.severedLegRight?15:0==this.severedLegRight?0:10,e},getUIFields:function(){return[{prop:"severedArmLeft",type:"SingleSelection",label:"Left Side Upper Limb",labels:["None","Left Hand","Left Lower Arm","Left Full Arm"],values:[0,131072,196608,245776]},{prop:"severedArmRight",type:"SingleSelection",label:"Right Side Upper Limb",labels:["None","Right Hand","Right Lower Arm","Right Full Arm"],values:[0,131072,196608,245776]},{prop:"severedLegLeft",type:"SingleSelection",label:"Left Side Lower Limb",labels:["None","Left Foot","Left Lower Leg","Left Full Leg"],values:[0,8192,12288,15360]},{prop:"severedLegRight",type:"SingleSelection",label:"Right Side Lower Limb",labels:["None","Right Foot","Right Lower Leg","Right Full Leg"],values:[0,8192,12288,15360]}]},__class__:ht});var yt=function(){Pe.call(this,"Skinny",[3]);var e=Kt.create(16,"Skinny",-1),i;i=e,this.staticModifiers=[i]};a["troshx.sos.bnb.Skinny"]=yt,yt.__name__=["troshx","sos","bnb","Skinny"],yt.__super__=Pe,yt.prototype=i(Pe.prototype,{__class__:yt});var gt=function(e,i,t,a){null==a&&(a=""),this.name=e,this.pcp=i,this.maxCategoryPCP=t,this.desc=a};a["troshx.sos.chargen.CampaignPowerLevel"]=gt,gt.__name__=["troshx","sos","chargen","CampaignPowerLevel"],gt.prototype={__class__:gt};var pt=function(e,i){null==i&&(i=!1),this.pcp=0,this.name=e,this.magic=i};a["troshx.sos.chargen.CategoryPCP"]=pt,pt.__name__=["troshx","sos","chargen","CategoryPCP"],pt.prototype={__class__:pt};var _t=function(e){this.profCoreListRanged=[],this.profCoreListMelee=[],this.packetChoosy=!1,this.emptySocialBenefit={name:"",rank:0,cost:0},this.wealthAssets=[],this.socialBenefitTempArr=[],this.syncSocialWealth=!0,this.wealthIndex=0,this.socialClassIndex=0,this.warningAttributes={warn:!1,remain:0},this.selectedTierIndex=0,this.warningCategories={warn:!1,remain:0},this.campaignPowLevelIndex=1,this.campaignPowerLevels=[new gt("Low (Grittiest)",14,5),new gt("Medium(Default)",18,6),new gt("High Fantasy",22,7),new gt("Epic Fantasy",26,8),new gt("Awesome Fantasy",30,10)],this.warningMsgs=[],this.savedCharContents="",this.showBnBs=!0,this.insideInventory=!1,this.char=null==e?new vs:e,this.raceTierTable=Qa.getTiers(),this.pcpForTiers=Qa.PCP_FOR_TIERS.concat([]),null==e&&this.char.set_race(this.raceTierTable[0][0]),this.categories=_t.getNewCharGenCategories(),this.categories[2].pcp=4,this.initBoons(),this.initSkills(),this.initSocialClasses(),this.initSocialClassesBenefits(),this.initSchools()};a["troshx.sos.chargen.CharGenData"]=_t,_t.__name__=["troshx","sos","chargen","CharGenData"],_t.getTalentsAvailable=function(){for(var e=$t.getTalentAdds(),t=e[0],a=1,s=e.length;a<s;){var o=a++;t+=e[o],e[o]=t}return e},_t.getSuperiorsAvailable=function(){for(var e=$t.getSuperiorAdds(),t=e[0],a=1,s=e.length;a<s;){var o=a++;t+=e[o],e[o]=t}return e},_t.getNewCharGenCategories=function(){var e=[],i=new pt("Race");return e[0]=i,i.slug="gen-race",i=new pt("Attributes"),e[1]=i,i.slug="gen-attributes",i=new pt("Boons & Banes"),e[2]=i,i.slug="gen-bnb",e[3]=new pt("Skills"),i.slug="gen-skills",i=new pt("Social class/Wealth"),e[4]=i,i.slug="gen-social-class",i=new pt("School/Profeciencies"),e[5]=i,i.slug="gen-schoolprofs",e},_t.GetAttributeTotalCostOfLevel=function(e){return 11>e?e-1:9+2*(e-10)},_t.MaxAttributeLevelUpsFrom=function(e,i){var t=e+i;return i-(10<t?t-10:0)},_t.getBnBFromPCP=function(e){return-15+(5*e-5)},_t.dynSetField=function(e,i,t){e[i]=t},_t.dynSetArray=function(e,t,i){e[t]=i},_t.dynDeleteField=function(e,i){_.deleteField(e,i)},_t.clamp5=function(e){return 5<=e?5:e},_t.prototype={get_shouldShowBnBs:function(){return!!this.showBnBs||0>this.get_totalBnBScore()},initSchools:function(){this.schoolLevelCosts=$t.getLevels();for(var e=this.schoolLevelCosts[0],t=1,a=this.schoolLevelCosts.length;t<a;){var o=t++;e+=this.schoolLevelCosts[o],this.schoolLevelCosts[o]=e}this.talentsAvailable=_t.getTalentsAvailable(),this.superiorsAvailable=_t.getSuperiorsAvailable(),this.schoolAssignList=[];for(var i=ps.getList(),n=0,r=i.length;n<r;){var l=n++,R=i[l];this.schoolAssignList.push({school:R,bonuses:R.getSchoolBonuses(this.char)})}},initBoons:function(){var e=Ri.getList();this.boonAssignList=[],this.baneAssignList=[];for(var t=0,a=e.length,s,o;t<a;)if(o=t++,s=e[o],s.costs!=Te.COSTLESS_ARRAY){var n=this.boonAssignList,r;r=e[o].getAssign(0,this.char),n.push(r),r._costCached=s.costs[0],r._remainingCached=999}for(var l=He.getList(),R=0,d=l.length,c;R<d;)if(c=R++,s=l[c],s.costs!=Te.COSTLESS_ARRAY){var h=this.baneAssignList,y;y=l[c].getAssign(0,this.char),h.push(y),y._costCached=s.costs[0]}},initSkills:function(){this.skillPackets=ut.getNewSkillPackets(),this.skillLabelMappingBases=ut.getNewSkillLabelMappingBases(),this.skillsTable=ta.getNewDefaultSkillTable(),this.skillObjs=this.skillsTable.getSkillObjectsAsArray(!0),this.specialisedSkills=this.skillsTable.getSpecialisationList(),this.skillLabelMappings=this.getEmptyMappingsFromBase(this.skillLabelMappingBases);for(var e=0,t=this.skillPackets.length;e<t;)for(var a=e++,i=this.skillPackets[a],o=0,n=_.fields(i.values),r;o<n.length;)if(r=n[o],++o,null!=this.skillLabelMappings[r]){i.history=[];break}this.skillSubjectHash={};for(var l=0,R=_.fields(this.skillValues);l<R.length;){var d=R[l];++l;var c=ia.getSplitFromSpecialisation(d);if(null!=c){var h=c[0],y=c[1],g,p;g=this.skillSubjectHash[h],null==g&&(g=[],this.skillSubjectHash[h]=g),p=this.skillSubjectHash[y],null==p&&(p=[],this.skillSubjectHash[y]=p),g.push(y),p.push(h)}}this.startingSkillObjsCount=this.skillObjs.length},initSocialClasses:function(){var e={cost:2,name:"Hale and Hearty",rank:1},i={cost:3,name:"Folks Back Home",rank:1},t={cost:6,name:"Folks Back Home",rank:2},a={cost:1,name:"Literate",rank:1},s={cost:2,name:"Literate",rank:1,qty:2},o={cost:2,name:"Language",rank:2},n={cost:1,name:"Language",rank:1},r={cost:1,name:"Contacts",rank:1},l={cost:4,name:"Contacts",rank:2},R={cost:5,name:"Allies",rank:2},d={cost:10,name:"Allies",rank:3},c={cost:2,name:"Famous",rank:1},h={cost:4,name:"Famous",rank:2};this.socialClassList=[{socialClass:new aa("Slave/Exile",Ft.create(0,10,0),0),boons:[e,o,{cost:3,name:"Beautiful",rank:1}],maxBoons:1},{socialClass:new aa("Peasant",Ft.create(5,0,0),0),boons:[e,i],maxBoons:1},{socialClass:new aa("Poor Freeman",Ft.create(15,0,0),0),boons:[e,i,a],maxBoons:1},{socialClass:new aa("Freeman",Ft.create(25,0,0),1),boons:[e,i,a],maxBoons:2},{socialClass:new aa("High Freeman",Ft.create(40,0,0),2),boons:[t,a,n,r],maxBoons:2},{socialClass:new aa("Minor Noble",Ft.create(80,0,0),3),boons:[e,t,a,n,r,R,c],maxBoons:2},{socialClass:new aa("Landed Noble",Ft.create(150,0,0),6),boons:[e,t,s,o,l,R,c],maxBoons:2},{socialClass:new aa("High Noble",Ft.create(300,0,0),10),boons:[e,t,s,o,l,d,h],maxBoons:2},{socialClass:new aa("Royalty",Ft.create(800,0,0),15),boons:[e,t,s,o,l,d,h],maxBoons:3},{socialClass:new aa("High Royalty",Ft.create(1500,0,0),20),boons:[e,t,{cost:3,name:"Literate",rank:1,qty:3},{cost:3,name:"Language",rank:3},{cost:6,name:"Contacts",rank:3},d,h],maxBoons:3}]},initSocialClassesBenefits:function(){for(var e=0,t=this.socialClassList.length;e<t;)for(var a=e++,i=this.socialClassList[a],s=0,o=i.boons.length;s<o;){var n=s++,r=i.boons[n];if(null==r.index&&(r.index=this.findBoonIndexByName(r.name),r.label=r.name+" ("+r.cost+")",-1==r.index))throw new Z("Could not find Social boon by: "+r.name)}this.socialBenefit1=this.emptySocialBenefit,this.socialBenefit2=this.emptySocialBenefit,this.socialBenefit3=this.emptySocialBenefit},findBoonIndexByName:function(e){for(var t=0,a=this.boonAssignList.length;t<a;){var s=t++,i=this.boonAssignList[s];if(i.boon.name==e)return s}return-1},privateInit:function(){for(var e=0,t=this.skillPackets.length;e<t;){var a=e++,i=this.skillPackets[a];i.fields=_.fields(i.values)}this.validateSocialBenefitsWithClass(1)},get_campaignPowLevel:function(){return this.campaignPowerLevels[this.campaignPowLevelIndex]},get_categoryRace:function(){return this.categories[0]},get_categoryAttributes:function(){return this.categories[1]},get_categorySocialClassWealth:function(){return this.categories[4]},get_categoriesRemainingAssignable:function(){for(var e=0,t=0,a=this.categories.length;t<a;){var s=t++;e+=this.categories[s].pcp}return this.campaignPowerLevels[this.campaignPowLevelIndex].pcp-e},get_isValidCategories:function(){return 0==this.get_categoriesRemainingAssignable()},checkWarningCategories:function(){var e=this.get_categoriesRemainingAssignable();return!!(0<e)&&(this.warningCategories.warn=!0,this.warningCategories.remain=e,!0)},get_isHuman:function(){return"Human"==(null==this.char.race?"":this.char.race.name)},get_selectedRaceName:function(){return null==this.char.race?"":this.char.race.name},resetToHuman:function(){this.selectedTierIndex=0,this.char.set_race(this.raceTierTable[0][0])},selectRaceAt:function(e,i){this.selectedTierIndex=e,this.char.set_race(this.raceTierTable[e][i])},settleRaceTier:function(){this.categories[0].pcp=this.pcpForTiers[this.selectedTierIndex]},get_promptSettleRaceTier:function(){return this.categories[0].pcp!=this.pcpForTiers[this.selectedTierIndex]},get_raceTier:function(){return this.getRaceTierFromPCP(this.categories[0].pcp)},getRaceTierFromPCP:function(e){for(var t=0,a=0,s=this.pcpForTiers.length;a<s;){var o=a++;if(this.pcpForTiers[o]>e)break;t=o}return t+1},get_totalAttributePointsSpent:function(){var e=0,i=this.char.strength;e+=11>i?i-1:9+2*(i-10);var t=this.char.agility;e+=11>t?t-1:9+2*(t-10);var a=this.char.endurance;e+=11>a?a-1:9+2*(a-10);var s=this.char.health;e+=11>s?s-1:9+2*(s-10);var o=this.char.willpower;e+=11>o?o-1:9+2*(o-10);var n=this.char.wit;e+=11>n?n-1:9+2*(n-10);var r=this.char.intelligence;e+=11>r?r-1:9+2*(r-10);var l=this.char.perception;return e+=11>l?l-1:9+2*(l-10),e},get_availableAttributePoints:function(){return _t.PCP_COLUMN_ATTRIBUTES[this.categories[1].pcp-1]},get_remainingAttributePoints:function(){return this.get_availableAttributePoints()-this.get_totalAttributePointsSpent()},canBuyMoreAttributeLevels:function(){var e=this.get_remainingAttributePoints(),i=this.char.strength+e;if(0<e-(10<i?i-10:0))return!0;var t=this.char.agility+e;if(0<e-(10<t?t-10:0))return!0;var a=this.char.endurance+e;if(0<e-(10<a?a-10:0))return!0;var s=this.char.health+e;if(0<e-(10<s?s-10:0))return!0;var o=this.char.willpower+e;if(0<e-(10<o?o-10:0))return!0;var n=this.char.wit+e;if(0<e-(10<n?n-10:0))return!0;var r=this.char.intelligence+e;if(0<e-(10<r?r-10:0))return!0;var l=this.char.perception+e;return!!(0<e-(10<l?l-10:0))},checkWarningAttributes:function(){var e=this.get_remainingAttributePoints();return!!(0<e&&this.canBuyMoreAttributeLevels())&&(this.warningAttributes.warn=!0,this.warningAttributes.remain=e,!0)},updateSocialBenefitsToBoon:function(e,i){var t;if(0<i.rank&&(t=this.boonAssignList[i.index],t.rank==i.rank&&t.getCost(t.rank)==i.cost&&(t.rank=0),t._minRequired=0,t.discount=0),0<e.rank){t=this.boonAssignList[e.index],t.discount=e.cost,0==t.rank&&(t.rank=e.rank),t._minRequired=e.rank;null!=e.qty}},validateSocialBenefitsWithClass:function(e){var t=null;1==e?t=this.socialBenefit1:2==e?t=this.socialBenefit2:3==e&&(t=this.socialBenefit3);var a=this.socialClassList[this.socialClassIndex].maxBoons;this.socialBenefitTempArr[0]=1==e?null:this.socialBenefit1.name,this.socialBenefitTempArr[1]=2==e||2>a?null:this.socialBenefit2.name,this.socialBenefitTempArr[2]=3==e||3>a?null:this.socialBenefit3.name;var s=this.socialClassList[this.socialClassIndex].boons,o=s.indexOf(t),n=-1;if(0>o){for(var r=0,l=s.length,R;r<l;)if(R=r++,-1==n&&0>this.socialBenefitTempArr.indexOf(s[R].name)&&(n=R),s[R].name==t.name){o=R;break}0>o&&(0<=n?o=n:o=0),1==e?this.socialBenefit1=s[o]:2==e?this.socialBenefit2=s[o]:3==e&&(this.socialBenefit3=s[o])}if(0>o)throw new Z("Should have resolved index for social benefit choice!")},socialBenefitSelectChangeHandler:function(e,i){var t=this.socialClassList[this.socialClassIndex].boons;1==e?this.socialBenefit1=t[i]:2==e?this.socialBenefit2=t[i]:3==e&&(this.socialBenefit3=t[i])},get_availableWealthPointsBase:function(){return this.socialClassList[this.wealthIndex].socialClass.wealth},get_availableWealthPoints:function(){var e=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return 0>e&&(e=0),e},get_remainingWealthPointsFull:function(){var e=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return 0>e&&(e=0),e-this.wealthAssetsWorthFullArray()},get_remainingWealthPoints:function(){var e=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return 0>e&&(e=0),e-this.wealthAssetsWorth()},wealthAssetsWorthFullArray:function(){for(var e=this.wealthAssets.length,t=0;-1<--e;)t+=this.wealthAssets[e].worth;return t},wealthAssetsWorthLen:function(){var e=this.wealthAssets.length,i=this.get_maxWealthAssets();return e>=i?i:e},wealthAssetsWorth:function(){for(var e=0,t=this.wealthAssets.length,a=this.get_maxWealthAssets(),s=t>=a?a:t,o=0;o<s;){var n=o++;e+=this.wealthAssets[n].worth}return e},get_socialBenefitChoices:function(){return this.socialClassList[this.socialClassIndex].boons},get_curSelectedSocialClass:function(){return this.socialClassList[this.socialClassIndex]},get_maxSocialClassIndex:function(){return this.categories[4].pcp-1},constraintSocialWealth:function(){if(this.syncSocialWealth){var e=this.categories[4].pcp-1;this.socialClassIndex>e&&(this.socialClassIndex=e),this.wealthIndex=this.socialClassIndex}else{var i=this.get_unevenMaxWealthIndex();this.wealthIndex>i&&(this.wealthIndex=i),i=this.get_unevenMaxSocialClassIndex(),this.socialClassIndex>i&&(this.socialClassIndex=i)}},get_socialEitherMaxIndex:function(){var e=this.categories[4].pcp-1,i=this.get_unevenMaxSocialClassIndex();return this.syncSocialWealth?e:i},get_wealthEitherMaxIndex:function(){var e=this.categories[4].pcp-1,i=this.get_unevenMaxWealthIndex();return this.syncSocialWealth?e:i},get_socialClassPlaceHolderName:function(){return this.socialClassIndex==this.wealthIndex?this.socialClassList[this.socialClassIndex].socialClass.name:this.socialClassList[this.socialClassIndex].socialClass.name+" -$: "+this.socialClassList[this.wealthIndex].socialClass.name},get_promptSettleSocialTier:function(){return(this.socialClassIndex==this.wealthIndex?this.socialClassIndex+1:this.get_unevenSocialPCPRequired())!=this.categories[4].pcp},get_socialPCPRequired:function(){return this.socialClassIndex==this.wealthIndex?this.socialClassIndex+1:this.get_unevenSocialPCPRequired()},settleSocialTier:function(){this.syncSocialWealth=this.socialClassIndex==this.wealthIndex;var e=this.socialClassIndex==this.wealthIndex?this.socialClassIndex+1:this.get_unevenSocialPCPRequired();this.categories[4].pcp=e},solveSocialOrWealthMaxX:function(e,i,t){return e=2*t-4-i,e-=1&e^1&i,e},get_unevenSocialPCPRequired:function(){var e=this.socialClassIndex+1,i=this.wealthIndex+1,t=this.categories[4].pcp;return Math.ceil((e+i)/2)+2},get_unevenMaxSocialClassIndex:function(){var e=this.socialClassIndex+1,i=this.wealthIndex+1;e=2*this.categories[4].pcp-4-i;var t=(e-=1&e^1&i)-1;return 0<=t?t:0},get_unevenMaxWealthIndex:function(){var e=this.wealthIndex+1,i=this.socialClassIndex+1;e=2*this.categories[4].pcp-4-i;var t=(e-=1&e^1&i)-1;return 0<=t?t:0},setSocialClassIndex:function(e){this.socialClassIndex=e,this.syncSocialWealth&&(this.wealthIndex=e)},setWealthIndex:function(e){this.wealthIndex=e},updateSocialToCharsheet:function(){var e=this.socialClassList[this.socialClassIndex];this.validateSocialBenefitsWithClass(1),2<=e.maxBoons?this.validateSocialBenefitsWithClass(2):this.socialBenefit2=this.emptySocialBenefit,3<=e.maxBoons?this.validateSocialBenefitsWithClass(3):this.socialBenefit3=this.emptySocialBenefit,this.char.socialClass.classIndex=this.socialClassIndex},get_maxWealthAssets:function(){var e=this.wealthAssets.length,i=Math.floor(this.char.getModifiedValue(18,this.socialClassList[this.wealthIndex].socialClass.wealth));return 0>i&&(i=0),e+(i-this.wealthAssetsWorthFullArray())},updateMoneyToCharsheet:function(){var e=this.socialClassList[this.wealthIndex];this.char.socialClass.wealthIndex=this.wealthIndex,this.char.socialClass.money.matchWith(e.socialClass.money),this.char.socialClass.wealth=e.socialClass.wealth},filterAwayLiquidatedAssets:function(e){return!e.liquidate},saveFinaliseSocial:function(e){(this.socialClassIndex==this.wealthIndex||""==this.char.socialClass.name)&&(this.char.socialClass.name=this.get_socialClassPlaceHolderName());var i=this.wealthAssets.length,s=this.get_maxWealthAssets(),o=i>=s?s:i,n=this.wealthAssets.slice(0,o);n=n.filter(t(this,this.filterAwayLiquidatedAssets)),this.char.wealthAssets=n,this.char.money.matchWith(e)},get_categoryBnB:function(){return this.categories[2]},get_totalBaneExpenditure:function(){for(var e=this.char.banes.list,t=0,a=e.length;-1<--a;){var s=e[a],o=!(s._canceled||s._forcePermanent),n=o?s._costCached:0;0!=s.discount&&(n-=s.discount,0>n&&(n=0)),t+=n}return t},get_maxBanePointsEarnable:function(){return 0>this.get_BnBpoints()?15-this.get_BnBpoints():15},get_totalBanePointsEarned:function(){var e=this.get_totalBaneExpenditure(),i=0>this.get_BnBpoints()?15-this.get_BnBpoints():15;return e>i?i:e},get_totalBanePointsSpent:function(){return this.get_totalBaneExpenditure()-this.get_totalBanePointsEarned()},get_totalBoonExpenditure:function(){for(var e=this.char.boons.list,t=0,a=e.length;-1<--a;){var s=e[a],o=!(s._canceled||s._forcePermanent),n=o?s._costCached:0;0!=s.discount&&(n-=s.discount,0>n&&(n=0)),t+=n}return t},get_boonsArray:function(){return this.char.boons.list},get_banesArray:function(){return this.char.banes.list},get_BnBpoints:function(){return-15+(5*this.get_categoryBnB().pcp-5)},get_totalBnBScore:function(){return this.get_BnBpoints()+this.get_totalBanePointsEarned()-this.get_totalBoonExpenditure()+(this.char.direPast?10:0)},get_maxBoonsSpendable:function(){return this.get_BnBpoints()+(0>this.get_BnBpoints()?15-this.get_BnBpoints():15)},get_maxBoonsSpendableLeft:function(){return this.get_maxBoonsSpendable()-this.get_totalBoonExpenditure()},get_maxBanesSpendable:function(){return(0>this.get_BnBpoints()?15-this.get_BnBpoints():15)+(0>this.get_BnBpoints()?0:this.get_BnBpoints())},get_maxBanesSpendableLeft:function(){return this.get_maxBanesSpendable()-this.get_totalBaneExpenditure()},addSkill:function(e,i){var t,a;t=this.skillSubjectHash[e],null==t&&(t=[],_t.dynSetField(this.skillSubjectHash,e,t)),a=this.skillSubjectHash[i],null==a&&(a=[],_t.dynSetField(this.skillSubjectHash,i,a)),t.push(i),a.push(e);var s=e+" ("+i+")";_t.dynSetField(this.skillValues,s,0),_t.dynSetField(this.skillPacketValues,s,0),this.skillObjs.push({name:s,attribs:0})},deleteSkillInput:function(e){var i=this.skillObjs[e],t=ia.getSplitFromSpecialisation(i.name),a=t[0],s=t[1],o=this.skillSubjectHash[a],n=this.skillSubjectHash[s];o.splice(o.indexOf(s),1),n.splice(o.indexOf(a),1),_t.dynDeleteField(this.skillValues,i.name),_t.dynDeleteField(this.skillPacketValues,i.name),this.skillObjs.splice(e,1),this.truncateSkillPacketHistory()},onSkillPacketChange:function(e,t,a){var s=this.skillPackets[e];if(null==s.history)for(var o=0,n=s.fields.length;o<n;){var r=o++,i=s.fields[r];this.skillPacketValues[i]+=s.values[i]*t}else for(var l=s.qty-t,R=0<=t,d=R?1:-1,c=R?l:l-1,y=l+t;R?c<y:c>=y;){for(var g=s.history[c],_=0,u=s.fields.length;_<u;){var m=_++,f=s.fields[m],b=g[f];this.skillPacketValues[b]+=s.values[f]*d}c+=d}0<t&&(null==s.history||a)&&this.truncateSkillPacketHistory()},onSkillIndividualChange:function(e){0<e&&this.truncateSkillPacketHistory()},truncateSkillPacketHistory:function(){for(var e=0,t=this.skillPackets.length;e<t;){var a=e++,i=this.skillPackets[a];if(null!=i.history&&i.history.length!=i.qty){var s=i.history,o=i.qty;s.splice(o,s.length-o)}}},saveFinaliseSkillsFromPackets:function(){for(var e=0,t=this.skillObjs.length;e<t;){var a=e++,i=this.skillObjs[a],s=this.skillPacketValues[i.name],o=(5<=s?5:s)+this.skillValues[i.name];0<o&&(this.char.skills.skillHash[i.name]=o)}},clampSkillValue:function(e){return 5<=e?5:e},isSkillLabelBinded:function(e){return"~"==e.charAt(0)},get_SkillPoints:function(){return 6+3*(this.categories[3].pcp-1)},get_individualSkillsSpent:function(){for(var e=0,i=0,t=_.fields(this.skillValues);i<t.length;){var a=t[i];++i,e+=this.skillValues[a]}return e},get_maxSkillPacketsAllowed:function(){return Math.floor((this.get_totalSkillPointsProvided()-this.get_individualSkillsSpent())/3)},get_maxIndividualSkillsSpendable:function(){return this.get_totalSkillPointsProvided()-3*this.get_skillPacketsBought()},get_individualSkillsRemaining:function(){return this.get_maxIndividualSkillsSpendable()-this.get_individualSkillsSpent()},get_totalSkillPointsProvided:function(){return this.get_SkillPoints()+this.char.intelligence},get_skillPacketsRemaining:function(){return this.get_maxSkillPacketsAllowed()-this.get_skillPacketsBought()},get_skillPacketsBought:function(){for(var e=0,t=this.skillPackets.length;-1<--t;)e+=this.skillPackets[t].qty;return e},get_totalSkillPointsLeft:function(){return this.get_totalSkillPointsProvided()-this.get_individualSkillsSpent()-3*this.get_skillPacketsBought()},getEmptyMappingsFromBase:function(e){for(var t={},a=0,o=_.fields(e),n;a<o.length;){n=o[a],++a;var r=e[n];t[n]=r instanceof Array&&null==r.__enum__?(r instanceof Array&&null==r.__enum__?r:null)[0]:""}var l=[];this.skillValues={},this.skillPacketValues={};for(var R=0,d=this.skillPackets.length;R<d;)for(var c=R++,i=this.skillPackets[c],s=0,h=_.fields(i.values),y;s<h.length;)y=h[s],++s,this.skillValues[y]=0,this.skillPacketValues[y]=0,"~"==y.charAt(0)||Object.prototype.hasOwnProperty.call(this.skillsTable.skillHash,y)||(this.skillsTable.skillHash[y]=0,l.push({name:y,attribs:0}));for(var g=0,u=_.fields(this.skillsTable.skillHash),m;g<u.length;)m=u[g],++g,this.skillsTable.requiresSpecialisation[m]||(this.skillValues[m]=0,this.skillPacketValues[m]=0);l.sort(ta.sortArrayMethod),this.skillObjs=this.skillObjs.concat(l),this.skillSubjects=ut.getExistingSubjects();for(var b={},S=0,x=this.skillSubjects.length,A;S<x;)A=S++,b[this.skillSubjects[A]]=!0;return this.skillSubjectsInitial=b,t},selectSchoolAssign:function(e){null==e?(this.char.set_school(null),this.char.set_schoolBonuses(null)):(this.char.set_school(e.school),this.char.set_schoolBonuses(e.bonuses))},canStillSpendSchool:function(e){var i=0;if(null==this.char.school)return 0!=3*(this.categories[5].pcp-1);var t=this.char.schoolLevel+1;return 20>=t&&(i=this.schoolLevelCosts[t-1]-(2<=t?this.schoolLevelCosts[t-2]:0)),!!(0<i)&&e>=i},get_hasSchool:function(){return null!=this.char.school},get_schoolProfLevel:function(){return null==this.char.school?0:this.char.schoolLevel},get_ProfPoints:function(){return 3*(this.categories[5].pcp-1)},get_totalAvailProfSlots:function(){return null==this.char.school?0:this.char.school.profLimit},get_profArcCost:function(){return"Human"==(null==this.char.race?"":this.char.race.name)?0:1},get_schoolArcCost:function(){return null==this.char.school?0:this.char.school.costArc},get_totalProfSlotExpenditure:function(){var e="Human"==(null==this.char.race?"":this.char.race.name)?0:1,i=null==this.char.school?0:this.char.school.profLimit,t=this.profCoreListRanged.length+this.profCoreListMelee.length,a=t>i?i:t;return a*e+2*(t-a)},get_beyondMaxProfs:function(){return this.profCoreListRanged.length+this.profCoreListMelee.length>(null==this.char.school?0:this.char.school.profLimit)},get_atOrBeyondMaxProfString:function(){return this.profCoreListRanged.length+this.profCoreListMelee.length>(null==this.char.school?0:this.char.school.profLimit)?"Beyond Max":"Max Reached"},get_maxMeleeProfSlots:function(){var e=(null==this.char.school?0:this.char.school.profLimit)-this.profCoreListRanged.length,i="Human"==(null==this.char.race?"":this.char.race.name)?0:1,t=3*(this.categories[5].pcp-1)-(null==this.char.school?0:this.char.school.costArc)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)-this.profCoreListRanged.length*i;return 0<i&&(t=Math.floor(t/i),0>t&&(t=0),t<e&&(e=t)),null==this.char.school?0:0>e?0:e},get_maxRangedProfSlots:function(){var e=(null==this.char.school?0:this.char.school.profLimit)-this.profCoreListMelee.length,i="Human"==(null==this.char.race?"":this.char.race.name)?0:1,t=3*(this.categories[5].pcp-1)-(null==this.char.school?0:this.char.school.costArc)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)-this.profCoreListMelee.length*i;return 0<i&&(t=Math.floor(t/i),0>t&&(t=0),t<e&&(e=t)),null==this.char.school?0:0>e?0:e},get_maxTalentSlots:function(){var e=0<this.char.schoolLevel?this.talentsAvailable[this.char.schoolLevel-1]:0;return null==this.char.school?0:e},get_maxSuperiorSlots:function(){var e=0<this.char.schoolLevel?this.superiorsAvailable[this.char.schoolLevel-1]:0;return null==this.char.school?0:e},get_maxMasterySlots:function(){var e=20<=this.char.schoolLevel?1:0;return null==this.char.school?0:e},get_levelsExpenditure:function(){return null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0},get_profPointsLeft:function(){var e="Human"==(null==this.char.race?"":this.char.race.name)?0:1,i=null==this.char.school?0:this.char.school.profLimit,t=this.profCoreListRanged.length+this.profCoreListMelee.length,a=t>i?i:t;return 3*(this.categories[5].pcp-1)-(a*e+2*(t-a))-(null==this.char.school?0:this.char.school.costArc)-(null!=this.char.school&&0<this.char.schoolLevel?this.schoolLevelCosts[this.char.schoolLevel-1]:0)},get_traceProfCoreRangedCurrent:function(){return Xt.getLabelsOfArrayProfs(null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED,this.char.profsRanged)},get_traceProfCoreMeleeCurrent:function(){return Xt.getLabelsOfArrayProfs(Xt.getCoreMelee(),this.char.profsMelee)},get_traceProfCoreRangedCount:function(){return Xt.getCountOfArrayProfs(null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED,this.char.profsRanged)},get_traceProfCoreMeleeCount:function(){return Xt.getCountOfArrayProfs(Xt.getCoreMelee(),this.char.profsMelee)},saveFinaliseSchoolProfs:function(){this.char.schoolLevel=null==this.char.school?0:null==this.char.school?0:this.char.schoolLevel;var e=this.char.masteryManueverNotes,i=this.get_maxMasterySlots();this.char.masteryManueverNotes=e.slice(0,i);var t=this.char.superiorManueverNotes,a=this.get_maxSuperiorSlots();this.char.superiorManueverNotes=t.slice(0,a);var s=this.char.talentNotes,o=this.get_maxTalentSlots();this.char.talentNotes=s.slice(0,o)},saveFinaliseCleanupChar:function(e){this.saveFinaliseSocial(e),this.saveFinaliseSchoolProfs(),this.saveFinaliseSkillsFromPackets(),this.char.boons.filter(function(e){return!e._canceled}),this.char.banes.filter(function(e){return!e._canceled});for(var t=0,a=this.char.boons.list.length;t<a;){var s=t++;this.char.boons.list[s].cleanupUIArrays()}for(var i=0,o=this.char.banes.list.length;i<o;){var n=i++;this.char.banes.list[n].cleanupUIArrays()}for(var r=0,l=this.char.boons.list.length;r<l;){var R=r++;this.char.boons.list[R].cleanup()}for(var d=0,c=this.char.banes.list.length;d<c;){var h=d++;this.char.banes.list[h].cleanup()}this.char.inventory.cleanupBeforeSerialize(),"Human"!=(null==this.char.race?"":this.char.race.name)&&(this.char.arcFlaw="")},__class__:_t};var ut=function(){};a["troshx.sos.chargen.CharGenSkillPackets"]=ut,ut.__name__=["troshx","sos","chargen","CharGenSkillPackets"],ut.getNewSkillPackets=function(){var e=new M,i="Profession (Farmer)";null==to[i]?e.h[i]=2:e.setReserved(i,2);null==to["Crafting (Wood)"]?e.h["Crafting (Wood)"]=1:e.setReserved("Crafting (Wood)",1),null==to.Cooking?e.h.Cooking=1:e.setReserved("Cooking",1);var t={name:"Farmer",qty:0,values:ut.strMapValues(e)},a=new M,s="Profession (Trade)";null==to[s]?a.h[s]=2:a.setReserved(s,2);null==to["Crafting (Trade)"]?a.h["Crafting (Trade)"]=1:a.setReserved("Crafting (Trade)",1),null==to.Persuasion?a.h.Persuasion=1:a.setReserved("Persuasion",1);var o={name:"Tradesman",qty:0,values:ut.strMapValues(a)},n=new M,r="Knowledge (Finance)";null==to[r]?n.h[r]=2:n.setReserved(r,2),null==to.Etiquette?n.h.Etiquette=1:n.setReserved("Etiquette",1),null==to.Persuasion?n.h.Persuasion=1:n.setReserved("Persuasion",1);var l={name:"Merchant",qty:0,values:ut.strMapValues(n)},R=new M;null==to["Gather Information"]?R.h["Gather Information"]=1:R.setReserved("Gather Information",1),null==to.Intimidation?R.h.Intimidation=1:R.setReserved("Intimidation",1),null==to.Observation?R.h.Observation=1:R.setReserved("Observation",1);null==to["Knowledge (Criminal)"]?R.h["Knowledge (Criminal)"]=1:R.setReserved("Knowledge (Criminal)",1);var d={name:"Criminal",qty:0,values:ut.strMapValues(R)},c=new M;null==to.Intimidation?c.h.Intimidation=1:c.setReserved("Intimidation",1);null==to["Knowledge (Criminal)"]?c.h["Knowledge (Criminal)"]=1:c.setReserved("Knowledge (Criminal)",1),null==to.Observation?c.h.Observation=2:c.setReserved("Observation",2);var h={name:"Guard",qty:0,values:ut.strMapValues(c)},y=new M;null==to.Surgery?y.h.Surgery=2:y.setReserved("Surgery",2),null==to.Chymistry?y.h.Chymistry=1:y.setReserved("Chymistry",1);null==to["Profession (Doctor)"]?y.h["Profession (Doctor)"]=1:y.setReserved("Profession (Doctor)",1);var g={name:"Surgeon",qty:0,values:ut.strMapValues(y)},p=new M;null==to.Sailing?p.h.Sailing=2:p.setReserved("Sailing",2);null==to["Profession (Sailing)"]?p.h["Profession (Sailing)"]=1:p.setReserved("Profession (Sailing)",1),null==to.Navigation?p.h.Navigation=1:p.setReserved("Navigation",1);var _={name:"Sailor",qty:0,values:ut.strMapValues(p)},u=new M;null==to.Etiquette?u.h.Etiquette=1:u.setReserved("Etiquette",1);null==to["Knowledge (Politics)"]?u.h["Knowledge (Politics)"]=1:u.setReserved("Knowledge (Politics)",1),null==to.Oration?u.h.Oration=1:u.setReserved("Oration",1),null==to.Persuasion?u.h.Persuasion=1:u.setReserved("Persuasion",1);var m={name:"Politician",qty:0,values:ut.strMapValues(u)},f=new M,b="Knowledge (Nobility)";null==to[b]?f.h[b]=1:f.setReserved(b,1),null==to.Etiquette?f.h.Etiquette=1:f.setReserved("Etiquette",1);null==to["Knowledge (Politics)"]?f.h["Knowledge (Politics)"]=1:f.setReserved("Knowledge (Politics)",1),null==to.Persuasion?f.h.Persuasion=1:f.setReserved("Persuasion",1);var S={name:"Nobleman",qty:0,values:ut.strMapValues(f)},x=new M;null==to.Cooking?x.h.Cooking=2:x.setReserved("Cooking",2);null==to["Crafting (Homestead)"]?x.h["Crafting (Homestead)"]=2:x.setReserved("Crafting (Homestead)",2);var A=ut.strMapValues(x);return[{name:"Academic",qty:0,values:{"~academic1":1,"~academic2":1,Research:1,"~academicLast":1}},{name:"Athlete",qty:0,values:{Athletics:2,Climbing:1,Swimming:1}},t,o,l,{name:"Thief",qty:0,values:{Stealth:1,Thievery:2,Observation:1}},d,{name:"Hunter",qty:0,values:{"~hunter1":1,Navigation:1,Hunting:2}},h,{name:"Soldier",qty:0,values:{"~soldier1":1,Tactics:1,Drill:2}},g,{name:"Officer",qty:0,values:{Drill:1,Tactics:1,Navigation:1,Strategy:1}},_,{name:"Scout",qty:0,values:{"~scout1":1,Stealth:1,Navigation:1,Observation:1}},m,S,{name:"Domestic",qty:0,values:A}]},ut.getExistingSubjects=function(){return["Farmer","Trade","Finance","Wood","Homestead","Criminal","Nobility","Politics","Sailing","Doctor"]},ut.getNewSkillLabelMappingBases=function(){return{"~academic1":"Knowledge","~academic2":"Knowledge","~academicLast":["Engineering","Knowledge (Politics)","Chymistry"],"~soldier1":["Athletics","Riding"],"~scout1":["Athletics","Riding"],"~hunter1":["Stealth","Riding"]}},ut.strMapValues=function(e){for(var i={},t=e.keys();t.hasNext();){var a=t.next();i[a]=null==to[a]?e.h[a]:e.getReserved(a)}return i},ut.isSkillLabelBinded=function(e){return"~"==e.charAt(0)},ut.getSkillLabel=function(e,i,t){return"~"==e.charAt(0)?"string"==typeof i[e]?i[e]+" ("+t[e]+")":t[e]:e};var mt=function(e){this.model=e,e.bout.s=-2};a["troshx.sos.combat.BoutController"]=mt,mt.__name__=["troshx","sos","combat","BoutController"],mt.__interfaces__=[he],mt.prototype={waitForPlayer:function(){return null},step:function(){},handleCurrentStep:function(){var e=this.model.bout.s;if(-2==e)return-1;if(-1==e)return-1;if(0==e)return-1;if(1==e)return 0;throw new Z("Unhandled step:"+e)},__class__:mt};var ft=function(){this.manueverStack=new me,this._messages=[],this.bout=null};a["troshx.sos.combat.BoutModel"]=ft,ft.__name__=["troshx","sos","combat","BoutModel"],ft.__interfaces__=[ye],ft.prototype={setBout:function(e){this.bout=e},getMessages:function(){return this._messages},getMessagesCount:function(){return this._messages.length},clearMessages:function(){this._messages.length=0},__class__:ft};var bt=function(e,i){null==i&&(i=""),null==e&&(e=""),this.unit=1,this.costCurrency=0,this.cost=0,this.flags=0,this.weight=0,this.id=null==e?"Item_"+bt.UID_COUNT++:e,this.name=i};a["troshx.sos.core.Item"]=bt,bt.__name__=["troshx","sos","core","Item"],bt.getLabelsOfArray=function(e,t){for(var a=[],s=0,o=e.length;s<o;){var n=s++;0!=(t&1<<n)&&a.push(e[n].name)}return a},bt.sign=function(e){return 0<=e?"+":""},bt.labelizeAllCaps=function(e){for(var t=e.split("_"),a=0,s=t.length;a<s;){var o=a++;t[o]=t[o].charAt(0).toUpperCase()+R.substr(t[o],1,null).toLowerCase()}return t.join(" ")},bt.labelizeCamelCase=function(e){var i=new RegExp("([A-Z]+)","g"),t=new RegExp("([A-Z][a-z])","g");return e=e.replace(i,"$1"),e=e.replace(t," $1"),e=f.trim(e),e=e.charAt(0).toUpperCase()+R.substr(e,1,null),e},bt.labelizeAllCapsArr=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=bt.labelizeAllCaps(e[o])}return t},bt.labelizeCamelCaseArr=function(e){for(var t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=bt.labelizeCamelCase(e[o])}return t},bt.prototype={normalize:function(){return this},setWeightCost:function(e,i,t){return this.weight=e,this.cost=i,this.costCurrency=t,this},setUnit:function(e){return this.unit=e,this},serializeClone:function(){var e=new A;return e.serialize(this),new z(e.toString()).unserialize()},addTagsToStrArr:function(e){0!=(2&this.flags)&&e.push("Strapped"),Y.getClass(this)!=Bt&&0!=(1&this.flags)&&e.push("Two-Handed"),0!=(4&this.flags)&&e.push("Eye-Corrective"),0!=(8&this.flags)&&e.push("Prosthetic")},getTypeLabel:function(){return"MiscItem"},get_uid:function(){return""==this.id?this.name:this.id},get_label:function(){return this.name},get_twoHanded:function(){return 0!=(1&this.flags)},get_strapped:function(){return 0!=(2&this.flags)},__class__:bt};var St=function(){this.customise=null,this.special=null,this.specialFlags=0,this.pp=0,this.burdinadin=null,this.AVB=0,this.AVP=0,this.AVC=0,bt.call(this)};a["troshx.sos.core.Armor"]=St,St.__name__=["troshx","sos","core","Armor"],St.createEmptyInstance=function(){var e=new St;return e.coverage={},e},St.__super__=bt,St.prototype=i(bt.prototype,{writeAVsAtLocation:function(e,i,t,a,s,o,n,r){var l=this.coverage[i];if(0!=(s&t)&&-1==this.special.wornWith.layer)return!1;var R=0==(2&l)?1:.5;0!=(4&l)&&0==(e.thrustMask&n)&&(R=0);var d=0;0!=t&&null!=this.special&&null!=this.special.hitModifier&&0!=R&&(0==n&&0==this.special.hitModifier.targetZoneMask&&0!=(this.special.hitModifier.locationMask&t)&&(1>this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV<R&&(R=this.special.hitModifier.multiplyAV),1<this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV>R&&(R=this.special.hitModifier.multiplyAV),d+=this.special.hitModifier.addAV),0!=n&&0!=(this.special.hitModifier.targetZoneMask&n)&&(0==this.special.hitModifier.locationMask||0!=(this.special.hitModifier.locationMask&t))&&(1>this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV<R&&(R=this.special.hitModifier.multiplyAV),1<this.special.hitModifier.multiplyAV&&this.special.hitModifier.multiplyAV>R&&(R=this.special.hitModifier.multiplyAV),d+=this.special.hitModifier.addAV)),r&&0!=t&&null!=this.customise&&null!=this.customise.hitLocationAllAVModifiers&&null!=this.customise.hitLocationAllAVModifiers[i]&&(d+=this.customise.hitLocationAllAVModifiers[i]);var c=o&&0!=(8&this.specialFlags)?2*R:R,h=(0|this.AVC*R)+d,y=(0|this.AVP*c)+d,g=(0|this.AVB*R)+d;return 0>h&&(h=0),0>y&&(y=0),0>g&&(g=0),a.avc=h,a.avp=y,a.avb=g,!0},writeAVVAluesTo:function(e,i,t,a,s){var o;null==St.TEMPAVS&&(St.TEMPAVS={avc:0,avp:0,avb:0}),o=St.TEMPAVS;for(var n=0,r=_.fields(this.coverage),l;n<r.length;){l=r[n],++n;var R=e[l],d=l,c=1<<i.hitLocationHash[d];if(this.writeAVsAtLocation(i,d,c,o,t,a,s,!0)&&(o.avc>R.avc&&(R.avc=o.avc),o.avp>R.avp&&(R.avp=o.avp),o.avb>R.avb&&(R.avb=o.avb),null!=R.vis)){var h=1*o.avc+.6*(1.4*o.avp*o.avb);h>R.vis&&(R.visArmor=this,R.vis=h)}}},checkFubarCrushed:function(e,i,t){var a;null==St.TEMPAVS&&(St.TEMPAVS={avc:0,avp:0,avb:0}),a=St.TEMPAVS;for(var s=0,o=_.fields(this.coverage);s<o.length;){var n=o[s];++s;var r=n,l=1<<e.hitLocationHash[r];if(this.writeAVsAtLocation(e,r,l,a,0,!1,i,!0)){var R=0==t?a.avc:1==t?a.avp:a.avb;if(0!=R)return!1}}return!0},normalize:function(){null==this.coverage&&(this.coverage={});var e=null!=this.special&&null!=this.special.otherBodyType?this.special.otherBodyType:Tt.getInstance(),t=this.special,a=this.coverage;this.coverage=null,this.special=null;var s=this.serializeClone();s._coverageValues=[];for(var o=0,n=e.hitLocations.length;o<n;){var r=o++,i=e.hitLocations[r].id;null==a[i]?(s._coverageValues.push(0),s._coverageValues.push(0)):(s._coverageValues.push(r),s._coverageValues.push(a[i]))}return null!=t&&(this.special=t,s.special=t),this.coverage=a,s},getCoverageMask:function(e){for(var i=0,t=0,a=_.fields(this.coverage);t<a.length;){var s=a[t];++t,i|=1<<e.hitLocationHash[s]}return i},get_uid:function(){return bt.prototype.get_uid.call(this)+(null==this.customise?"":" *"+this.customise.name+"*")},addCoverageTagsToStrArr:function(e){var i=null!=this.special&&null!=this.special.otherBodyType?this.special.otherBodyType:Tt.getInstance();i.pushArmorCoverageLabelsTo(this.coverage,e)},addTagsToStrArr:function(e){bt.prototype.addTagsToStrArr.call(this,e),0<this.pp&&e.push("PP -"+this.pp);var i=this.specialFlags;0!=i&&(0!=(1&i)&&e.push("Movable"),0!=(2&i)&&e.push("Hard"),0!=(4&i)&&e.push("Mail"),0!=(8&i)&&e.push("Textile"),0!=(16&i)&&e.push("Bulletproof")),null!=this.special&&this.special.addTagsToStrArr(e,this),null!=this.burdinadin&&this.burdinadin.addTagsToStrArr(e),null!=this.customise&&this.customise.addTagsToStrArr(e)},get_label:function(){return this.name+(null==this.customise?"":" *"+(null==this.customise.name?this.customise.name:this.customise.name)+"*")},getTypeLabel:function(){return"Armor"},getLayerValueAt:function(e,i){var t=null!=this.special&&0!=this.special.layer?(0==this.special.layerCoverage||0!=(this.special.layerCoverage&e)?1:0)*this.special.layer:0;return 0!=i&&0<this.special.wornWith.layer&&this.special.wornWith.layer>t&&(t=this.special.wornWith.layer),t},__class__:St});var xt=function(){this.crest=0,this.hitLocationAllAVModifiers=null,this.name=""};a["troshx.sos.core.ArmorCustomise"]=xt,xt.__name__=["troshx","sos","core","ArmorCustomise"],xt.__interfaces__=[pe],xt.prototype={addTagsToStrArr:function(e){var i=this.crest;1==i&&e.push("*Identifying"),2==i&&e.push("*Intimidating"),3==i&&e.push("*Ruthlessly Fashionable")},get_uid:function(){return this.name},__class__:xt};var At=function(){this.otherBodyType=null,this.hitModifier=null,this.wornWith=null,this.layerCoverage=0,this.layer=0,this.restrictsBreathing=0};a["troshx.sos.core.ArmorSpecial"]=At,At.__name__=["troshx","sos","core","ArmorSpecial"],At.prototype={addTagsToStrArr:function(e,i){var t=this,a=null==this.otherBodyType?Tt.getInstance():this.otherBodyType;if(null!=this.otherBodyType&&e.push("For Body Type: "+a.name),0!=t.restrictsBreathing&&e.push("Restricts Breathing "+t.restrictsBreathing),0<this.layer)if(0!=this.layerCoverage){var s=[];a.pushHitLocationNamesToStrArrByMask(s,this.layerCoverage),e.push("Layer"+(0<s.length?"s":"")+(" "+this.layer+" ("+s.join(", ")+")"))}else e.push("Layer "+this.layer);null!=this.hitModifier&&this.hitModifier.addTagsToStrArr(e,a),null!=this.wornWith&&this.wornWith.addTagsToStrArr(e,i)},__class__:At};var vt=function(){this.addAV=0,this.multiplyAV=1,this.targetZoneMask=0,this.locationMask=0};a["troshx.sos.core.HitModifier"]=vt,vt.__name__=["troshx","sos","core","HitModifier"],vt.prototype={addTagsToStrArr:function(e,i){if((0!=this.targetZoneMask||0!=this.locationMask)&&(1!=this.multiplyAV||0!=this.addAV)){var t=(this.targetZoneMask&i.swingMask)==i.swingMask,a=(this.targetZoneMask&i.thrustMask)==i.thrustMask;if(!(0==this.locationMask&&t&&a)){var s=0!=this.addAV&&1!=this.multiplyAV,o=0==this.multiplyAV&&0==this.addAV?"No AV":(0>this.addAV?"Reduced ":"")+(s?0==this.multiplyAV?0<this.addAV?"Only "+this.addAV+" AV":"+"+-this.addAV+" damage":(0<this.addAV?"+":"")+this.addAV+" AV over "+(.5==this.multiplyAV?"Half AV":this.multiplyAV+"x AV"):1==this.multiplyAV?(0<this.addAV?"+":"")+this.addAV+" AV":.5==this.multiplyAV?"Provides Half AV":this.multiplyAV+"x AV");e.push(o+(0==this.targetZoneMask||t&&a?"":" vs "+i.describeTargetZones(this.targetZoneMask))+(0==this.locationMask?"":" on "+i.getLabelsHitLocationMask(this.locationMask).join(" ,")))}}},__class__:vt};var zt=function(){this.layer=0,this.name=""};a["troshx.sos.core.WornWith"]=zt,zt.__name__=["troshx","sos","core","WornWith"],zt.prototype={addTagsToStrArr:function(e){""==this.name||(0==this.layer||-1==this.layer?e.push("When worn with "+this.name+": Use "+(0==this.layer?"own":this.name)+" AV value instead"):e.push("Can be worn with "+this.name+" for Layer "+this.layer))},__class__:zt};var Tt=function(){this.hitLocationHash=null};a["troshx.sos.core.BodyChar"]=Tt,Tt.__name__=["troshx","sos","core","BodyChar"],Tt.__interfaces__=[ce],Tt.getInstance=function(){return null==Tt.DEFAULT?Tt.DEFAULT=Tt.getNewDefaultInstance():Tt.DEFAULT},Tt.getNewDefaultInstance=function(){var e=new Tt;return e.name="Humanoid",e.targetZones=wt.getNewTargetZones(),e.hitLocations=wt.getNewHitLocations(),e.thrustStartIndex=9,e.rearStartIndex=18,e.missileHitLocations=[-1,9,11,11,12,15,13,14,16,17],e.bake(),e},Tt.createBlankInstance=function(){var e=new Tt;return e.name="",e.targetZones=[],e.missileHitLocations=[],e.hitLocations=[],e.thrustStartIndex=0,e},Tt.createEmptyInstance=function(){return new Tt},Tt.prototype={getNewHitLocationsFrontSlice:function(){return this.hitLocations.slice(0,this.rearStartIndex)},isSwingingAll:function(e){return(e&this.swingMask)==this.swingMask},isThrustingAll:function(e){return(e&this.thrustMask)==this.thrustMask},isSwingingOnly:function(e){return e==this.swingMask},isThrustingOnly:function(e){return e==this.thrustMask},getNewEmptyAvs:function(){for(var e=this.hitLocations,t={},a=0,s=e.length;a<s;){var o=a++,i=e[o];t[i.id]={avp:0,avc:0,avb:0}}return t},getNewEmptyAvsWithVis:function(){for(var e=this.hitLocations,t={},a=0,s=e.length;a<s;){var o=a++,i=e[o];t[i.id]={avp:0,avc:0,avb:0,vis:0,visArmor:null}}return t},isThrusting:function(e){return e>=this.thrustStartIndex},bake:function(){for(var e={},t=0,a=this.hitLocations.length;t<a;){var s=t++;e[this.hitLocations[s].id]=s}this.hitLocationHash=e,this.thrustMask=0;for(var i=this.thrustStartIndex,o=this.targetZones.length;i<o;){var n=i++;this.thrustMask|=1<<n}this.swingMask=0;for(var r=0,l=this.thrustStartIndex;r<l;){var R=r++;this.swingMask|=1<<R}},getTargetZoneHitAreaMasks:function(){for(var e=[],a=0,s=this.targetZones.length;a<s;){var o=a++,i=this.targetZones[o];e.push(i.getHitAreaMask())}return e},getDescLabelTargetZone:function(e,i,a,s){null==a&&(a="Swing to"),null==i&&(i="Thrust to");var o=e>=this.thrustStartIndex,n=this.targetZones[e],t=o?i:a;return(""==n.description?t:null!=s&&e<s.length&&null!=s[e]?s[e]:n.description+" to")+" "+n.name},getDescLabelsTargetZoneMask:function(e){for(var t=[],a=0,s=this.targetZones.length;a<s;){var o=a++;0!=(1<<o&e)&&t.push(this.getDescLabelTargetZone(o))}return t},getTitleLabelsTargetZoneMask:function(e){for(var a=[],s=0,o=this.targetZones.length;s<o;){var n=s++,i=this.targetZones[n];0!=(1<<n&e)&&a.push(i.name+(""==i.description?"":" ("+i.description+")"))}return a},describeTargetZones:function(e){var i="",t=e&this.swingMask,a=e&this.thrustMask;return t==this.swingMask&&a==this.thrustMask?"all swinging and thrusting attacks":(0!=t&&(t==this.swingMask?i+="all Swinging attacks":i+="Swinging attacks to the "+this.getTitleLabelsTargetZoneMask(t).join(", ")),0!=a&&(0!=t&&(i+=" and "),i+=a==this.thrustMask?"all Thrusting attacks":"Thrusting attacks to the "+this.getTitleLabelsTargetZoneMask(a).join(", ")),i)},getLabelsHitLocationMask:function(e){for(var t=[],a=0,s=this.hitLocations.length;a<s;){var o=a++;0!=(1<<o&e)&&t.push(this.hitLocations[o].name)}return t},pushHitLocationNamesToStrArrByMask:function(e,t){for(var a=0,s=this.hitLocations.length;a<s;){var o=a++;0!=(t&1<<o)&&e.push(this.hitLocations[o].name)}},pushArmorCoverageLabelsTo:function(e,i){for(var t=0,a=_.fields(this.hitLocationHash);t<a.length;){var s=a[t];++t;var o=this.hitLocations[this.hitLocationHash[s]],n=e[s];i.push(o.name+(0==(1&n)?"":"\u03D5")+(0==(2&n)?"":"*"))}},getHitLocationLabelFromId:function(e){var t=this.hitLocationHash[e];return null==t?null:this.hitLocations[t].name},getHitLocationById:function(e){var t=this.hitLocationHash[e];return null==t?null:this.hitLocations[t]},gotSideWithId:function(e){var i=this.getHitLocationById(e);return null!=i&&i.twoSided},__class__:Tt};var Lt=function(){};a["troshx.sos.core.IBodyHitZones"]=Lt,Lt.__name__=["troshx","sos","core","IBodyHitZones"];var wt=function(){};a["troshx.sos.core.Humanoid"]=wt,wt.__name__=["troshx","sos","core","Humanoid"],wt.getNewTargetZones=function(){return[oa.create("Head",[3,2,2,3],[4,2,1,0],0,"Downward Swing"),oa.create("Head",[3,2,3,2],[5,3,2,1],0,"Upward Swing"),oa.create("Neck",[3,3,2,2],[4,3,2,1]),oa.create("Torso",[3,4,3],[7,6,5]),oa.create("Upper Arm",[3,4,3],[15,14,4]),oa.create("Lower Arm",[3,4,3],[17,16,15]),oa.create("Upper Leg",[3,4,3],[11,10,8]),oa.create("Lower Leg",[3,4,3],[13,12,11]),oa.create("Groin",[3,4,3],[10,9,7]),oa.create("Head",[3,4,3],[3,1,0]),oa.create("Neck",[3,4,3],[5,3,1]),oa.create("Chest",[3,4,2,1],[7,5,4,3]),oa.create("Belly",[1,1,5,3],[9,8,6,7]),oa.create("Upper Arm",[3,4,3],[15,14,4]),oa.create("Lower Arm",[3,4,3],[17,16,15]),oa.create("Groin",[3,4,3],[10,9,7]),oa.create("Upper Leg",[3,4,3],[11,10,8]),oa.create("Lower Leg",[3,4,3],[13,12,11])]},wt.getNewHitLocations=function(){return[new Ot("Upper Head","upperHead"),new Ot("Face","face"),new Ot("Lower Head","lowerHead"),new Ot("Neck","neck"),new Ot("Shoulder","shoulder",!0),new Ot("Chest","chest"),new Ot("Side","side",!0),new Ot("Belly","belly"),new Ot("Hip","hip",!0),new Ot("Groin","groin"),new Ot("Thigh","thigh",!0),new Ot("Knee","knee",!0),new Ot("Shin","shin",!0),new Ot("Foot","foot",!0),new Ot("Upper Arm","upperArm",!0),new Ot("Elbow","elbow",!0),new Ot("Forearm","forearm",!0),new Ot("Hand","hand",!0),new Ot("Upper Back","upperBack"),new Ot("Lower Back","lowerBack")]};var Mt=function(){};a["troshx.sos.core.BurdinadinArmory"]=Mt,Mt.__name__=["troshx","sos","core","BurdinadinArmory"];var It=function(){this.augmentations=0,this.insulation=0};a["troshx.sos.core.BurdinadinArmor"]=It,It.__name__=["troshx","sos","core","BurdinadinArmor"],It.prototype={addTagsToStrArr:function(e){0!=this.insulation&&e.push("Insulation "+this.insulation),0!=this.augmentations&&e.push("Augmentations ("+this.augmentations+")")},__class__:It};var Ct=function(){this.spanningTools=0,this.span=0};a["troshx.sos.core.Crossbow"]=Ct,Ct.__name__=["troshx","sos","core","Crossbow"],Ct.prototype={getSpanningToolsStrArr:function(){var e=bt.getLabelsOfArray(Et.getDefaultList(),this.spanningTools);return e},addAmmoTagsToStrArr:function(e){0!=this.span&&e.push("Span "+(0<=this.span?"+":"")+this.span)},__class__:Ct};var Et=function(e,i,t,a){null==a&&(a=""),null==t&&(t=!1),null==i&&(i=0),null==e&&(e=""),bt.call(this,a,e),this.spanBonus=i,this.storeSpan=t};a["troshx.sos.core.SpanningTool"]=Et,Et.__name__=["troshx","sos","core","SpanningTool"],Et.getDefaultList=function(){return null==Et.LIST?Et.LIST=Et.getNewDefaultList():Et.LIST},Et.getNewDefaultList=function(){var e=[];return e[0]=new Et("Hand",0,!1,"").setWeightCost(0,0,0),e[1]=new Et("Lever",2,!1,"").setWeightCost(0,5,0),e[2]=new Et("Screw",0,!0,"").setWeightCost(0,1,1),e[3]=new Et("Stirrup",5,!1,"").setWeightCost(1,5,0),e[4]=new Et("Windlass",4,!0,"").setWeightCost(1,2,1),e[5]=new Et("Winch",6,!0,"").setWeightCost(2,3,1),e[6]=new Et("Crank",3,!0,"").setWeightCost(0,1,1),e},Et.__super__=bt,Et.prototype=i(bt.prototype,{__class__:Et});var Pt=function(){};a["troshx.sos.core.DamageType"]=Pt,Pt.__name__=["troshx","sos","core","DamageType"],Pt.isMelee=function(e){return 4>e},Pt.getNewFlagVarNames=function(){return["c","p","b","u","fl","br","el","cl"]},Pt.getFlagVarNames=function(){return null==Pt.FLAG_VAR_NAMES?Pt.FLAG_VAR_NAMES=Pt.getNewFlagVarNames():Pt.FLAG_VAR_NAMES},Pt.getNewFlagLabels=function(){return["Cutting","Piercing","Bludgeoning","Unarmed","Falling","Burn","Electrical","Cold"]},Pt.getFlagLabels=function(){return null==Pt.FLAG_LABELS?Pt.FLAG_LABELS=Pt.getNewFlagLabels():Pt.FLAG_LABELS},Pt.prototype={__class__:Pt};var kt=function(){this.firingMechanism=null,this.highCaliber=0,this.revolver=0,this.magazine=0,this.multishot=0,this.double=!1,this.load=0,this.ammunitionsCustom=null,this.ammunitions=0};a["troshx.sos.core.Firearm"]=kt,kt.__name__=["troshx","sos","core","Firearm"],kt.prototype={addTagsToStrArr:function(e,i,t){this.double&&e.push("Double"),0!=this.multishot&&e.push("Multishot "+(i?0<=this.multishot?"+":"":"")+this.multishot),0!=this.magazine&&e.push("Magazine "+(i?0<=this.magazine?"+":"":"")+this.magazine),0!=this.revolver&&e.push("Revolver "+(i?0<=this.revolver?"+":"":"")+this.revolver),0!=this.revolver&&e.push("High Caliber "+(i?0<=this.highCaliber?"+":"":"")+this.highCaliber),t&&0!=this.load&&e.push("Load "+(i?0<=this.load?"+":"":"")+this.load)},getAmmunitionsStrArr:function(){var e=bt.getLabelsOfArray(Dt.getDefaultList(),this.ammunitions);return null!=this.ammunitionsCustom&&(e=this.ammunitionsCustom.concat(e)),e},__class__:kt};var Ht=function(e,i,t){null==t&&(t=""),null==i&&(i=0),null==e&&(e=""),this.loadingMechanismsCustom=null,bt.call(this,t,e),this.loadingMechanisms=i};a["troshx.sos.core.FiringMechanism"]=Ht,Ht.__name__=["troshx","sos","core","FiringMechanism"],Ht.getDefaultList=function(){return null==Ht.LIST?Ht.LIST=Ht.getNewDefaultList():Ht.LIST},Ht.getNewDefaultList=function(){var e=[],i=new Ht("Caplock",5).setWeightCost(0,12,2);return e[0]=i,i=new Ht("Firelock",1),e[1]=i,i=new Ht("Flintlock",5).setWeightCost(0,3,1),e[2]=i,i=new Ht("Matchlock",5).setWeightCost(0,6,0),e[3]=i,i=new Ht("Needlefire",10).setWeightCost(0,5,2),e[4]=i,i=new Ht("Snaplock",5).setWeightCost(0,2,1),e[5]=i,i=new Ht("Wheelock",5).setWeightCost(0,8,1),e[6]=i,e},Ht.__super__=bt,Ht.prototype=i(bt.prototype,{__class__:Ht});var Bt=function(e,i){null==i&&(i=""),null==e&&(e=""),this._showCustomTags=!0,this.isAmmo=!1,this.firearm=null,this.crossbow=null,this.requiredStr=0,this.stuckChance=0,this.missileSpecial=null,this.missileFlags=0,this.damageTypeM=1,this.damageM=0,this.atnM=0,this.range=0,this.meleeSpecial=null,this.meleeFlags=0,this.guard=0,this.dtn=0,this.damageTypeT=1,this.damageTypeS=0,this.damageT=0,this.damageS=0,this.atnT=0,this.atnS=0,this.variant=null,this.reach=4,this.ranged=!1,this.profsCustom=null,this.profs=0,this.customise=null,bt.call(this,e,i)};a["troshx.sos.core.Weapon"]=Bt,Bt.__name__=["troshx","sos","core","Weapon"],Bt.isTwoHandedOff=function(e){var i=e.meleeFlags,t=e.flags,a=!e.ranged&&!e.isAmmo;return!!(a&&0!=(128&i))&&0!=(1&t)},Bt.IsPowerOfTwoOrZero=function(e){return 0==(e&e-1)},Bt.__super__=bt,Bt.prototype=i(bt.prototype,{normalize:function(){if(this.ranged){var e=0!=(1&this.profs);this.ranged&&e&&!this.isAmmo||(this.requiredStr=0),this.meleeFlags=0,this.meleeSpecial=null,this.atnS=0,this.atnT=0,this.dtn=0,this.guard=0,this.damageS=0,this.damageT=0,this.damageTypeS=0,this.damageTypeT=1,this.variant=null,this.reach=4}else this.missileFlags=0,this.missileSpecial=null,this.stuckChance=0,this.requiredStr=0,this.firearm=null,this.crossbow=null,this.isAmmo=!1,this.damageTypeM=1;return this},isAttachment:function(){var e=0!=(65536&this.meleeFlags),i=0!=(16&this.missileFlags);return this.ranged?i:e},isMeleeAttachmentFor:function(e){return!this.ranged&&0!=(65536&this.meleeFlags)&&e.supportsMeleeAttachment()},supportsMeleeAttachment:function(){var e=this.ranged;return 0!=(20480&this.meleeFlags)&&!e},hasNoProf:function(){return!(null!=this.profsCustom&&0!=this.profsCustom.list.length)&&0==this.profs},matchesTypes:function(e,i){var t=this.profs;return!(this.ranged!=e)&&(null==i||0!=(i&t))},isMelee:function(){return!this.ranged&&!this.isAmmo},isRangedWeap:function(){return!!this.ranged&&!this.isAmmo},isBow:function(){var e=0!=(1&this.profs);return!!(this.ranged&&e)&&!this.isAmmo},isSling:function(){var e=0!=(2&this.profs);return!!(this.ranged&&e)&&!this.isAmmo},isCrossbow:function(){var e=0!=(4&this.profs);return!!(this.ranged&&e&&!this.isAmmo)&&null!=this.crossbow},isFirearm:function(){var e=0!=(8&this.profs);return!!(this.ranged&&e&&!this.isAmmo)&&null!=this.firearm},isThrowing:function(){var e=0!=(16&this.profs);return!!(this.ranged&&e)&&!this.isAmmo},isAmmunition:function(){return!!this.isAmmo&&this.ranged},profLabelStdFirst:function(){var e=Xt.getLabelsOfArrayProfs(this.ranged?null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED:Xt.getCoreMelee(),this.profs);return e[0]},profLabels:function(){var e=Xt.getLabelsOfArrayProfs(this.ranged?null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED:Xt.getCoreMelee(),this.profs);if(null!=this.profsCustom)for(var t=0,a=this.profsCustom.list.length,s;t<a;)s=t++,e.push(this.profsCustom.list[s].name);return e.join(", ")},addTagsToStrArr:function(e){bt.prototype.addTagsToStrArr.call(this,e);var t=this.ranged?this.missileFlags:this.meleeFlags,a;if(this.ranged){a=Zt.getLabelsOfFlags(this.missileSpecial,this.missileFlags);for(var s=0,o=a.length;s<o;){var n=s++;e.push(a[n])}this.isAmmo&&(null!=this.crossbow&&0!=(4&this.profs)&&this.crossbow.addAmmoTagsToStrArr(e),0!=(1&this.profs)&&0!=this.requiredStr&&e.push("Required STR "+(0<=this.requiredStr?"+":"")+this.requiredStr)),null!=this.firearm&&0!=(8&this.profs)&&this.firearm.addTagsToStrArr(e,this.isAmmo,this.isAmmo)}else{a=qt.getLabelsOfFlags(this.meleeSpecial,this.meleeFlags);for(var i=0,r=a.length;i<r;){var l=i++;e.push(a[l])}null!=this.customise&&this._showCustomTags&&this.customise.addMeleeTagsToStrArr(e)}},isMultipleCoreProf:function(){if(0!=this.profs){var e=this.profs;return 0!=(e&e-1)}return!1},hasCustomProf:function(){return null!=this.profsCustom&&0<this.profsCustom.list.length},setSingleProfIndex:function(e){this.profs=1<<e},setMultipleProf:function(e){this.profs=e},get_uid:function(){return bt.prototype.get_uid.call(this)+(null==this.customise?"":"_"+this.customise.get_uid())},getWeapLabel:function(e){var i=0!=(8&this.profs),t,a;return a=!!(this.ranged&&i&&!this.isAmmo&&null!=this.firearm)&&null!=this.firearm.firingMechanism,t=a?this.firearm.firingMechanism.name+" ":"",t+this.name+(e?"*":"")+(null==this.customise?"":" *"+(null==this.customise.name?this.customise.get_uid():this.customise.name)+"*")},get_label:function(){var e=0!=(8&this.profs),i,t;return t=!!(this.ranged&&e&&!this.isAmmo&&null!=this.firearm)&&null!=this.firearm.firingMechanism,i=t?this.firearm.firingMechanism.name+" ":"",i+this.name+""+(null==this.customise?"":" *"+(null==this.customise.name?this.customise.get_uid():this.customise.name)+"*")},getLabelHeld:function(e){var i=0!=(8&this.profs),t,a;return a=!!(this.ranged&&i&&!this.isAmmo&&null!=this.firearm)&&null!=this.firearm.firingMechanism,t=a?this.firearm.firingMechanism.name+" ":"",t+this.name+(e?"*":"")+(null==this.customise?"":" *"+(null==this.customise.name?this.customise.get_uid():this.customise.name)+"*")},getTypeLabel:function(){return"Weapon"},__class__:Bt});var Dt=function(e,i,t){null==t&&(t=""),null==i&&(i=0),null==e&&(e=""),Bt.call(this,t,e),this.stuckChance=i,this.ranged=!0,this.isAmmo=!0,this.firearm=new kt,this.profs=8};a["troshx.sos.core.Ammunition"]=Dt,Dt.__name__=["troshx","sos","core","Ammunition"],Dt.getDefaultList=function(){return null==Dt.LIST?Dt.LIST=Dt.getNewDefaultList():Dt.LIST},Dt.getNewDefaultList=function(){var e=[],i=new Dt("Ball",9).setWeightCost(0,1,0).setUnit(10);return e[0]=i,i.missileSpecial=new Zt,i.missileSpecial.AP=4,i=new Dt("Buck and Ball",9).setWeightCost(0,1,0).setUnit(10),e[1]=i,i.missileSpecial=new Zt,i.missileSpecial.scatter=3,i.missileSpecial.scatter_y=6,i.missileSpecial.AP=2,i.missileFlags=8,i=new Dt("Heavy Shot",9).setWeightCost(0,3,0).setUnit(10),e[2]=i,i.missileSpecial=new Zt,i.missileSpecial.scatter=8,i.missileSpecial.scatter_y=6,i=new Dt("Rifle Ball",8).setWeightCost(0,6,0).setUnit(10),e[3]=i,i.atnM=-1,i.missileSpecial=new Zt,i.missileSpecial.AP=4,i.firearm=new kt,i.firearm.load=-10,i=new Dt("Shot",9).setWeightCost(0,1,0).setUnit(10),e[4]=i,i.missileSpecial=new Zt,i.missileSpecial.scatter=6,i.missileSpecial.scatter_y=6,i=new Dt("Spike",1).setWeightCost(0,1,0),e[5]=i,i.damageM=2,i.atnM=-1,i.range=3,i.firearm=new kt,i.firearm.load=10,e},Dt.__super__=Bt,Dt.prototype=i(Bt.prototype,{__class__:Dt});var Nt=function(e,i,t){null==t&&(t=100),null==i&&(i=0),null==e&&(e=""),this.name=e,this.loadBonus=i,this.ammunitionCostModifier=t};a["troshx.sos.core.LoadingMechanism"]=Nt,Nt.__name__=["troshx","sos","core","LoadingMechanism"],Nt.getDefaultList=function(){return null==Nt.LIST?Nt.LIST=Nt.getNewDefaultList():Nt.LIST},Nt.getNewDefaultList=function(){var e=[],i=new Nt("Manual",0,100);return e[0]=i,i=new Nt("Brass Catridge",10,1e3),e[1]=i,i=new Nt("Paper Catridge",3,200),e[2]=i,i=new Nt("Paper Mache Catridge",5,300),e[3]=i,e},Nt.prototype={get_ammunitionCostRatio:function(){return this.ammunitionCostModifier/100},__class__:Nt};var Ot=function(e,i,t){null==t&&(t=!1),this.name=e,this.id=i,this.twoSided=t};a["troshx.sos.core.HitLocation"]=Ot,Ot.__name__=["troshx","sos","core","HitLocation"],Ot.prototype={get_uid:function(){return this.id},__class__:Ot};var Ft=function(){this.cp=0,this.sp=0,this.gp=0};a["troshx.sos.core.Money"]=Ft,Ft.__name__=["troshx","sos","core","Money"],Ft.create=function(e,i,t){var a=new Ft;return a.gp=e,a.sp=i,a.cp=t,a},Ft.getLabelWith=function(e,i,t){return(0==e?"":e+" gp")+(0==i?"":(0==e?"":" ")+i+" sp")+(0==t?"":(0!=i||0!=e?" ":"")+t+" cp")},Ft.prototype={matchWith:function(e){return this.gp=e.gp,this.sp=e.sp,this.cp=e.cp,this},matchWithValues:function(e,i,t){return this.gp=e,this.sp=i,this.cp=t,this},isNegative:function(){return 0>this.cp},changeToHighest:function(){var e;return 12<this.cp&&(e=0|.08333333333333333*this.cp,this.sp+=e,this.cp-=12*e),20<this.sp&&(e=0|.05*this.sp,this.gp+=e,this.sp-=20*e),this},getLabel:function(){return(0==this.gp?"":this.gp+" gp")+(0==this.sp?"":(0==this.gp?"":" ")+this.sp+" sp")+(0==this.cp?"":(0!=this.sp||0!=this.gp?" ":"")+this.cp+" cp")},tempCalc:function(){return Ft.TEMP.matchWith(this)},resetTo:function(e){return e.matchWith(this),e},addValues:function(e,i,t){return this.gp+=e,this.sp+=i,this.cp+=t,this},getCPValue:function(){return 240*this.gp+12*this.sp+this.cp},getGoldValue:function(){return this.gp+.05*this.sp+.004166666666666667*this.cp},getSilverValue:function(){return 20*this.gp+this.sp+.08333333333333333*this.cp},convertAllToCP:function(){var e=240*this.gp+12*this.sp+this.cp;return this.gp=0,this.sp=0,this.cp=e,this},addCP:function(e){return this.cp+=e,this},subtractCP:function(e){return this.cp-=e,0>this.cp&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),0>this.cp&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},addAgainst:function(e){return this.gp+=e.gp,this.sp+=e.sp,this.cp+=e.cp,this},subtractValues:function(e,i,t){return this.gp-=e,0>this.gp&&(this.sp+=20*this.gp,this.gp=0),this.sp-=i,0>this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp-=t,0>this.cp&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),0>this.cp&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},naiveChangeNegativeCP:function(){0>this.cp&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),0>this.cp&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0))},subtractAgainst:function(e){return this.gp-=e.gp,0>this.gp&&(this.sp+=20*this.gp,this.gp=0),this.sp-=e.sp,0>this.sp&&(this.cp+=12*this.sp,this.sp=0),this.cp-=e.cp,0>this.cp&&(0<this.sp&&(this.cp+=12*this.sp,this.sp=0),0>this.cp&&0<this.gp&&(this.cp+=240*this.gp,this.gp=0)),this},_resetToZero:function(){this.sp=0,this.cp=0,this.gp=0},resetToZero:function(){return this.sp=0,this.cp=0,this.gp=0,this},__class__:Ft};var Wt=function(){this.version=3,this.shieldPosition=0,this.weapons=[],this.shields=[],this.equipedNonMeleeItems=[],this.wornArmor=[],this.dropPack=!1,this.packed=new Se,this.dropped=new Se};a["troshx.sos.core.Inventory"]=Wt,Wt.__name__=["troshx","sos","core","Inventory"],Wt.getUnheldLabelsArray=function(){return["","Sheath/Holster","Strapped-Arm","Strapped-Shoulder","Back","Concealed","DISABLED"]},Wt.getReachBetween=function(e,i){return Vs.maxI(null==e?1:e.reach,null==i?1:i.reach)},Wt.sortBetweenAttachmentItems=function(e,i){var t=e.get_label().toLowerCase(),a=i.get_label().toLowerCase();return t<a?-1:t>a?1:0},Wt.sortBetweenSorted=function(e,i){var t=e.sortVal,a=i.sortVal;return t<a?-1:t>a?1:0},Wt.sortBetweenSortedReversed=function(e,i){var t=e.sortVal,a=i.sortVal;return t<a?1:t>a?-1:0},Wt.isWeaponary=function(e){return!!Y.__instanceof(e,Bt)||Y.__instanceof(e,ea)},Wt.getReadyAssignOf=function(e){var i,t,a,s;return Y.__instanceof(e,Bt)?(i={weapon:e,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++,attached:!1,holding1H:!1},i):Y.__instanceof(e,ea)?(t={shield:e,attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},t):Y.__instanceof(e,St)?(s={armor:e,attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},s):(a={item:e,attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},a)},Wt.getEmptyReadyAssign=function(e){var i,t,a,s;return"weapon"==e?(i={weapon:new Bt,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++,holding1H:!1,attached:!1},i):"shield"==e?(t={shield:new ea,attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},t):"armor"==e?(s={armor:St.createEmptyInstance(),attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},s):(a={item:new bt,attached:!1,held:0,unheld:0,unheldRemark:"",key:Wt.UID_COUNT++},a)},Wt.prototype={setNewDroppedList:function(e){this.dropped=e},getSignaler:function(){return null==this.signaler?this.signaler=this.createSignaler():this.signaler},createSignaler:function(){return this.signaler=new $,this.signaler},setSignaler:function(e){null!=this.signaler&&e!=this.signaler&&this.signaler.removeAll(),this.signaler=e},dispatchSignal:function(e){(null==this.signaler?this.signaler=this.createSignaler():this.signaler).dispatch(e)},findOffHandItem:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(2==this.weapons[a].held)return this.weapons[a].weapon}for(var i=0,s=this.shields.length;i<s;){var o=i++;if(2==this.shields[o].held)return this.shields[o].shield}for(var n=0,r=this.equipedNonMeleeItems.length;n<r;){var l=n++;if(2==this.equipedNonMeleeItems[l].held)return this.equipedNonMeleeItems[l].item}return null},findOffHandAssign:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(2==this.weapons[a].held)return this.weapons[a]}for(var i=0,s=this.shields.length;i<s;){var o=i++;if(2==this.shields[o].held)return this.shields[o]}for(var n=0,r=this.equipedNonMeleeItems.length;n<r;){var l=n++;if(2==this.equipedNonMeleeItems[l].held)return this.equipedNonMeleeItems[l]}return null},findMasterHandItem:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(0!=(1&this.weapons[a].held))return this.weapons[a].weapon}for(var i=0,s=this.shields.length;i<s;){var o=i++;if(0!=(1&this.shields[o].held))return this.shields[o].shield}for(var n=0,r=this.equipedNonMeleeItems.length;n<r;){var l=n++;if(0!=(1&this.equipedNonMeleeItems[l].held))return this.equipedNonMeleeItems[l].item}return null},findMasterHandAssign:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(0!=(1&this.weapons[a].held))return this.weapons[a]}for(var i=0,s=this.shields.length;i<s;){var o=i++;if(0!=(1&this.shields[o].held))return this.shields[o]}for(var n=0,r=this.equipedNonMeleeItems.length;n<r;){var l=n++;if(0!=(1&this.equipedNonMeleeItems[l].held))return this.equipedNonMeleeItems[l]}return null},getOffhandWeaponAssign:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(2==this.weapons[a].held)return this.weapons[a]}return null},getMasterWeaponAssign:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(0!=(1&this.weapons[a].held))return this.weapons[a]}return null},getOffhandWeapon:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(2==this.weapons[a].held){var i=this.weapons[a];return i.holding1H&&null!=i.weapon.variant?i.weapon.variant:i.weapon}}return null},getMasterWeapon:function(){for(var e=0,t=this.weapons.length;e<t;){var a=e++;if(0!=(1&this.weapons[a].held)){var i=this.weapons[a];return i.holding1H&&null!=i.weapon.variant?i.weapon.variant:i.weapon}}return null},getReach:function(){var e=this.getMasterWeapon(),i=this.getOffhandWeapon();return Vs.maxI(null==e?1:e.reach,null==i?1:i.reach)},findHeldShieldAssign:function(){for(var e=0,t=this.shields.length;e<t;){var a=e++;if(2==this.shields[a].held)return this.shields[a]}for(var i=0,s=this.shields.length;i<s;){var o=i++;if(0!=this.shields[o].held)return this.shields[o]}return null},findHeldShield:function(){var e=this.findHeldShieldAssign();return null==e?null:e.shield},getSortedWeapons:function(e,t,a,s){null==s&&(s=!1),null==a&&(a=!1);for(var o=this.getWeildableWeaponsTypeFiltered(e,t,s),n=[],r=0,l=o.length,R,d;r<l;)d=r++,R=o[d],n[d]={assign:R,sortVal:e?R.weapon.atnM:10-R.weapon.reach+(R.weapon.atnS/10+R.weapon.atnT/10+R.weapon.dtn/10)/3};return n.sort(a?Wt.sortBetweenSortedReversed:Wt.sortBetweenSorted),n},getSortedShields:function(e,t){null==t&&(t=!1),null==e&&(e=!1);for(var a=[],o=0,n=this.shields.length,r,l;o<n;)l=o++,(r=this.shields[l],!(t&&0!=r.unheld))&&a.push({assign:r,sortVal:10-r.shield.size+r.shield.blockTN/10});return a.sort(e?Wt.sortBetweenSortedReversed:Wt.sortBetweenSorted),a},getWeildableWeaponsTypeFiltered:function(e,t,a){null==a&&(a=!1);for(var s=[],o=0,n=this.weapons.length;o<n;){var l=o++,i=this.weapons[l];if(!(a&&0!=i.held)){var R=i.weapon,d=R.matchesTypes(e,t),c;if(!(R.isAmmo&&R.ranged)&&d){var h=0!=(65536&R.meleeFlags),y=0!=(16&R.missileFlags);c=R.ranged?!y:!h}else c=!1;c&&s.push(i)}}return s},get_ammoFiltered:function(){for(var e=[],t=0,a=this.weapons.length;t<a;){var s=t++,i=this.weapons[s],o=this.weapons[s].weapon;o.isAmmo&&o.ranged&&e.push(i)}return e},compareItemsEq:function(e,i){var t=new A,a=new A;return t.serialize(e),a.serialize(i),t.toString()==a.toString()},_shiftItem:function(e,i,t,a){if(null==t&&(t=1),0>=t&&(t=1),0<i){if(4!=i){var s,o;if(1==i){s=new Vt(e,t),s.attachments=a;var n,r;return(o=this.packed.getMatchingItem(s),r=null!=o&&o.item!=s.item,n=!!r&&!this.compareItemsEq(o.item.normalize(),s.item.normalize()),n)?s:(this.packed.add(s),null)}if(2==i){s=new Vt(e,t),s.attachments=a;var l,R;return(o=this.dropped.getMatchingItem(s),R=null!=o&&o.item!=s.item,l=!!R&&!this.compareItemsEq(o.item.normalize(),s.item.normalize()),l)?s:(this.dropped.add(s),null)}return console.log("Unaccounted prefered unheld case: "+i),null}return null}if(0>i){var d=new Vt(e);return-2==i?this.dropped.splicedAgainst(d):this.packed.splicedAgainst(d),null}return null},packItemEntryFromGround:function(e,i){null==i&&(i=0),0==i?i=e.qty:e=e.getQtyCopy(i);var t=this._shiftItem(e.item,1,i);return null==t?(this.dropped.splicedAgainst(e),this.dispatchSignal(Gt.PackItem),null):t},dropItemEntryFromPack:function(e,i){null==i&&(i=0),0==i?i=e.qty:e=e.getQtyCopy(i);var t=this._shiftItem(e.item,2,i);return null==t?(this.packed.splicedAgainst(e),this.dispatchSignal(Gt.DropItem),null):t},equipItemEntryFromGround:function(e,i){return null==i&&(i=""),this.dropped.splicedAgainst(new Vt(e.item,1)),this.dispatchSignal(Gt.EquipItem),this.equipItem(e.item,i)},equipItemEntryFromPack:function(e,i){return null==i&&(i=""),this.packed.splicedAgainst(new Vt(e.item,1)),this.dispatchSignal(Gt.EquipItem),this.equipItem(e.item,i)},holdEquiped:function(e,i){this._unholdAllItems(i,Object.prototype.hasOwnProperty.call(e,"shield")),e.held=i,this.dispatchSignal(Gt.HoldItem)},getPerceptionPenalty:function(){for(var e=0,t=0,a=this.wornArmor.length;t<a;){var s=t++;e+=this.wornArmor[s].armor.pp}return e},calculateTotalWeight:function(e,t){null==t&&(t=!1),null==e&&(e=!1);var a=0;if(t)for(var s=0,o=this.dropped.list.length,n;s<o;)n=s++,a+=this.dropped.list[n].item.weight*this.dropped.list[n].qty;if(!this.dropPack||e)for(var r=0,l=this.packed.list.length,R;r<l;)R=r++,a+=this.packed.list[R].item.weight*this.packed.list[R].qty;for(var d=0,c=this.wornArmor.length;d<c;){var h=d++;a+=this.wornArmor[h].armor.weight}for(var y=0,g=this.equipedNonMeleeItems.length;y<g;){var p=y++;a+=this.equipedNonMeleeItems[p].item.weight}for(var _=0,u=this.shields.length;_<u;){var m=_++;a+=this.shields[m].shield.weight}for(var f=0,b=this.weapons.length;f<b;){var S=f++;a+=0==this.weapons[S].held?this.weapons[S].weapon.weight:0}return a},normalizeDroppedItems:function(){for(var e=0,t=this.dropped.list.length;e<t;){var a=e++;this.dropped.list[a].item.normalize()}},normalizeAllItems:function(){for(var e=0,t=this.dropped.list.length;e<t;){var a=e++;this.dropped.list[a].item.normalize()}for(var i=0,s=this.packed.list.length;i<s;){var o=i++;this.packed.list[o].item.normalize()}for(var n=0,r=this.wornArmor.length;n<r;){var l=n++;this.wornArmor[l].armor.normalize()}for(var R=0,d=this.equipedNonMeleeItems.length;R<d;){var c=R++;this.equipedNonMeleeItems[c].item.normalize()}for(var h=0,y=this.shields.length;h<y;){var g=h++;this.shields[g].shield.normalize()}for(var p=0,_=this.weapons.length;p<_;){var u=p++;this.weapons[u].weapon.normalize()}},calculateTotalCost:function(e){null==e&&(e=!1);var t=Wt.MONEY_CALC_CACHE,a,s;if(t[0]=0,t[1]=0,t[2]=0,e)for(var o=0,n=this.dropped.list.length,r;o<n;)r=o++,s=this.dropped.list[r],t[s.item.costCurrency]+=s.item.cost*s.qty;for(var l=0,R=this.packed.list.length,d;l<R;)d=l++,s=this.packed.list[d],t[s.item.costCurrency]+=s.item.cost*s.qty;for(var c=0,h=this.wornArmor.length,y;c<h;)y=c++,a=this.wornArmor[y].armor,t[a.costCurrency]+=a.cost;for(var g=0,p=this.equipedNonMeleeItems.length,_;g<p;)_=g++,a=this.equipedNonMeleeItems[_].item,t[a.costCurrency]+=a.cost;for(var u=0,m=this.shields.length,f;u<m;)f=u++,a=this.shields[f].shield,t[a.costCurrency]+=a.cost;for(var b=0,S=this.weapons.length,x;b<S;)x=b++,a=this.weapons[x].weapon,t[a.costCurrency]+=a.cost;var A=Wt.MONEY_REF;return A.matchWithValues(t[2],t[1],t[0]),A.changeToHighest()},getAttachmentArray:function(e,t,a){if(0>t||t+1>=e.length||!e[t+1].attached)return null;for(var s=[],o=t,n=e.length,r;o<n&&(r=o++,s.push(_.field(e[r],a)),!!e[r].attached););return s.sort(Wt.sortBetweenAttachmentItems),s},cleanupShieldLabels:function(){for(var e=0,t=this.shields.length;e<t;){var a=e++;this.shields[a].shield.tempFixSpecsFromName()}},refreshHalfArmorLabels:function(){for(var e=0,t=this.wornArmor.length;e<t;){var a=e++,i=this.wornArmor[a],s=i.armor.name;if("("!=s.charAt(0)){i.half=4;continue}var o=s.indexOf(" "),n=R.substr(s,o,null);s=R.substr(s,0,o);var r="_"==s.charAt(s.length-1);r&&(s=R.substr(s,0,s.length-1)),"(Half)"==s||"(single)"==s?("(Half)"==s&&(s="(single)",i.armor.name=s+(r?"_":"")+" "+n),i.half=r?2:1):i.half=4}},weildMeleeEquip:function(e){var i=this.findMasterHandItem(),t=this.findOffHandItem();null==i||Y.__instanceof(i,Bt)||Y.__instanceof(i,ea)||(i=null),null==t||Y.__instanceof(t,Bt)||Y.__instanceof(t,ea)||(t=null);var a=null,s,o;if(!(null==i&&(null==a&&(a=this.getSortedWeapons(!1,e,!0,!0)),0<a.length&&(s=a.pop(),this.holdEquiped(s.assign,0==(1&s.assign.weapon.flags)?1:3),0!=(1&s.assign.weapon.flags))))&&null==t){if(o=this.getSortedShields(!0,!0),0<o.length)return void this.holdEquiped(o.pop().assign,2);for(null==a&&(a=this.getSortedWeapons(!1,e,!0,!0));0<a.length;)if(s=a.pop(),0==(1&s.assign.weapon.flags))return void this.holdEquiped(s.assign,2)}},dropEquipedShield:function(e,i){null==i&&(i=!1);var t=this.shields.indexOf(e);if(!i){var a=this._shiftItem(e.shield,2,1);if(null!=a)return a}return this.shields.splice(t,1),this.dispatchSignal(i?Gt.DeleteItem:Gt.DropItem),null},dropMiscItem:function(e,i){null==i&&(i=!1);var t=this.equipedNonMeleeItems.indexOf(e);if(!i){var a=this._shiftItem(e.item,2,1,this.getAttachmentArray(this.equipedNonMeleeItems,t,"item"));if(null!=a)return a}return this.equipedNonMeleeItems.splice(t,1),this.dispatchSignal(i?Gt.DeleteItem:Gt.DropItem),null},dropEquipedWeapon:function(e,i){null==i&&(i=!1);var t=this.weapons.indexOf(e);if(!i){var a=this._shiftItem(e.weapon,2,1,this.getAttachmentArray(this.weapons,t,"weapon"));if(null!=a)return a}return this.weapons.splice(t,1),this.dispatchSignal(i?Gt.DeleteItem:Gt.DropItem),null},dropWornArmor:function(e,i){null==i&&(i=!1);var t=this.wornArmor.indexOf(e);if(!i){var a=this._shiftItem(e.armor,2,1,this.getAttachmentArray(this.wornArmor,t,"armor"));if(null!=a)return a}return this.wornArmor.splice(t,1),this.dispatchSignal(i?Gt.DeleteItem:Gt.DropItem),null},packEquipedShield:function(e){var i=this.shields.indexOf(e),t=this._shiftItem(e.shield,1,1);return null==t?(this.shields.splice(i,1),this.dispatchSignal(Gt.PackItem),null):t},packMiscItem:function(e){var i=this.equipedNonMeleeItems.indexOf(e),t=this._shiftItem(e.item,1,1,this.getAttachmentArray(this.equipedNonMeleeItems,i,"item"));return null==t?(this.equipedNonMeleeItems.splice(i,1),this.dispatchSignal(Gt.PackItem),null):t},packEquipedWeapon:function(e){var i=this.weapons.indexOf(e),t=this._shiftItem(e.weapon,1,1,this.getAttachmentArray(this.weapons,i,"weapon"));return null==t?(this.weapons.splice(i,1),this.dispatchSignal(Gt.PackItem),null):t},packWornArmor:function(e){var i=this.wornArmor.indexOf(e),t=this._shiftItem(e.armor,1,1,this.getAttachmentArray(this.wornArmor,i,"armor"));return null==t?(this.wornArmor.splice(i,1),this.dispatchSignal(Gt.PackItem),null):t},deletePacked:function(e){this.packed["delete"](e),this.dispatchSignal(Gt.DeleteItem)},deleteDropped:function(e){this.dropped["delete"](e),this.dispatchSignal(Gt.DeleteItem)},_unholdAllItems:function(e,a){null==a&&(a=!1);for(var o=0,n=this.weapons.length,r,l,R;o<n;){var d=o++;r=this.weapons[d],0==(2&r.weapon.flags)&&(r.held&=~e,0!=(1&r.weapon.flags)&&3!=r.held&&(r.held=0))}for(var i=0,c=this.shields.length;i<c;){var h=i++;l=this.shields[h],l.held&=~e,(0==(2&l.shield.flags)||a)&&(l.held&=~e,0!=(1&l.shield.flags)&&3!=l.held&&(l.held=0))}for(var y=0,g=this.equipedNonMeleeItems.length;y<g;){var p=y++;R=this.equipedNonMeleeItems[p],0==(2&R.item.flags)&&(R.held&=~e,0!=(1&R.item.flags)&&3!=R.held&&(R.held=0))}},layeredWearingMaskWith:function(e,t,a){for(var s=0,o=this.wornArmor.length;s<o;){var n=s++,i=this.wornArmor[n].armor;if(i.name==t)return e.getCoverageMask(a)&i.getCoverageMask(a)}return 0},equipItem:function(e,i){var t=null,a,s,o,n;return Y.__instanceof(e,Bt)?(a={attached:!1,key:Wt.UID_COUNT++,weapon:Y.__instanceof(e,Bt)?e:null,held:0,unheld:0,unheldRemark:i,holding1H:!1},t=a,this.weapons.push(t)):Y.__instanceof(e,ea)?(s={key:Wt.UID_COUNT++,attached:!1,shield:Y.__instanceof(e,ea)?e:null,held:0,unheld:0,unheldRemark:i},t=s,this.shields.push(t)):Y.__instanceof(e,St)?(n={key:Wt.UID_COUNT++,attached:!1,armor:Y.__instanceof(e,St)?e:null,held:0,unheld:0,unheldRemark:i},t=n,this.wornArmor.push(t)):(o={key:Wt.UID_COUNT++,attached:!1,item:e,held:0,unheld:0,unheldRemark:i},t=o,this.equipedNonMeleeItems.push(t)),t},getEquipedAssignList:function(e){return"weapon"==e?this.weapons:"shield"==e?this.shields:"armor"==e?this.wornArmor:this.equipedNonMeleeItems},cleanupBeforeSerialize:function(){this.setSignaler(null)},postSerialization:function(){this.postSerialize_2(),this.postSerialize_3()},postSerialize_2:function(){if(null==this.version||2>this.version)this.version=2;else return!1;for(var e=0,t=this.wornArmor.length;e<t;){var a=e++;null==this.wornArmor[a].armor.burdinadin&&(this.wornArmor[a].armor.burdinadin=null)}for(var i=0,s=this.dropped.list.length,o,n;i<s;){var r=i++,l=this.dropped.list[r].item;o=Y.__instanceof(l,St)?l:null,n=Y.__instanceof(l,Bt)?l:null,null!=o&&null==o.burdinadin&&(o.burdinadin=null)}for(var R=0,d=this.packed.list.length;R<d;){var c=R++,h=this.packed.list[c].item;o=Y.__instanceof(h,St)?h:null,n=Y.__instanceof(h,Bt)?h:null,null!=o&&null==o.burdinadin&&(o.burdinadin=null)}return!0},postSerialize_3:function(){if(null==this.version||3>this.version)this.version=3;else return!1;for(var e=0,t=this.weapons.length;e<t;){var a=e++;null==this.weapons[a].holding1H&&(this.weapons[a].holding1H=!1)}return!0},__class__:Wt};var Gt=a["troshx.sos.core.InventorySignal"]={__ename__:["troshx","sos","core","InventorySignal"],__constructs__:["DeleteItem","PackItem","DropItem","EquipItem","HoldItem"]};Gt.DeleteItem=["DeleteItem",0],Gt.DeleteItem.toString=s,Gt.DeleteItem.__enum__=Gt,Gt.PackItem=["PackItem",1],Gt.PackItem.toString=s,Gt.PackItem.__enum__=Gt,Gt.DropItem=["DropItem",2],Gt.DropItem.toString=s,Gt.DropItem.__enum__=Gt,Gt.EquipItem=["EquipItem",3],Gt.EquipItem.toString=s,Gt.EquipItem.__enum__=Gt,Gt.HoldItem=["HoldItem",4],Gt.HoldItem.toString=s,Gt.HoldItem.__enum__=Gt;var Vt=function(e,i){null==i&&(i=1),this.attachments=null,this.item=null==e?new bt:e,this.qty=i};a["troshx.sos.core.ItemQty"]=Vt,Vt.__name__=["troshx","sos","core","ItemQty"],Vt.__interfaces__=[Ae,xe,pe],Vt.prototype={isValid:function(){return!!(0<this.qty&&null!=this.item&&null!=this.item.name)&&""!=f.trim(this.item.name)},getQtyCopy:function(e){var i=new Vt(this.item,e);return i.attachments=this.attachments,i},getAttachmentsId:function(){for(var e="",t=0,a=this.attachments.length;t<a;){var s=t++;e+="+"+this.attachments[s].get_uid()}return e},getAttachmentsLabels:function(){for(var e="",t=0,a=this.attachments.length;t<a;){var s=t++;e+="+"+this.attachments[s].get_label()}return e},updateAgainst:function(e){this.qty+=e.qty},spliceAgainst:function(e){return this.qty-=e.qty,this.qty},get_uid:function(){return this.item.get_uid()+(null==this.attachments?"":this.getAttachmentsId())},get_label:function(){return this.item.get_label()+(null==this.attachments?"":this.getAttachmentsLabels())},__class__:Vt};var Ut=function(e,i){this.stun=0,this.damageType=-1,this.damage=0,this.reach=0,this.costVaries=!1,this.costFuncInputs=0,this.cost=0,this.bs=0,this.tn=0,this.usingHands=0,this.tags=0,this.targetZoneMode=0,this.reqStuffs=null,this.requisites=0,this.attackTypes=0,this.types=0,this.isSuperior=!1,this.id=e,this.name=i};a["troshx.sos.core.Manuever"]=Ut,Ut.__name__=["troshx","sos","core","Manuever"],Ut.__interfaces__=[pe,ge],Ut.specificTargetZoneModeMask=function(e){return-e},Ut.hasInitiative=function(e,i){return(e==i.a?-1:e==i.b?1:0)==i.initiative},Ut.getMap=function(){return null==Ut.MAP?Ut.MAP=Ut.getNewMap():Ut.MAP},Ut.getNewMap=function(){return Us.createStrMapFromArray(Ut.getNewArray())},Ut.getArray=function(){return null==Ut.ARRAY?Ut.ARRAY=Ut.getNewArray():Ut.ARRAY},Ut.getNewArray=function(){return[new Ut("","")._tn(-1),new Ut("swing","Swing")._types(2)._requisite(1)._attackTypes(1),new Sa,new ua,new Ut("thrust","Thrust")._types(2)._requisite(1)._attackTypes(2),new Ga,new La,new Ta,new xa,new ma,new ya,new _a,new za,new ga,new fa,new Ut("parry","Parry")._types(1)._requisite(1)._tags(64),new Va,new ha,new ba,new Ut("void","Void")._types(1)._tags(128)._tn(8)._bs(2),new va,new Ma,new Aa,new Ut("block","Block")._types(1)._requisite(2)._tags(256),new qa,new Ka,new Ua,new Za,new Ca,new Ut("buttStrike","Butt Strike")._types(2)._requisite(1)._attackTypes(1),new Ut("pommelStrike","Pommel Strike")._types(2)._requisite(1)._attackTypes(2)._tn(6)._superior(),new Ut("halfSword","Half-Sword")._types(8)._requisite(1)._tags(1536)._costs(1),new Ut("murderStrike","Murder Strike")._types(8)._requisite(1)._tags(1536)._costs(2),new Ya,new Ha,new ka,new Na,new Da,new Oa,new Ba,new Fa,new Wa,new wa,new ja,new pa,new Ea,new Ut("doNothing","Do Nothing")._types(0)._costs(0,-1)._superiorInit(function(e){e.name="Focus"}),new Ut("masterStrike","Masterstrike")._types(0)._costs(2)._superior(),new Ut("doubleAttack","Double Attack")._types(0)._costs(1),new Ut("doubleShot","Double Shot")._types(0)._costs(2),new Ut("quickDefense","Quick Defense")._types(0)._costs(2),new Ut("quickDraw","Quick Draw")._types(0)._costs(1,-1)._tags(1024),new Ut("allyDefense","Ally Defense")._types(0)._costs(2)._tags(1025),new Ut("threadNeedle","Thread the Needle")._types(0)._tags(3072),new Ut("rapidRise","Rapid Rise")._types(0)._tags(3072)._costs(3,-1),new Ut("guardedAttack","Guarded Attack")._types(0)]},Ut.prototype={_types:function(e){return this.types=e,this},_attackTypes:function(e){return this.attackTypes=e,this},_requisite:function(e,i){return this.requisites=e,this.reqStuffs=i,this},getAvailability:function(){return!0},_targetZoneMode:function(e){return this.targetZoneMode=e,this},_superior:function(e){var i=null==e?this.clone():e;return i.isSuperior=!0,this},_superiorInit:function(e){var i=this.clone();return i.isSuperior=!0,e(i),this},clone:function(){var e=S.createEmptyInstance(Y.getClass(this));return this.clonePropertiesFrom(e),e},clonePropertiesFrom:function(e){e.name=this.name,e.cost=this.cost,e.costFuncInputs=this.costFuncInputs,e.types=this.types,e.attackTypes=this.attackTypes,e.requisites=this.requisites,e.reqStuffs=this.reqStuffs,e.targetZoneMode=this.targetZoneMode,e.tags=this.tags,e.usingHands=this.usingHands,e.tn=this.tn,e.bs=this.bs,e.damage=this.damage,e.damageType=this.damageType,e.stun=this.stun,e.reach=this.reach},getSecondary:function(){return null},_tags:function(e){return this.tags=e,this},_usingHands:function(e){return this.usingHands=e,this},_tn:function(e){return this.tn=e,this},_bs:function(e){return this.bs=e,this},_costs:function(e,i,t){return null==t&&(t=!1),null==i&&(i=0),this.cost=e,this.costFuncInputs=i,this.costVaries=t,this},_reach:function(){return this.reach=0,this},hasOwnReach:function(){return 0<this.reach},isRanged:function(){return 0>this.reach},_ranged:function(){return this.reach=-1,this},getMaxInvest:function(){return-1},_damage:function(e,i,t){return null==t&&(t=0),this.damageType=e,this.damage=i,this.stun=t,this},hasOwnDamage:function(){return 0<=this.damageType},handleEvent:function(){return!1},getCost:function(){return this.cost},resolve:function(){},getTN:function(e){return 0==this.requisites?this.tn:this.getRequisiteTN(e)},getRequisiteTN:function(e){var i=e.activeItem,t=this.requisites,a=this.types;0!=e.typePreference&&(a=e.typePreference&a);var s=Y.__instanceof(i,ea)?i:null,o=Y.__instanceof(i,Bt)?i:null,n=0;if(n|=null==s?0:2,n|=null==o?0:1,0!=(8&t)){if(null==i)return-1;if(null!=this.reqStuffs){if(0>this.reqStuffs.indexOf(i.name))return-1;}else if(8==t&&0!=n)return-1}if(t&=7,0!=(4&t)&&null!=i&&!this.itemAsUnarmedAllowed(i))return-1;if(t&=3,(n&t)!=t)return-1;var r;return 0==(1&t)?0==(2&t)?this.tn:(r=0==(2&a)?s.blockTN:s.bashTN,0>=r?-1:0<this.tn?this.tn:r):(r=0==(2&a)?o.dtn:0>this.reach?o.atnM:e.activeEnemyBody.isThrusting(e.activeEnemyZone)?o.atnT:o.atnS,0>=r?-1:0<this.tn?this.tn:r)},itemAsUnarmedAllowed:function(){return!1},get_uid:function(){return this.id},__class__:Ut};var qt=function(){this.custom=null,this.spatulateTip=0,this.shock=0,this.multiHit_Y=0,this.multiHit=0,this.draw=0,this.crushing=0,this.chain=0,this.bleed=0,this.APThrust=0,this.APSwing=0};a["troshx.sos.core.MeleeSpecial"]=qt,qt.__name__=["troshx","sos","core","MeleeSpecial"],qt.getLabelsOfFlags=function(e,i){null==i&&(i=0);var t=[];return 0!=i&&(0!=(1&i)&&t.push("Brace"),0!=(2&i)&&t.push("Calvary Sword"),0!=(4&i)&&t.push("Companion Weapon"),0!=(8&i)&&t.push("Couched Charge"),0!=(16&i)&&t.push("Fluid Thrusts"),0!=(32&i)&&t.push("Forward Swept"),0!=(64&i)&&t.push("Freakishly Large"),0!=(128&i)&&t.push("Hand Off"),0!=(256&i)&&t.push("Heavy Weapon"),0!=(512&i)&&t.push("Hook"),0!=(1024&i)&&t.push("Light Blade"),0!=(2048&i)&&t.push("Parrying Teeth"),0!=(4096&i)&&t.push("Swinging Slot"),0!=(8192&i)&&t.push("Thin Blade"),0!=(16384&i)&&t.push("Thrusting Slot"),0!=(32768&i)&&t.push("Tight Grip"),0!=(65536&i)&&t.push("Weapon Attachment")),null!=e&&(0!=e.APSwing&&t.push("AP Swing "+e.APSwing),0!=e.APThrust&&t.push("AP Thrust "+e.APThrust),0!=e.bleed&&t.push("Bleed "+e.bleed),0!=e.chain&&t.push("Chain "+e.chain),0!=e.crushing&&t.push("Crushing "+e.crushing),0!=e.draw&&t.push("Draw "+e.draw),0!=e.multiHit&&t.push("Multi Hit "+e.multiHit),0!=e.shock&&t.push("Shock "+e.shock),0!=e.spatulateTip&&t.push("Spatulate Tip "+e.spatulateTip)),t},qt.getFlagVarLabels=function(){return["Brace","Calvary Sword","Companion Weapon","Couched Charge","Fluid Thrusts","Forward Swept","Freakishly Large","Hand Off","Heavy Weapon","Hook","Light Blade","Parrying Teeth","Swinging Slot","Thin Blade","Thrusting Slot","Tight Grip","Weapon Attachment"]},qt.getIntVarNames=function(){return["APSwing","APThrust","bleed","chain","crushing","draw","multiHit","shock","spatulateTip"]},qt.prototype={__class__:qt};var Zt=function(){this.custom=null,this.winged=0,this.shock=0,this.scatter_y=1,this.scatter=0,this.flaming=0,this.calvaryBow=0,this.bleed=0,this.AP=0};a["troshx.sos.core.MissileSpecial"]=Zt,Zt.__name__=["troshx","sos","core","MissileSpecial"],Zt.getLabelsOfFlags=function(e,i){null==i&&(i=0);var t=[];return 0!=i&&(0!=(1&i)&&t.push("Bludgeon"),0!=(2&i)&&t.push("Narrow"),0!=(4&i)&&t.push("Shield Stick"),0!=(8&i)&&t.push("Ap First Hit Only"),0!=(16&i)&&t.push("Cheat Attachment")),null!=e&&(0!=e.AP&&t.push("AP "+e.AP),0!=e.bleed&&t.push("Bleed "+e.bleed),0!=e.calvaryBow&&t.push("Calvary Bow "+e.calvaryBow),0!=e.flaming&&t.push("Flaming "+e.flaming),0!=e.scatter&&t.push("Scatter "+e.scatter),0!=e.shock&&t.push("Shock "+e.shock),0!=e.winged&&t.push("Winged "+e.winged)),t},Zt.getFlagVarNames=function(){return["BLUDGEON","NARROW","SHIELD_STICK","AP_FIRST_HIT_ONLY","CHEAT_ATTACHMENT"]},Zt.getFlagVarLabels=function(){return["Bludgeon","Narrow","Shield Stick","Ap First Hit Only","Cheat Attachment"]},Zt.getIntVarNames=function(){return["AP","bleed","calvaryBow","flaming","scatter","shock","winged"]},Zt.prototype={__class__:Zt};var Yt=function(){};a["troshx.sos.core.Modifier"]=Yt,Yt.__name__=["troshx","sos","core","Modifier"],Yt.getStaticModifierSlots=function(){for(var e=[],t=0;21>t;){var a=t++;e[a]=[]}return e},Yt.getSituationalModifierSlots=function(){for(var e=[],t=0;21>t;){var a=t++;e[a]=[]}return e},Yt.prototype={__class__:Yt};var Kt=function(){};a["troshx.sos.core.StaticModifier"]=Kt,Kt.__name__=["troshx","sos","core","StaticModifier"],Kt.create=function(e,i,t,a){null==a&&(a=1);var s=new Kt;return s.name=i,s.index=e,s.multiply=a,s.add=t,s},Kt.prototype={_setIndex:function(e){this.index=e},getModifiedValueMultiply:function(e){return e*this.multiply},getModifiedValueAdd:function(e){return e+this.add},__class__:Kt};var jt=function(){};a["troshx.sos.core.EventModifierBinding"]=jt,jt.__name__=["troshx","sos","core","EventModifierBinding"],jt.create=function(e,i,t){var a=new jt;return a.types=e,a.name=i,a.handler=t,a},jt.prototype={__class__:jt};var Xt=function(e,i){null==i&&(i=0),null==e&&(e=""),this.type=i,this.name=e};a["troshx.sos.core.Profeciency"]=Xt,Xt.__name__=["troshx","sos","core","Profeciency"],Xt.__interfaces__=[xe,pe],Xt.matchHandOffProfs=function(e){return 4==e?2:8==e?1:e},Xt.getCoreMelee=function(){return null==Xt.CORE_MELEE?Xt.CORE_MELEE=Xt.getNewCoreMelee():Xt.CORE_MELEE},Xt.getNewCoreMelee=function(){var e=[];return e[7]=new Xt("Wrestling",0),e[8]=new Xt("Pugilism",0),e[6]=new Xt("Dagger",0),e[0]=new Xt("1H Sword",0),e[1]=new Xt("1H Blunt",0),e[2]=new Xt("2H Blunt",0),e[3]=new Xt("2H Sword",0),e[4]=new Xt("Spear",0),e[5]=new Xt("Polearm",0),e},Xt.getCoreRanged=function(){return null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED},Xt.getNewCoreRanged=function(){var e=[];return e[0]=new Xt("Bow",1),e[1]=new Xt("Sling",1),e[2]=new Xt("Crossbow",1),e[3]=new Xt("Firearm",1),e[4]=new Xt("Throwing",1),e},Xt.getProfsLabelsMelee=function(e){return Xt.getLabelsOfArrayProfs(Xt.getCoreMelee(),e)},Xt.getProfsLabelsRanged=function(e){return Xt.getLabelsOfArrayProfs(null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED,e)},Xt.getProfsCountMelee=function(e){return Xt.getCountOfArrayProfs(Xt.getCoreMelee(),e)},Xt.getProfsCountRanged=function(e){return Xt.getCountOfArrayProfs(null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED,e)},Xt.getCountOfArrayProfs=function(e,t){for(var a=0,s=0,o=e.length;s<o;){var n=s++;a+=0==(t&1<<n)?0:1}return a},Xt.getLabelsOfArrayProfs=function(e,t){for(var a=[],s=0,o=e.length;s<o;){var n=s++;0!=(t&1<<n)&&a.push(e[n].name)}return a},Xt.prototype={updateAgainst:function(){},spliceAgainst:function(){return 0},get_uid:function(){return this.name+Xt.SEPERATOR+this.type},__class__:Xt};var Qt=function(e){this.name=e,this.magic=!1};a["troshx.sos.core.Race"]=Qt,Qt.__name__=["troshx","sos","core","Race"],Qt.__interfaces__=[pe],Qt.prototype={get_uid:function(){return this.name},__class__:Qt};var $t=function(e,i,t){null==t&&(t=0),null==i&&(i=0),null==e&&(e=""),this.costMoney=null,this.name=e,this.profLimit=i,this.costArc=t};a["troshx.sos.core.School"]=$t,$t.__name__=["troshx","sos","core","School"],$t.getLevels=function(){return[0,1,1,1,2,2,2,2,3,3,3,3,3,6,6,6,6,8,10,10]},$t.getTalentAdds=function(){return[1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0]},$t.getSuperiorAdds=function(){return[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1]},$t.prototype={canAffordWith:function(e,i,t){if(null!=t&&(e+=t.costArc),null!=i&&null!=this.costMoney){var a=null!=t&&null!=t.costMoney?t.costMoney:Ft.ZERO;if(0>Ft.TEMP.matchWith(i).addAgainst(a).subtractAgainst(this.costMoney).cp)return!1}return e>=this.costArc},customRequire:function(){return!0},getSchoolBonuses:function(){return null},get_uid:function(){return this.name},__class__:$t};var Jt=function(){};a["troshx.sos.core.SchoolBonuses"]=Jt,Jt.__name__=["troshx","sos","core","SchoolBonuses"],Jt.prototype={getUIFields:function(){return null},getTags:function(){return[]},__class__:Jt};var ea=function(){this.strapType=0,this.damageType=2,this.damage=0,this.durability=6,this.bashTN=0,this.blockTN=7,this.size=0,this.AV=1,bt.call(this)};a["troshx.sos.core.Shield"]=ea,ea.__name__=["troshx","sos","core","Shield"],ea.getHighCoverage=function(){return[{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1},{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,chest:!0},{upperHead:!0,lowerHead:!0,face:!0,neck:!0,shoulder:!0,upperArm:!0,elbow:!0,forearm:!0,hand:!0,chest:!0,belly:!0,side:!0}]},ea.getLowCoverage=function(){return[{chest:!0,belly:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1},{chest:!0,belly:!0,side:!0,groin:!0,hip:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,thigh:!0},{chest:!0,belly:!0,side:!0,groin:!0,hip:!0,neck:!0,upperArm:!1,elbow:!1,forearm:!1,hand:!1,knee:!0,thigh:!0}]},ea.__super__=bt,ea.prototype=i(bt.prototype,{tempFixSpecsFromName:function(){var e=this.name.split(":");if(this.damageType=2,1<e.length){e[0]=f.trim(e[0]),e[1]=f.trim(e[1]);var i=e.pop(),t=i.split(" ");2<=t.length&&(this.durability=u.parseInt(t[1]));var a=t[0],s=a.split("(");this.bashTN=u.parseInt(s[0]),2<=s.length&&")"==s[1].charAt(s[1].length-1)?(a=s[1],a=R.substr(a,0,a.length-1),this.damage=u.parseInt(a),a=a.charAt(a.length-1),"c"==a?this.damageType=0:"p"==a&&(this.damageType=1)):console.log("Warning!! Could not find open/close bracket of:"+this.name),isNaN(this.bashTN)&&(this.bashTN=0,console.log("Warning:: failed to parse bashTN of title:"+this.name)),isNaN(this.damage)&&(this.damage=0,console.log("Warning:: failed to parse damage of title:"+this.name)),isNaN(this.durability)&&(this.durability=6,console.log("Warning:: failed to parse durability of title:"+this.name))}this.name=e.join(":")},addTagsToStrArr:function(e){bt.prototype.addTagsToStrArr.call(this,e),0!=(2&this.flags)&&e.push(0==this.strapType?"Arm-strap":"Shoulder-strap")},getTypeLabel:function(){return"Shield"},__class__:ea});var ia=function(){};a["troshx.sos.core.Skill"]=ia,ia.__name__=["troshx","sos","core","Skill"],ia.isVarious=function(e){return 0!=(e&e-1)},ia.specialisationName=function(e,i){return e+" ("+i+")"},ia.getBaseFromSpecialisationNaive=function(e){var i=e.indexOf(" (");return 0<i?e.substring(0,i):null},ia.getBaseFromSpecialisation=function(e){var i=e.indexOf(" (");return 0<i&&e.length>2+1&&")"==R.substr(e,e.length-1,null)?e.substring(0,i):null},ia.getSplitFromSpecialisation=function(e){var i=e.indexOf(" (");return 0<i&&e.length>2+1&&")"==R.substr(e,e.length-1,null)?[e.substring(0,i),e.substring(i+2,e.length-1)]:null};var ta=function(){};a["troshx.sos.core.SkillTable"]=ta,ta.__name__=["troshx","sos","core","SkillTable"],ta.getNewEmptySkillTable=function(e){var i=new ta;return i.skillHash={},null==e?(i.requiresTrained={},i.requiresSpecialisation={}):(i.requiresTrained=e.requiresTrained,i.requiresSpecialisation=e.requiresSpecialisation),i},ta.getDefaultSkillTable=function(){return null==ta.DEFAULT?ta.DEFAULT=ta.getNewDefaultSkillTable():ta.DEFAULT},ta.getNewDefaultSkillTable=function(){var e=new ta;return e.skillHash={Athletics:7,Chymistry:64,Climbing:4,Cooking:64,Crafting:64,Drill:16,Engineering:64,Etiquette:32,"Gather Information":256,Hunting:128,Intimidation:256,Knowledge:64,Navigation:128,Observation:128,Oration:256,Performance:256,Persuasion:256,Profession:16,Research:64,Riding:2,Sailing:32,Stealth:2,Strategy:64,Subterfuge:256,Surgery:64,Swimming:4,Tactics:64,Thievery:2},e.requiresTrained={Crafting:!0,Engineering:!0,History:!0,Navigation:!0,Swimming:!0,Tactics:!0,Strategy:!0,Etiquette:!0},e.requiresSpecialisation={Profession:!0,Knowledge:!0,Crafting:!0,Performance:!0},e},ta.sortArrayMethod=function(e,i){var t=e.name.toLowerCase(),a=i.name.toLowerCase();return t<a?-1:t>a?1:0},ta.prototype={getSpecialisationList:function(){for(var e=[],i=0,t=_.fields(this.requiresSpecialisation);i<t.length;){var a=t[i];++i,e.push(a)}return e},getSkillObjectsAsArray:function(e){null==e&&(e=!0);for(var i=[],t=0,a=_.fields(this.skillHash),s;t<a.length;)s=a[t],++t,i.push({name:s,attribs:this.skillHash[s]});return e&&i.sort(ta.sortArrayMethod),i},matchRulesWith:function(e){this.requiresTrained=e.requiresTrained,this.requiresSpecialisation=e.requiresSpecialisation},requiresSpecification:function(e){return this.requiresSpecialisation[e]},clearAllSkills:function(e){if(e)this.skillHash={};else for(var i=0,t=_.fields(this.skillHash),a;i<t.length;)a=t[i],++i,_.deleteField(this.skillHash,a)},canAttemptUntrained:function(e){return!this.requiresTrained[e]},getSkillValue:function(e){return this.skillHash[e]},hasSkill:function(e){return Object.prototype.hasOwnProperty.call(this.skillHash,e)},setSkill:function(e,i){this.skillHash[e]=i},matchValuesWith:function(e){for(var i=0,t=_.fields(e.skillHash);i<t.length;){var a=t[i];++i;var s=e.skillHash[a];this.skillHash[a]=s}},addSpecialisationTo:function(e,i,t){if(null==t&&(t=0),Object.prototype.hasOwnProperty.call(this.skillHash,e))throw new Z("No skill found for:"+e);var a;return a=e+" ("+i+")",this.skillHash[a]=0==t?this.skillHash[e]:t,a},removeSkill:function(e){return _.deleteField(this.skillHash,e)},getSubjects:function(){for(var e=[],i=0,t=_.fields(this.skillHash);i<t.length;){var a=t[i];++i;var s=ia.getSplitFromSpecialisation(a);null!=s&&e.push(s[1])}return e},__class__:ta};var aa=function(e,i,t){this.wealthIndex=0,this.classIndex=0,this.name=e,this.money=i,this.wealth=t};a["troshx.sos.core.SocialClass"]=aa,aa.__name__=["troshx","sos","core","SocialClass"],aa.prototype={__class__:aa};var sa=function(){this.level=0,this.name=""};a["troshx.sos.core.Talent"]=sa,sa.__name__=["troshx","sos","core","Talent"],sa.__interfaces__=[pe],sa.prototype={get_uid:function(){return this.name+"_"+this.level},get_label:function(){return this.name+(1<=this.level?"("+this.level+")":"")},__class__:sa};var oa=function(){this.description="",this.weightsTotal=0};a["troshx.sos.core.TargetZone"]=oa,oa.__name__=["troshx","sos","core","TargetZone"],oa.create=function(e,i,t,a,s){null==s&&(s=""),null==a&&(a=0);var o=new oa;return o.name=e,o.parts=t,o.partWeights=i,o.description=s,o.weightsTotal=a,0==a&&o.recalcWeightsTotal(),o},oa.prototype={recalcWeightsTotal:function(){for(var e=0,t=this.partWeights.length;-1<--t;)e+=this.partWeights[t];this.weightsTotal=e},getBodyPart:function(e){e*=this.weightsTotal;for(var t=0,a=0,s=0,o=this.partWeights.length;s<o;){var n=s++;if(e<t)break;t+=this.partWeights[n],a=n}return this.parts[a]},getHitAreaMask:function(){for(var e=0,t=0,a=this.parts.length;t<a;){var s=t++;e|=1<<this.parts[s]}return e},__class__:oa};var na=function(){this.original=null,this.name="",this.melee=null,this.meleeFlags=0};a["troshx.sos.core.WeaponCustomise"]=na,na.__name__=["troshx","sos","core","WeaponCustomise"],na.__interfaces__=[pe],na.prototype={addMeleeTagsToStrArr:function(e){var i=this.meleeFlags;if(0!=(1&i)&&e.push("*Custom Hilt"),0!=(2&i)&&e.push("*Ridiculously Sharp"),0!=(4&i)&&e.push("*Exquisite Decoration"),0!=(8&i)&&e.push("*Bizarre Gimmick"),null!=this.melee){var t=this.melee;0!=t.customGrip&&e.push("*Custom Grip "+t.customGrip),0!=t.fineForging&&e.push("*Fine Forging "+t.fineForging),0!=t.integratedPistol&&e.push("*Integrated Pistol "+t.integratedPistol)}},hasBizarreGimmick:function(){return 0!=(8&this.meleeFlags)},hasExquisiteDecoration:function(){return 0!=(4&this.meleeFlags)},isRidiculouslySharp:function(){return 0!=(2&this.meleeFlags)},get_uid:function(){return"_"+this.name+"_"+this.meleeFlags+(null==this.melee?"":this.melee.getUID(this.meleeFlags))},__class__:na};var ra=function(){this.exquisiteDecorDesc="",this.bizarreGimmickDesc="",this.sharpened=!0,this.integratedPistol=0,this.fineForging=0,this.customGrip=0};a["troshx.sos.core.CustomMelee"]=ra,ra.__name__=["troshx","sos","core","CustomMelee"],ra.prototype={getUID:function(){return"_"+this.customGrip+"_"+this.fineForging+"_"+this.integratedPistol},__class__:ra};var la=function(e,i,t){this.age=0,this.uidSuffix="",this.flags=0,this.BL=0,this.pain=0,this.stun=0,this.leftSide=!1,this.damageType=0,this.level=0,this.locationId=e,this.level=i,this.damageType=t};a["troshx.sos.core.Wound"]=la,la.__name__=["troshx","sos","core","Wound"],la.__interfaces__=[xe],la.getNewFlagLabels=function(){return["Staunched","Treated"]},la.getFlagLabels=function(){return null==la.FLAG_LABELS?la.FLAG_LABELS=la.getNewFlagLabels():la.FLAG_LABELS},la.getNewEmptyAssign=function(){var e=new la("",0,0);return e.notes="",e},la.prototype={isNullified:function(){return!(0!=this.stun||0!=this.pain)&&0==this.BL},getDescLabel:function(e,i){var t=0<=this.damageType&&this.damageType<i.length?" "+i[this.damageType]:"",a=e.getHitLocationById(this.locationId);return"Level "+this.level+t+" wound"+(""==this.locationId?"":" on the "+(null!=a&&a.twoSided?this.leftSide?"Left ":"Right ":"")+e.getHitLocationLabelFromId(this.locationId))},updateAgainst:function(e){e.stun>this.stun&&(this.stun=e.stun),e.pain>this.pain&&(this.pain=e.pain),e.BL>this.BL&&(this.BL=e.BL),this.flags&=-4,this.age=0},spliceAgainst:function(e){return this.updateAgainst(e),-1},makeUnique:function(){this.uidSuffix="^"+la.UNIQUE_COUNT},isTreated:function(){return 0!=(2&this.flags)},gotBloodLost:function(){return 0==(3&this.flags)},getUID:function(e){return this.locationId+"_"+this.level+"_"+this.damageType+(e.gotSideWithId(this.locationId)?this.leftSide?"l":"r":"")+this.uidSuffix},__class__:la};var Ra=function(){this.totalSuccesses=null,this.rolls=null};a["troshx.sos.events.Challenge"]=Ra,Ra.__name__=["troshx","sos","events","Challenge"],Ra.prototype={isResolved:function(){return null!=this.totalSuccesses},__class__:Ra};var da=a["troshx.sos.events.SOSEvent"]={__ename__:["troshx","sos","events","SOSEvent"],__constructs__:["FATIQUE_GAIN","MELEE_INITIATIVE_TEST","MISS_TARGET","HIT_TARGET","HIT_TARGET_ARMOR","DAMAGE_TARGET_RESOLVE","WOUND_INFLICT","MELEE_EXCHANGE_RESOLVE","MELEE_BOUT_RESOLVE","CHALLENGE_INIT","CHALLENGE_EXECUTE"]};da.FATIQUE_GAIN=function(e,i){var t=["FATIQUE_GAIN",0,e,i];return t.__enum__=da,t.toString=s,t},da.MELEE_INITIATIVE_TEST=function(e,i){var t=["MELEE_INITIATIVE_TEST",1,e,i];return t.__enum__=da,t.toString=s,t},da.MISS_TARGET=function(e,i,t){var a=["MISS_TARGET",2,e,i,t];return a.__enum__=da,a.toString=s,a},da.HIT_TARGET=function(e,i,t){var a=["HIT_TARGET",3,e,i,t];return a.__enum__=da,a.toString=s,a},da.HIT_TARGET_ARMOR=function(e,i,t,a){var o=["HIT_TARGET_ARMOR",4,e,i,t,a];return o.__enum__=da,o.toString=s,o},da.DAMAGE_TARGET_RESOLVE=function(e,i,t,a){var o=["DAMAGE_TARGET_RESOLVE",5,e,i,t,a];return o.__enum__=da,o.toString=s,o},da.WOUND_INFLICT=function(e,i){var t=["WOUND_INFLICT",6,e,i];return t.__enum__=da,t.toString=s,t},da.MELEE_EXCHANGE_RESOLVE=["MELEE_EXCHANGE_RESOLVE",7],da.MELEE_EXCHANGE_RESOLVE.toString=s,da.MELEE_EXCHANGE_RESOLVE.__enum__=da,da.MELEE_BOUT_RESOLVE=["MELEE_BOUT_RESOLVE",8],da.MELEE_BOUT_RESOLVE.toString=s,da.MELEE_BOUT_RESOLVE.__enum__=da,da.CHALLENGE_INIT=function(e,i,t){var a=["CHALLENGE_INIT",9,e,i,t];return a.__enum__=da,a.toString=s,a},da.CHALLENGE_EXECUTE=function(e,i,t,a){var o=["CHALLENGE_EXECUTE",10,e,i,t,a];return o.__enum__=da,o.toString=s,o};var ca=function(){};a["troshx.sos.macro.MacroUtil"]=ca,ca.__name__=["troshx","sos","macro","MacroUtil"];var ha=function(){Ut.call(this,"armParry","Arm Parry"),this._types(1)._requisite(4)._tags(64)._tn(7)._superiorInit(function(e){e._tn(6)})};a["troshx.sos.manuevers.ArmParry"]=ha,ha.__name__=["troshx","sos","manuevers","ArmParry"],ha.__super__=Ut,ha.prototype=i(Ut.prototype,{getTN:function(e){var i=Ut.prototype.getTN.call(this,e);if(0>i)return i;var t=e.usingLeftLimb;return null!=e.replyTo&&(4==e.replyTo.targetZone||5==e.replyTo.targetZone||14==e.replyTo.targetZone||13==e.replyTo.targetZone)&&e.replyTo.targetZonePreferLeft==t&&++i,i},getAvailability:function(e,i,t){var a=t.activeItem;return 0<a.atnS},__class__:ha});var ya=function(){Ut.call(this,"beat","Beat"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(3)._superior()};a["troshx.sos.manuevers.Beat"]=ya,ya.__name__=["troshx","sos","manuevers","Beat"],ya.__super__=Ut,ya.prototype=i(Ut.prototype,{getAvailability:function(e){var i=!e.secondTempo,t=!!this.isSuperior||2>e.roundCount;return!!i&&t},__class__:ya});var ga=function(){Ut.call(this,"shieldBeat","Shield Beat"),this._types(2)._requisite(2)._attackTypes(0)._targetZoneMode(3)._reach(3)._costs(2)};a["troshx.sos.manuevers.ShieldBeat"]=ga,ga.__name__=["troshx","sos","manuevers","ShieldBeat"],ga.__super__=Ut,ga.prototype=i(Ut.prototype,{__class__:ga});var pa=function(){Ut.call(this,"blindToss","Blind Toss"),this._types(2)._requisite(8)._tn(5)._costs(0,0,!0)};a["troshx.sos.manuevers.BlindToss"]=pa,pa.__name__=["troshx","sos","manuevers","BlindToss"],pa.__super__=Ut,pa.prototype=i(Ut.prototype,{getAvailability:function(e,i){return 7>=i.targetLink.reach},__class__:pa});var _a=function(){Ut.call(this,"break","Break"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(1)._costs(2)._superior()};a["troshx.sos.manuevers.Break"]=_a,_a.__name__=["troshx","sos","manuevers","Break"],_a.__super__=Ut,_a.prototype=i(Ut.prototype,{__class__:_a});var ua=function(){Ut.call(this,"cleavingBlow","Cleaving Blow"),this._types(2)._requisite(1)._attackTypes(1)._tags(1)._costs(2,-2)};a["troshx.sos.manuevers.CleavingBlow"]=ua,ua.__name__=["troshx","sos","manuevers","CleavingBlow"],ua.__super__=Ut,ua.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem,s=1<e.countLinkedOpponents(i);return!!(5<=a.reach)&&s},__class__:ua});var ma=function(){Ut.call(this,"disarm","Disarm"),this._types(2)._requisite(1)._costs(1)._attackTypes(1)._targetZoneMode(1)._superior()};a["troshx.sos.manuevers.Disarm"]=ma,ma.__name__=["troshx","sos","manuevers","Disarm"],ma.__super__=Ut,ma.prototype=i(Ut.prototype,{__class__:ma});var fa=function(){Ut.call(this,"disarmUnarmedAtk","Disarm (Unarmed)"),this._types(2)._requisite(4)._targetZoneMode(1)._costs(1)._reach(2)._tn(7)._superiorInit(function(e){e._tn(6)})};a["troshx.sos.manuevers.DisarmUnarmedAtk"]=fa,fa.__name__=["troshx","sos","manuevers","DisarmUnarmedAtk"],fa.__super__=Ut,fa.prototype=i(Ut.prototype,{__class__:fa});var ba=function(){Ut.call(this,"disarmUnarmedDef","Disarm (Unarmed)"),this._types(1)._requisite(4)._tags(64)._costs(1)._reach(2)._tn(8)._superiorInit(function(e){e._tn(7)})};a["troshx.sos.manuevers.DisarmUnarmedDef"]=ba,ba.__name__=["troshx","sos","manuevers","DisarmUnarmedDef"],ba.__super__=Ut,ba.prototype=i(Ut.prototype,{__class__:ba});var Sa=function(){Ut.call(this,"drawCut","Deep Draw Cut"),this._types(2)._requisite(1)._attackTypes(1)};a["troshx.sos.manuevers.DrawCut"]=Sa,Sa.__name__=["troshx","sos","manuevers","DrawCut"],Sa.__super__=Ut,Sa.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem;return!(0!=a.damageTypeS)&&null!=a.meleeSpecial&&0<a.meleeSpecial.draw},__class__:Sa});var xa=function(){Ut.call(this,"feint","Feint"),this._types(2)._requisite(1)._attackTypes(3)._costs(2,-2)._superior()};a["troshx.sos.manuevers.Feint"]=xa,xa.__name__=["troshx","sos","manuevers","Feint"],xa.__super__=Ut,xa.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem,s=0!=(16&a.meleeFlags);return t.activeEnemyBody.isThrusting(t.activeEnemyZone)||!s},__class__:xa});var Aa=function(){Ut.call(this,"flee","Flee"),this._types(1)._tags(128)._tn(5)};a["troshx.sos.manuevers.Flee"]=Aa,Aa.__name__=["troshx","sos","manuevers","Flee"],Aa.__super__=Ut,Aa.prototype=i(Ut.prototype,{getAvailability:function(e,i){var t=0==i.fight.attackManuevers.length,a=1>=e.roundCount,s=3==i.fight.orientation;return!(i.fight.lastAttacking||!t)&&(!!!a||s)},getMaxInvest:function(e,i){var t=i.charSheet,a=t.get_encumbranceLvlRow();return a.mobMult*t.clampIntZero(t.getModifiedValue(9,0|(t.get_STR()+t.get_AGI()+t.get_END())/2)+a.mob+Ts.getTable()[t.get_fatiqueLevel()].mob)},__class__:Aa});var va=function(){Ut.call(this,"hastyVoid","Hasty Void"),this._types(1)._tags(128)._tn(7)._bs(2)};a["troshx.sos.manuevers.HastyVoid"]=va,va.__name__=["troshx","sos","manuevers","HastyVoid"],va.__super__=Ut,va.prototype=i(Ut.prototype,{__class__:va});var za=function(){Ut.call(this,"hew","Hew"),this._types(2)._requisite(1)._attackTypes(1)._targetZoneMode(2)._costs(1)._superior()};a["troshx.sos.manuevers.Hew"]=za,za.__name__=["troshx","sos","manuevers","Hew"],za.__super__=Ut,za.prototype=i(Ut.prototype,{__class__:za});var Ta=function(){Ut.call(this,"hook","Hook"),this._types(2)._requisite(1)._attackTypes(3)._targetZoneMode(-1)._costs(1)._superior()};a["troshx.sos.manuevers.Hook"]=Ta,Ta.__name__=["troshx","sos","manuevers","Hook"],Ta.__super__=Ut,Ta.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem;return 0!=(512&a.meleeFlags)},__class__:Ta});var La=function(){Ut.call(this,"jointThrust","Joint Thrust"),this._types(2)._requisite(1)._attackTypes(2)._costs(0,0,!0)};a["troshx.sos.manuevers.JointThrust"]=La,La.__name__=["troshx","sos","manuevers","JointThrust"],La.__super__=Ut,La.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem;return 1==a.damageTypeT},__class__:La});var wa=function(){Ut.call(this,"meleeShoot","Melee Shoot"),this._types(2)._requisite(1)._attackTypes(2)._ranged()};a["troshx.sos.manuevers.MeleeShoot"]=wa,wa.__name__=["troshx","sos","manuevers","MeleeShoot"],wa.__super__=Ut,wa.prototype=i(Ut.prototype,{getAvailability:function(){return!0},__class__:wa});var Ma=function(){Ut.call(this,"mobileVoid","Mobile Void"),this._types(1)._tags(128)._tn(8)._bs(1)};a["troshx.sos.manuevers.MobileVoid"]=Ma,Ma.__name__=["troshx","sos","manuevers","MobileVoid"],Ma.__super__=Ut,Ma.prototype=i(Ut.prototype,{__class__:Ma});var Ia=function(){};a["troshx.sos.manuevers.NetItems"]=Ia,Ia.__name__=["troshx","sos","manuevers","NetItems"];var Ca=function(){Ut.call(this,"netFeint","Net Feint"),this._types(2)._requisite(1,Ia.STUFF)._costs(1,-2)._ranged()};a["troshx.sos.manuevers.NetFeint"]=Ca,Ca.__name__=["troshx","sos","manuevers","NetFeint"],Ca.__super__=Ut,Ca.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.usingLeftLimb,s;return s=a?i.charSheet.inventory.getMasterWeapon():i.charSheet.inventory.getOffhandWeapon(),null!=s&&!s.ranged&&!s.isAmmo},__class__:Ca});var Ea=function(){Ut.call(this,"netToss","Net Toss"),this._types(2)._requisite(9)._ranged()};a["troshx.sos.manuevers.NetToss"]=Ea,Ea.__name__=["troshx","sos","manuevers","NetToss"],Ea.__super__=Ut,Ea.prototype=i(Ut.prototype,{__class__:Ea});var Pa=function(e,i){Ut.call(this,e,i),this._types(2)._requisite(4)};a["troshx.sos.manuevers.PugilisiticAttack"]=Pa,Pa.__name__=["troshx","sos","manuevers","PugilisiticAttack"],Pa.__super__=Ut,Pa.prototype=i(Ut.prototype,{__class__:Pa});var ka=function(){Pa.call(this,"hookPunch","Hook Punch"),this._reach(1)._tn(6)._attackTypes(1)._damage(3,1)._superiorInit(function(e){e._damage(3,2,2)})};a["troshx.sos.manuevers.HookPunch"]=ka,ka.__name__=["troshx","sos","manuevers","HookPunch"],ka.__super__=Pa,ka.prototype=i(Pa.prototype,{__class__:ka});var Ha=function(){Pa.call(this,"straightPunch","Straight Punch"),this._reach(2)._tn(6)._attackTypes(2)._damage(3,2)._superiorInit(function(e){e._damage(3,3,1)})};a["troshx.sos.manuevers.StraightPunch"]=Ha,Ha.__name__=["troshx","sos","manuevers","StraightPunch"],Ha.__super__=Pa,Ha.prototype=i(Pa.prototype,{__class__:Ha});var Ba=function(){Pa.call(this,"knee","Knee"),this._reach(1)._tn(7)._attackTypes(2)._damage(3,1)._superiorInit(function(e){e._damage(3,3)})};a["troshx.sos.manuevers.Knee"]=Ba,Ba.__name__=["troshx","sos","manuevers","Knee"],Ba.__super__=Pa,Ba.prototype=i(Pa.prototype,{__class__:Ba});var Da=function(){Pa.call(this,"headbutt","Headbutt"),this._reach(1)._tn(6)._attackTypes(2)._targetZoneMode(-2560)._damage(3,1)._costs(1)};a["troshx.sos.manuevers.HeadButt"]=Da,Da.__name__=["troshx","sos","manuevers","HeadButt"],Da.__super__=Pa,Da.prototype=i(Pa.prototype,{__class__:Da});var Na=function(){Pa.call(this,"elbow","Elbow"),this._reach(1)._tn(7)._attackTypes(3)._damage(3,0)._superiorInit(function(e){e._damage(3,2)})};a["troshx.sos.manuevers.Elbow"]=Na,Na.__name__=["troshx","sos","manuevers","Elbow"],Na.__super__=Pa,Na.prototype=i(Pa.prototype,{__class__:Na});var Oa=function(){Pa.call(this,"kick","Kick"),this._reach(3)._tn(7)._attackTypes(3)._damage(3,0)._superiorInit(function(e){e._damage(3,2)})};a["troshx.sos.manuevers.Kick"]=Oa,Oa.__name__=["troshx","sos","manuevers","Kick"],Oa.__super__=Pa,Oa.prototype=i(Pa.prototype,{__class__:Oa});var Fa=function(){Pa.call(this,"trip","Trip"),this._reach(1)._tn(8)._attackTypes(3)._targetZoneMode(-192)._superior()};a["troshx.sos.manuevers.Trip"]=Fa,Fa.__name__=["troshx","sos","manuevers","Trip"],Fa.__super__=Pa,Fa.prototype=i(Pa.prototype,{__class__:Fa});var Wa=function(){Pa.call(this,"oneTwoPunch","One-Two Punch"),this._costs(2,-2)};a["troshx.sos.manuevers.OneTwoPunch"]=Wa,Wa.__name__=["troshx","sos","manuevers","OneTwoPunch"],Wa.__super__=Pa,Wa.prototype=i(Pa.prototype,{getAvailability:function(e,i,t){var a=t.usingLeftLimb?i.charSheet.inventory.findMasterHandItem():i.charSheet.inventory.findOffHandItem();return null==a},__class__:Wa});var Ga=function(){Ut.call(this,"pushCut","Push Cut"),this._types(2)._requisite(1)._attackTypes(2)._costs(1)._superior()};a["troshx.sos.manuevers.PushCut"]=Ga,Ga.__name__=["troshx","sos","manuevers","PushCut"],Ga.__super__=Ut,Ga.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem;return!!(0<a.atnS)&&0==a.damageTypeS},__class__:Ga});var Va=function(){Ut.call(this,"riposte","Riposte"),this._types(1)._requisite(1)._tags(576)._costs(2)._superior()};a["troshx.sos.manuevers.Riposte"]=Va,Va.__name__=["troshx","sos","manuevers","Riposte"],Va.__super__=Ut,Va.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeItem;return 0<a.atnS},__class__:Va});var Ua=function(){Ut.call(this,"shieldBash","Shield Bash"),this._types(2)._requisite(2)._reach(2)._attackTypes(2)._superior()};a["troshx.sos.manuevers.ShieldBash"]=Ua,Ua.__name__=["troshx","sos","manuevers","ShieldBash"],Ua.__super__=Ut,Ua.prototype=i(Ut.prototype,{getSecondary:function(){return null==this._bash?this._bash=new Ua:this._bash},__class__:Ua});var qa=function(){Ut.call(this,"shieldBind","Shield Bind"),this._types(1)._requisite(2)._tags(768)._costs(1)._superior()};a["troshx.sos.manuevers.ShieldBind"]=qa,qa.__name__=["troshx","sos","manuevers","ShieldBind"],qa.__super__=Ut,qa.prototype=i(Ut.prototype,{getAvailability:function(e,i,t){var a=t.activeEnemyItem,s=Y.__instanceof(a,Bt)?a:null;return null!=s&&!(s.ranged||s.isAmmo)&&4<=s.range},__class__:qa});var Za=function(){Ut.call(this,"shieldFeint","Shield Feint"),this._types(2)._requisite(3)._costs(1,-2)};a["troshx.sos.manuevers.ShieldFeint"]=Za,Za.__name__=["troshx","sos","manuevers","ShieldFeint"],Za.__super__=Ut,Za.prototype=i(Ut.prototype,{getTN:function(e){return Ut.prototype.getTN.call(this,e)},getSecondary:function(){return null==this._bash?this._bash=new Ua:this._bash},getAvailability:function(e,i,t){var a=t.activeItem,s=Y.__instanceof(a,ea)?a:null;if(null==s)return!1;var o=i.charSheet.inventory.getMasterWeapon();null==o&&i.charSheet.inventory.getOffhandWeapon();var n=0!=(16&o.meleeFlags);return t.activeEnemyBody.isThrusting(t.activeEnemyZone)||!n},__class__:Za});var Ya=function(){Ut.call(this,"stealInitiative","Steal Initiative"),this.types=16,this.tags=1024,this.costVaries=!0};a["troshx.sos.manuevers.StealInitiative"]=Ya,Ya.__name__=["troshx","sos","manuevers","StealInitiative"],Ya.__super__=Ut,Ya.prototype=i(Ut.prototype,{getAvailability:function(e,i){var t=i.targetLink;return(i==t.a?-1:i==t.b?1:0)!=t.initiative},resolve:function(){},getCost:function(){return 0},__class__:Ya});var Ka=function(){Ut.call(this,"totalBlock","Total Block"),this._types(1)._requisite(2)._tags(256)._costs(0,-1)};a["troshx.sos.manuevers.TotalBlock"]=Ka,Ka.__name__=["troshx","sos","manuevers","TotalBlock"],Ka.__super__=Ut,Ka.prototype=i(Ut.prototype,{getCost:function(e,i){var t=i.charSheet,a=t.get_encumbranceLvlRow();return Math.floor(.5*(a.cpMult*t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,0|(t.get_AGI()+t.get_WIT())/2)))*(t.prone?.5:1)+a.cp+Ts.getTable()[t.get_fatiqueLevel()].cp)))},getAvailability:function(e,i){var t=!e.secondTempo,a=1>=e.roundCount,s=3==i.fight.orientation,o=0==i.fight.attackManuevers.length,n=0==i.fight.defensiveManevers.length,r=i.charSheet,l=r.get_encumbranceLvlRow(),R=1<=Math.floor(.5*(l.cpMult*r.clampIntZero(r.getModifiedValue(13,(1<=r.schoolLevel?r.schoolLevel:0)+r.clampIntZero(r.getModifiedValue(8,0|(r.get_AGI()+r.get_WIT())/2)))*(r.prone?.5:1)+l.cp+Ts.getTable()[r.get_fatiqueLevel()].cp)));return!!(o&&n&&t&&(!a||s))&&R},__class__:Ka});var ja=function(){Ut.call(this,"weaponThrow","Weapon Throw"),this._types(2)._requisite(1)._attackTypes(2)._costs(1)._ranged()};a["troshx.sos.manuevers.WeaponThrow"]=ja,ja.__name__=["troshx","sos","manuevers","WeaponThrow"],ja.__super__=Ut,ja.prototype=i(Ut.prototype,{__class__:ja});var Xa=function(){this.pool=Xa.get()};a["troshx.sos.pregens.FightCharacters"]=Xa,Xa.__name__=["troshx","sos","pregens","FightCharacters"],Xa.get=function(){return[new de("Commoner","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi4y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi1y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni9y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi-1y4:atnTi6y4:atnSi6y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi7y5:flagszy6:weightzR50R37R26y15:Knife%20(Large)gy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1Hfghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmorahy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR134R135ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR135ahgy5:boonscR146R147oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R149y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR135ar99hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Chymistryi2y7:Cookingi6y7:Huntingi2y10:Navigationi1y7:Stealthi1y7:Surgeryi6y22:Crafting%20(Homestead)i4y17:Crafting%20(Wood)i2y21:Profession%20(Doctor)i2y21:Profession%20(Farmer)i5gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR173ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR181ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi2y10:classIndexi2R26y14:Poor%20Freemany5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi15gy6:wealthzgR199cR200R201i5R202i19R203i14gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahahhy6:ingamety7:fatiquezy11:talentNotesahy20:masteryManueverNotesahy21:superiorManueverNotesahR116ny11:profsRangedzy10:profsMeleei337y11:schoolLeveli1y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei4y3:witi4y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi4y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Commonerg","0/8 S CP:5"),new de("Street Thug","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi30y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gy10:meleeFlagsi16384y5:guardzy3:dtni7y11:damageTypeTi2y11:damageTypeSi2y7:damageTi-2y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi2y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y10:Bar%20Macegy4:heldi1y6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i31R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i9232R106i1R107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y15:Rondel%20DaggergR126zR127zR128R37R129fgoR76fR77i34R78cR79R80tR81fR82nR83nR84zR85i4R86nR87zR88i1R89i1R90i7R91i10R92nR105zR106zR107zR108i1R109zR110zR111zR112zR113zR114nR115i4R116tR117nR118i16R119nR120i1R121zR122i8R123zR124zR50R37R26y26:Knife%20(Throwing)%20%2F0cgR126zR127zR128R37R129fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i4R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R120i1R121zR122i17R123zR124d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR126zR127zR128R37goR77i5R76fR135cR136R119nR137nR138zR139zR140nR141i2R142i2R143i3R120i1R121i1R122i1R123zR124zR50R37R26y16:Leather%20GlovesR145oR23zggR126zR127zR128R37goR77i6R76fR135cR136R119nR137nR138i8R139zR141i1R142i1R143i1R120i1R121zR122i1R123zR124zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R145oR9zggR126zR127zR128R37goR77i7R76fR135cR136R119nR137nR138zR139zR140nR141i3R142i3R143i4R120i1R121i1R122i1R123zR124zR50R37R26y28:Hardened%20Leather%20GreavesR145oR18zggR126zR127zR128R37goR77i8R76fR135cR136R119nR137nR138zR139zR140nR141i3R142i3R143i4R120i1R121i1R122i3R123zR124zR50R37R26y31:Hardened%20Leather%20RerebracesR145oR20zggR126zR127zR128R37goR77i9R76fR135cR136R119nR137nR138zR139zR140nR141i2R142i2R143i3R120i1R121i1R122i1R123zR124zR50R37R26y15:Leather%20BootsR145oR19zggR126zR127zR128R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR153R154ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR154ahgy5:boonscR165R166oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R168y5:costsai2i4hR123zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR154ar121hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi3y8:Climbingi1y20:Gather%20Informationi1y12:Intimidationi1y22:Knowledge%20(Criminal)i1y10:Navigationi1y11:Observationi5y7:Stealthi4y8:Swimmingi1y8:Thieveryi5gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR194tR197ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR200ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR217cR218R219i2R220zR221zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahahhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR117ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni3y12:intelligencei3y3:witi4y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi5y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y13:Street%20Thugg","0.5/10 S CP:9"),new de("Street Thug Boss","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi6y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancei4y14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMi1y4:atnMi7y5:rangei10y12:meleeSpecialny10:meleeFlagszy5:guardzy3:dtnzy11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSzy4:atnTzy4:atnSzy7:variantny5:reachi4y6:rangedty11:profsCustomny5:profsi16y9:customiseny4:uniti1y12:costCurrencyzy4:costi8y5:flagszy6:weightzR50R37R26y26:Knife%20(Throwing)%20%2F0cgy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i24R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gR93i16384R94zR95i7R96i2R97i2R98i-2R99i1R100i7R101i7R102nR103i3R104fR105nR106i2R107nR108i1R109i1R110i1R111zR112zR50R37R26y10:Bar%20MacegR114y1:1R115zR116R37R117fgoR76fR77i25R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR93i1028R94i3R95i6R96i1R97zR98zR99i-1R100i7R101i7R102nR103i2R104fR105nR106i64R107nR108i1R109i1R110i3R111zR112zR50R37R26y13:Main%20GauchegR114zR115zR116R37R117fgoR78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR93i65536R94zR95zR96i1R97zR98zR99zR100i7R101zR102nR103i2R104fR105nR106i2R107nR108i1R109zR110i1R111zR112zR50R37R26y14:Arming%20SpikegR114zR115zR116R37R77i14R117fR76fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i14R76fy5:armorcy21:troshx.sos.core.ArmorR107ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R108i1R109zR110i17R111zR112d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR114zR115zR116R37goR77i15R76fR137cR138R107nR139nR140zR141zR142nR143i2R144i2R145i3R108i1R109i1R110i1R111zR112zR50R37R26y16:Leather%20GlovesR147oR23zggR114zR115zR116R37goR77i16R76fR137cR138R107nR139nR140i8R141zR143i1R144i1R145i1R108i1R109zR110i1R111zR112zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R147oR9zggR114zR115zR116R37goR77i17R76fR137cR138R107nR139nR140zR141zR142nR143i3R144i3R145i4R108i1R109i1R110i1R111zR112zR50R37R26y28:Hardened%20Leather%20GreavesR147oR18zggR114zR115zR116R37goR77i19R76fR137cR138R107nR139nR140zR141zR142nR143i2R144i2R145i3R108i1R109i1R110i1R111zR112zR50R37R26y15:Leather%20BootsR147oR19zggR114zR115zR116R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR154R155ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy18:Barren%2FSterilitycy26:troshx.sos.core.BaneAssigny12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:banecy32:troshx.sos.bnb.BarrenOrSterilityR26R168y5:costsai1i3hR111i2y9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszy6:isBanety10:conditionsancy30:troshx.sos.bnb.EunuchConditionghgy4:ranki1y11:_costCachedi1gy6:WantedcR169R170zR171fR172fR173zR174cy21:troshx.sos.bnb.WantedR26R186R176ai5i10i15hR111zR177fR178zR179zR180zR181tgR184i1R185i5gy18:Facial%20DeformitycR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.FacialDeformityR26R188R176ai2i4i8hR111i2R177fR178zR179zR180zR181tgR184i1R185i2gy14:Lasting%20Paincy32:troshx.sos.bnb.LastingPainAssigny15:__hasUIFields__ty10:permaMask2zy9:permaMaskzy17:hitLocationsMajorzy17:hitLocationsMinori512R170zR171fR172fR173zy4:charr0R174cy26:troshx.sos.bnb.LastingPainR26R190R176ai4i8hR111i2R177tR178i-2R179zR180zR181tgR184i1R185i4ggR155ar117r122r125r128hgy5:boonscR166R167oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR170i1R171fR172fR173i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R200R176ai2i4hR111zR177fR178zR179zR180zgR184i1R185i2y16:_remainingCachedi999gy12:BloodthirstycR201R170zR171fR172fR173zR202cy27:troshx.sos.bnb.BloodthirstyR26R205R176ai4hR111zR177fR178zR179zR180zgR184i1R185i4R204i999gy4:RichcR201R170zR171fR172fR173zR202cy19:troshx.sos.bnb.RichR26R207R176ai1i3i5hR111i1R177fR178zR179i8R180zy15:staticModifiersacy30:troshx.sos.core.StaticModifierR26y10:Rich%20(i)y5:indexi19y8:multiplyd1.1y3:addzgcR210R26y11:Rich%20(ii)R212i19R213d1.5R214zgcR210R26y12:Rich%20(iii)R212i19R213i2R214zghgR184i1R185i1R204i999gy23:Natural%20Born%20KillercR201R170zR171fR172fR173zR202cy32:troshx.sos.bnb.NaturalBornKillerR26R217R176ai6i12i18hR111zR177fR178zR179zR180zR209acR210R26y29:Natural%20Born%20Killer%20(i)R212i13R213i1R214i1gcR210R26y30:Natural%20Born%20Killer%20(ii)R212i13R213i1R214i2gcR210R26y31:Natural%20Born%20Killer%20(iii)R212i13R213i1R214i3ghgR184i1R204i999ggR155ar134r137r140r147hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y8:Climbingi1y20:Gather%20Informationi3y12:Intimidationi3y22:Knowledge%20(Criminal)i3y11:Observationi5y7:Stealthi2y8:Swimmingi1y8:Thieveryi4gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR234ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR237ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spi10y2:gpzgy6:wealthzgR255cR256R257i12R258i10R259zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahar151hahahahahahar144hahhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR105ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi5y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y20:Street%20Thug%20Bossg","0.5/10 S CP:12*"),new de("Street Berserker","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shocki1y10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingi1gy10:meleeFlagsi16384y5:guardzy3:dtni7y11:damageTypeTi2y11:damageTypeSi2y7:damageTi-2y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi2y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y10:Bar%20Macegy4:heldi1y6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i9232R106i1R107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y15:Rondel%20DaggergR126zR127zR128R37R129fgoR76fR77i21R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105zR106i1R107i8R108i1R109zR110i1R111zR112i6R113i6R114nR115i3R116fR117nR118i64R119nR120i1R121zR122i10R123zR124zR50R37R26y38:Bowie%20Knife%2F%20Pishkan%20ToothpickgR126zR127zR128R37R129fgoR76fR77i8R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105i65536R106zR107zR108i1R109zR110zR111zR112i7R113zR114nR115i1R116fR117nR118i2R119nR120i1R121zR122i1R123zR124zR50R37R26y14:Arming%20SpikegR126zR127zR128R37R129fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i12R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi8y2:ppzy10:burdinadinny3:AVBi4y3:AVPi3y3:AVCi2R120i1R121zR122i17R123zR124d0.5R50R37R26y14:Quilted%20Coaty8:coverageoR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR126zR127zR128R37goR77i13R76fR136cR137R119nR138nR139zR140zR141nR142i2R143i2R144i3R120i1R121i1R122i1R123zR124zR50R37R26y16:Leather%20GlovesR146oR23zggR126zR127zR128R37goR77i14R76fR136cR137R119nR138nR139i8R140zR142i1R143i1R144i1R120i1R121zR122i1R123zR124zR50R37R26y35:Neck-Wrap%20(such%20as%20a%20Scarf)R146oR9zggR126zR127zR128R37goR77i15R76fR136cR137R119nR138nR139zR140zR141nR142i3R143i3R144i4R120i1R121i1R122i1R123zR124zR50R37R26y28:Hardened%20Leather%20GreavesR146oR18zggR126zR127zR128R37goR77i16R76fR136cR137R119nR138nR139zR140zR141nR142i3R143i3R144i4R120i1R121i1R122i3R123zR124zR50R37R26y31:Hardened%20Leather%20RerebracesR146oR20zggR126zR127zR128R37goR77i17R76fR136cR137R119nR138nR139zR140zR141nR142i2R143i2R144i3R120i1R121i1R122i1R123zR124zR50R37R26y15:Leather%20BootsR146oR19zggR126zR127zR128R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR154R155ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy18:Barren%2FSterilitycy26:troshx.sos.core.BaneAssigny12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:banecy32:troshx.sos.bnb.BarrenOrSterilityR26R168y5:costsai1i3hR123i2y9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszy6:isBanety10:conditionsancy30:troshx.sos.bnb.EunuchConditionghgy4:ranki2y11:_costCachedi3gy18:Complete%20MonstercR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.CompleteMonsterR26R186R176ai10hR123zR177fR178zR179i256R180zR181tgR184i1R185i10gy6:WantedcR169R170zR171fR172fR173zR174cy21:troshx.sos.bnb.WantedR26R188R176ai5i10i15hR123zR177fR178zR179zR180zR181tgR184i1R185i5gy18:Facial%20DeformitycR169R170zR171fR172fR173zR174cy30:troshx.sos.bnb.FacialDeformityR26R190R176ai2i4i8hR123i2R177fR178zR179zR180zR181tgR184i1R185i2ggR155ar120r125r128r131hgy5:boonscR166R167oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR170i1R171fR172fR173i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R193R176ai2i4hR123zR177fR178zR179zR180zgR184i1R185i2y16:_remainingCachedi999gy12:BloodthirstycR194R170zR171fR172fR173zR195cy27:troshx.sos.bnb.BloodthirstyR26R198R176ai4hR123zR177fR178zR179zR180zgR184i1R185i4R197i999gy9:BerserkercR194R170zR171fR172fR173zR195cy24:troshx.sos.bnb.BerserkerR26R200R176ai8i12hR123zR177fR178zR179zR180zy15:staticModifiersacy30:troshx.sos.core.StaticModifierR26R200y5:indexi13y8:multiplyi1y3:addi4gr147hgR184i1R185i8R197i999gy11:True%20GritcR194R170zR171fR172fR173zR195cy23:troshx.sos.bnb.TrueGritR26R207R176ai2i4i6hR123i1R177fR178zR179i16R180zR202acR203R26y17:True%20Grit%20(i)R204i20R205i1R206i1gcR203R26y18:True%20Grit%20(ii)R204i20R205i1R206i2gcR203R26y19:True%20Grit%20(iii)R204i20R205i1R206i3ghgR184i1R185i2R197i999gy4:RichcR194R170zR171fR172fR173zR195cy19:troshx.sos.bnb.RichR26R212R176ai1i3i5hR123i1R177fR178zR179i8R180zR202acR203R26y10:Rich%20(i)R204i19R205d1.1R206zgcR203R26y11:Rich%20(ii)R204i19R205d1.5R206zgcR203R26y12:Rich%20(iii)R204i19R205i2R206zghgR184i1R185i1R197i999ggR155ar137r140r143r148r155hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y8:Climbingi1y20:Gather%20Informationi3y12:Intimidationi3y22:Knowledge%20(Criminal)i3y11:Observationi5y7:Stealthi2y8:Swimmingi1y8:Thieveryi4gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR229ty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR232ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spi10y2:gpzgy6:wealthzgR250cR251R252i12R253i10R254zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahar147hahahahahahar159har152hhy6:ingamety7:fatiquezy11:talentNotesaR37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37hR117ny11:profsRangedi8y10:profsMeleei451y11:schoolLeveli5y13:schoolBonusescy34:troshx.sos.schools.ScrapperBonusesgy6:schoolcy27:troshx.sos.schools.Scrappery9:costMoneynR26y8:Scrappery9:profLimiti4y7:costArczgy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi5y9:willpoweri6y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y18:Street%20Berserkerg","0.5/10 S CP:15*"),new de("Retiarius","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi38y6:weaponcy22:troshx.sos.core.Weapony15:_showCustomTagsty6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHiti3y4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi128y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSzy4:atnTi7y4:atnSi9y7:variantcR79R80tR81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cR93R94nR95zR96zR97zR98i3R99zR100zR101zR102zR103zR104zgR105zR106zR107i9R108i1R109zR110i-1R111i-1R112i8R113i10R114ny5:reachi5y6:rangedfy11:profsCustomny5:profsi48y9:customiseny4:uniti1y12:costCurrencyzy4:costzy5:flagszy6:weightzR50R37R26y7:TridentgR115i5R116fR117nR118i48R119nR120i1R121zR122i5R123i1R124i4R50R37R26R125gy4:heldy1:1y6:unheldzy12:unheldRemarkR37y9:holding1HtgoR76fR77i42R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92cR93R94nR95i2R96zR97zR98zR99zR100zR101zR102zR103zR104zgR105i1024R106zR107i7R108i1R109zR110i1R111i-1R112i6R113i7R114nR115i2R116fR117nR118i64R119nR120i1R121zR122i6R123zR124zR50R37R26y5:PugiogR126zR128zR129R37R130fgoR76fR77i16R78cR79R80tR81fR82nR83nR84zR85zR86nR87zR88i2R89i-10R90i7R91i5R92nR105zR106zR107zR108i1R109zR110zR111zR112zR113zR114nR115i4R116tR117nR118i16R119nR120i1R121i1R122i1R123zR124i2R50R37R26y17:Net%20(Retiarius)gR126i2R128zR129R37R130fgoR76fR77i12R78cR79R81fR82nR83nR84zR85zR86nR87zR88i1R89zR90zR91zR92nR105zR106zR107i7R108i1R109zR110i1R111i1R112i7R113i7R114nR115i3R116fR117nR118i1R119nR120i1R121i1R122i1R123zR124zR50R37R26y7:GladiusgR126zR128zR129R37R130fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i30R76fy5:armorcy21:troshx.sos.core.ArmorR119ny7:specialny12:specialFlagsi2y2:ppzy10:burdinadinny3:AVBi4y3:AVPi5y3:AVCi6R120i1R121i1R122i10R123zR124i1R50R37R26y23:(Half)%20Iron%20Galerusy8:coverageoR10i1R20i3ggR126zR128zR129R37goR137cR138R119nR139nR140zR141zR142nR143i1R144i2R145i1R120i1R121zR122zR123zR124zR50R37R26y16:Cloth%20BindingsR147oR18zR22zggR76fR126zR128zR129R37R77i8goR77i14R76fR137cR138R119nR139nR140zR141zR142nR143i3R144i3R145i4R120i1R121i1R122i3R123zR124zR50R37R26y40:(Half)%20Hardened%20Leather%20RerebracesR147oR20zggR126zR128zR129R37goR137cR138R119nR139nR140zR141zR142nR143i3R144i2R145i3R120i1R121zR122zR123zR124zR50R37R26y17:Leather%20BalteusR147oR13zggR76fR126zR128zR129R37R77i158ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR153R154ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR154ahgy5:boonscR165R166oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R168y5:costsai2i4hR123zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR154ar120hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy7:Cookingi2y7:Huntingi4y10:Navigationi2y7:Stealthi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR191ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR194ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR212cR213R214zR215zR216zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR117ny11:profsRangedi17y10:profsMeleei507y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr177gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi8y9:willpoweri3y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y9:Retiariusg","1/8 L CP:17"),new de("Dimachaerus-Light","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi4y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi512y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyzy4:costi15y5:flagszy6:weightzR50R37R26y4:Sicagy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78r85R125zR126zR127R37R128fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i6R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi1y3:AVCi2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20Bindingsy8:coverageoR18zR22zR15i2R17zggR125zR126zR127R37goR77i9R76fR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR142oR13zggR125zR126zR127R37goR77i10R76fR132cR133R118nR134nR135zR136zR137nR138i3R139i3R140i4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-GuardsR142oR17zggR125zR126zR127R37goR77i11R76fR132cR133R118nR134nR135i2R136zR137nR138i4R139i5R140i6R119i1R120zR121zR122zR123i3R50R37R26y13:Iron%20ManicaR142oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y23:Leather%20Shin%20GuardsR142oR18zggR76fR125zR126zR127R37R77zghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR149R150acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:Pugiogy3:qtyi2gcR152R153nR154cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR156i2ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR150ahgy5:boonscR167R168oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R170y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi15ggR150ar120hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi1y10:Navigationi1y11:Observationi2y7:Stealthi4y8:Thieveryi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR192ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR197ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexzy10:classIndexzR26y13:Slave%2FExiley5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpzgy6:wealthzgR215cR216R217zR218i4R219zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr177gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi4y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y16:Dimarcheri-Lightg","3/8 S CP:16"),new de("Dimachaerus-Medium","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi18y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipzy5:shockzy10:multiHit_Yzy8:multiHitzy4:drawi4y8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi512y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyzy4:costi15y5:flagszy6:weightzR50R37R26y4:Sicagy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i19R78r85R125zR126zR127R37R128fghy7:shieldsahy20:equipedNonMeleeItemsahy9:wornArmoraoR77i6R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi1y3:AVCi2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20Bindingsy8:coverageoR18zR22zR15i2R17zggR125zR126zR127R37goR77i7R76fR132cR133R118nR134cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR135i3R136i1R137nR138i4R139i5R140i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR142oR7i1ggR125zR126zR127R37goR77i8R76fR132cR133R118nR134nR135i2R136zR138i4R139i5R140i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR142oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i9R76fR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR142oR13zggR125zR126zR127R37goR77i10R76fR132cR133R118nR134nR135zR136zR137nR138i3R139i3R140i4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-GuardsR142oR17zggR125zR126zR127R37goR77i11R76fR132cR133R118nR134nR135i2R136zR137nR138i4R139i5R140i6R119i1R120zR121zR122zR123i3R50R37R26y13:Iron%20ManicaR142oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR132cR133R118nR134nR135zR136zR137nR138i2R139i2R140i3R119i1R120zR121zR122zR123zR50R37R26y23:Leather%20Shin%20GuardsR142oR18zggR76fR125zR126zR127R37R77zghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR158R159acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:Pugiogy3:qtyi2gcR161R162nR163cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR165i2ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR159ahgy5:boonscR176R177oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R179y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR159ar127hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi2y10:Navigationi1y11:Observationi2y7:Stealthi3y8:Thieveryi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR201ty8:Swimmingty7:Tacticsty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR206ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR224cR225R226zR227i9R228i3gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr184gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y17:Dimarcheri-Mediumg","6.5/10 S CP:15"),new de("Thracian","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i52R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94zR95zR96zR97zR98i4R99zR100zR101zR102zR103zgR104i512R105zR106i7R107i1R108zR109zR110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120zR121i15R122zR123zR50R37R26y4:SicagR125zR126zR127R37R128fghy7:shieldsaoR77i51R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizei1y2:AVi6R119i1R120i1R121i10R122zR123i1R50R37R26y25:Rodela%20%3A6(%2B0b)%2012gR125y1:0R126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120i1R121i3R122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR22zR21zR20zR10i2ggR125zR126zR127R37goR77i33R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR13i2R15i2R17zggR125zR126zR127R37goR77i68R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d2.5R50R37R26y29:Iron%20Shin%20Higher%20GuardsR153oR18zR16i3ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR168R169ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR169ahgy5:boonscR180R181oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R183y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR169ar123hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR206ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR208ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR226cR227R228zR229i15R230i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr180gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi6y9:willpoweri4y6:healthi4y9:endurancei4y7:agilityi8y8:strengthi5y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Thraciang","3/8 S CP:16"),new de("Provocator","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i13R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagsi2y2:ppzy3:AVBi4y3:AVPi5y3:AVCi6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20Helmy8:coverageoR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1y10:burdinadinnR148i4R149i5R150i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR152oR7i1ggR125zR126zR127R37goR77i16R76fR143cR144R118nR145nR146i2R147zR148i4R149i5R150i6R119i1R120i1R121i1R122zR123d0.5R50R37R26y17:Iron%20HeartguardR152oR11i1ggR125zR126zR127R37goR77i67R76fR143cR144R118nR145nR146i2R147zR160nR148i4R149i5R150i6R119i1R120zR121zR122zR123i1R50R37R26y29:(Half)%20Iron%20Shin%20GuardsR152oR18zggR125zR126zR127R37goR77i68R76fR143cR144R118nR145nR146i2R147zR160nR148i4R149i5R150i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR152oR20i1R22i1R10i3R21i1ggR125zR126zR127R37goR77i69R76fR143cR144R118nR145nR146zR147zR160nR148i2R149i1R150i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR152oR18zR22zR13i2R15i2R17zggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR168R169ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR169ahgy5:boonscR180R181oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R183y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR169ar122hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR206ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR208ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR226cR227R228zR229i15R230i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr179gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi7y9:willpoweri4y6:healthi4y9:endurancei5y7:agilityi7y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y10:Provocatorg","8.5/11 S CP:15"),new de("Hoplomachus","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125zR126zR127R37R128fgoR76fR77i15R78cR79y15:_showCustomTagstR80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104i144R105zR106i7R107i1R108zR109i2R110zR111i7R112i7R113cR79R130tR80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i9R107i1R108zR109i1R110i-1R111i7R112i9R113nR114i6R115fR116nR117i16R118nR119i1R120zR121zR122zR123zR50R37R26y16:Spear%20(Arming)gR114i6R115fR116nR117i16R118nR119i1R120zR121i6R122i1R123i4R50R37R26R131gR125y1:1R126zR127R37R128tghy7:shieldsaoR77i14R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizei1y2:AVi6R119i1R120i1R121i10R122zR123i1R50R37R26y25:Rodela%20%3A6(%2B0b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i13R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagsi2y2:ppzy3:AVBi4y3:AVPi5y3:AVCi6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20Helmy8:coverageoR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR145cR146R118nR147cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR148i3R149i1y10:burdinadinnR150i4R151i5R152i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR154oR7i1ggR125zR126zR127R37goR77i9R76fR145cR146R118nR147nR148zR149zR162nR150i2R151i1R152i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR154oR18zR22zR13i2R15i2R17zggR125zR126zR127R37goR77i12R76fR145cR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123d2.5R50R37R26y29:Iron%20Shin%20Higher%20GuardsR154oR18zR16i3ggR125zR126zR127R37goR77i14R76fR145cR146R118nR147nR148zR149zR162nR150i1R151i1R152i1R119i1R120zR121zR122zR123zR50R37R26y29:Leather%20Balteus%20(Partial)R154oR13zggR125zR126zR127R37goR77i15R76fR145cR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR154oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR170R171acy23:troshx.sos.core.ItemQtyy11:attachmentsny4:itemcR146R118nR147nR148zR149zR162nR150i4R151i5R152i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR154oR18zggy3:qtyi1gcR173R174nR175cR146R118nR147nR148zR149zR162nR150i2R151i2R152i3R119i1R120zR121zR122zR123zR50R37R26y16:Leather%20ManicaR154oR20zR22zR10i2ggR177i1ghgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR171ahgy5:boonscR188R189oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R191y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR171ar131hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR214ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR216ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR234cR235R236i6R237i2R238i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr188gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei6y7:agilityi8y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y11:Hoplomachusg","8.5/12 VL CP:14"),new de("Murmillo","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i35R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR153oR18zggR125zR126zR127R37goR77i36R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR15i2R17zggR125zR126zR127R37goR77i37R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i2R151i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR153oR13zggR125zR126zR127R37goR77i38R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR169R170ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR170ahgy5:boonscR181R182oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R184y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR170ar125hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR207ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR209ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR227cR228R229zR230i15R231i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr182gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei5y7:agilityi8y8:strengthi8y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y8:Murmillog","8.5/13 S CP:14"),new de("Secutor","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi17y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagsi1024y5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi-1y4:atnTi6y4:atnSi7y7:variantny5:reachi2y6:rangedfy11:profsCustomny5:profsi64y9:customiseny4:uniti1y12:costCurrencyzy4:costi6y5:flagszy6:weightzR50R37R26y5:Pugiogy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i18R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91nR104zR105zR106i7R107i1R108zR109i1R110i1R111i7R112i7R113nR114i3R115fR116nR117i1R118nR119i1R120i1R121i1R122zR123zR50R37R26y7:GladiusgR125y1:1R126zR127R37R128fghy7:shieldsaoR77i12R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R119i1R120i1R121i5R122zR123i2R50R37R26y25:Scutum%3A%206(%2B1b)%2012gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i7R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi3y3:AVPi3y3:AVCi4R119i1R120zR121i6R122zR123zR50R37R26y32:Hardened%20Leather%20Knee-Guardsy8:coverageoR17zggR125zR126zR127R37goR77i13R76fR143cR144R118nR145nR146i2R147zR149i4R150i5R151i6R119i1R120i1R121i15R122zR123i2R50R37R26y11:Iron%20HelmR153oR6zR8zR9i2R10i2ggR125zR126zR127R37goR77i15R76fR143cR144R118nR145cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi2gR146i3R147i1R148nR149i4R150i5R151i6R119i1R120i1R121i10R122zR123d1.5R50R37R26y12:Full%20VisorR153oR7i1ggR125zR126zR127R37goR77i35R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123i2R50R37R26y20:Iron%20Shin%20GuardsR153oR18zggR125zR126zR127R37goR77i36R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i1R151i2R119i1R120zR121zR122zR123zR50R37R26y16:Cloth%20BindingsR153oR18zR22zR15i2R17zggR125zR126zR127R37goR77i37R76fR143cR144R118nR145nR146zR147zR148nR149i2R150i2R151i3R119i1R120zR121zR122zR123zR50R37R26y17:Leather%20BalteusR153oR13zggR125zR126zR127R37goR77i38R76fR143cR144R118nR145nR146i2R147zR148nR149i4R150i5R151i6R119i1R120zR121zR122zR123d1.5R50R37R26y22:(Half)%20Iron%20ManicaR153oR20i1R22i1R10i3R21i1ggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR169R170ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR170ahgy5:boonscR181R182oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R184y5:costsai2i4hR122zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR170ar125hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi4y5:Drilli4y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:Navigationty8:SwimmingtR207ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR209ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR227cR228R229zR230i8R231i2gy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37R37hR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli9y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr182gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni5y12:intelligencei2y3:witi4y9:willpoweri4y6:healthi4y9:endurancei8y7:agilityi6y8:strengthi6y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y7:Secutorg","8.5/13 VL CP:14"),new de("Anglian Huscarl","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi24y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialcy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi1y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgy10:meleeFlagszy5:guardi1y3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTzy7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi4y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyi2y4:costi1y5:flagszy6:weightd0.5R50R37R26y24:Arming%20Sword%20(Early)gy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i36R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cR92R93nR94i2R95zR96zR97zR98zR99zR100zR101zR102zR103zgR104i1024R105zR106i7R107i1R108zR109i1R110i-1R111i6R112i7R113nR114i2R115fR116nR117i64R118nR119i1R120zR121i6R122zR123zR50R37R26y5:PugiogR125zR126zR127R37R128fghy7:shieldsaoR77i23R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi6y4:sizezy2:AVi6R119i1R120zR121i10R122zR123zR50R37R26y33:Wooden%20Targe%20%3A7(%2B0b)%2010gR125zR126zR127R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i15R76fy5:armorcy21:troshx.sos.core.ArmorR118ny7:specialny12:specialFlagszy2:ppzy10:burdinadinny3:AVBi2y3:AVPi2y3:AVCi3R119i1R120i1R121i2R122zR123zR50R37R26y18:Leather%20Leggingsy8:coverageoR15zR14zR16zR17zR18zggR125zR126zR127R37goR77i16R76fR142cR143R118nR144cy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifierny8:wornWithny13:layerCoveragezy5:layeri1y18:restrictsBreathingzgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i3R122zR123i1R50R37R26y12:Mail%20BootsR152oR19zggR125zR126zR127R37goR77i17R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i2R121i2R122zR123d2.5R50R37R26y11:Mail%20CoatR152oR11zR12zR13zR24zR25zR14zR16zR17zR10zR15zggR125zR126zR127R37goR77i18R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i3R122zR123d0.5R50R37R26y23:Mail%20Gloves%2FMittensR152oR23zggR125zR126zR127R37goR77i19R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i2R146zR147nR148i3R149i4R150i6R119i1R120i2R121i1R122zR123d1.5R50R37R26y21:Mail%20Long%20SleevesR152oR22zR21zR20zR10zggR125zR126zR127R37goR77i21R76fR142cR143R118nR144nR145i8R146zR147nR148i4R149i3R150i2R119i1R120zR121i17R122zR123d0.5R50R37R26y14:Quilted%20CoatR152oR11zR13zR12zR24zR25zR10zR17zR16zR14zR15zggR125zR126zR127R37goR77i22R76fR142cR143R118nR144nR145i8R146zR147nR148i4R149i3R150i2R119i1R120zR121i6R122zR123zR50R37R26y24:Quilted%20Long%20SleevesR152oR21zR22zR20zR10zggR125zR126zR127R37goR77i33R76fR142cR143R118nR144cR153R154nR155cy27:troshx.sos.core.HitModifiery5:addAVzy10:multiplyAVzy14:targetZoneMaski2y12:locationMaskzgR156nR157zR158zR159zgR145i2R146zR147nR148i1R149i2R150i4R119i1R120i1R121i1R122zR123zR50R37R26y9:Bar-NaselR152oR7i1ggR125zR126zR127R37goR77i34R76fR142cR143R118nR144cR153R154nR155nR156nR157zR158i1R159zgR145i6R146zR147nR148i3R149i4R150i6R119i1R120i1R121i2R122zR123i1R50R37R26y11:Mail%20CoifR152oR8zR9zR6zggR125zR126zR127R37goR77i35R76fR142cR143R118nR144cR153R154nR155cR166R167i2R168i1R169i1R170zgR156nR157zR158zR159zgR145i2R146zR148i6R149i7R150i8R119i1R120i1R121i2R122zR123i2R50R37R26y14:Conical%20HelmR152oR6zggR125zR126zR127R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR176R177ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashoy11:Old%20Woundcy29:troshx.sos.bnb.OldWoundAssigny15:__hasUIFields__ty9:permaMaskzR47i8281y12:_minRequiredzy9:_canceledfy15:_forcePermanentfy8:discountzy4:charr0y4:banecy23:troshx.sos.bnb.OldWoundR26R190y5:costsai1hR122i2y9:clampRankfy13:multipleTimesi-2y8:channelszy13:superChannelszy6:isBanetgy4:ranki1y11:_costCachedi5ggR177ar140hgy5:boonscR188R189oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssignR194i1R195fR196fR197i2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R210R201ai2i4hR122zR202fR203zR204zR205zgR207i1R208i2y16:_remainingCachedi999ggR177ar146hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi3y5:Drilli4y10:Navigationi1y11:Observationi1y7:Stealthi1y7:Tacticsi2gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:HistorytR222ty8:SwimmingtR225ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR227ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR244cR245R246i9R247i3R248zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesay20:Shield%20Tactics%201R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesay3:Hewy5:FeinthR116ny11:profsRangedi16y10:profsMeleei511y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr203gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni4y12:intelligencei3y3:witi6y9:willpoweri6y6:healthi5y9:endurancei5y7:agilityi7y8:strengthi7y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y17:Anglian%20Huscarlg","9.5/12 M CP:14*"),new de("Crupellarius","cy27:troshx.sos.sheets.CharSheety9:woundHashogy6:woundsahy4:bodycy24:troshx.sos.core.BodyChary15:hitLocationHashoy9:upperHeadzy4:facei1y9:lowerHeadi2y4:necki3y8:shoulderi4y5:chesti5y4:sidei6y5:bellyi7y3:hipi8y5:groini9y5:thighi10y4:kneei11y4:shini12y4:footi13y8:upperArmi14y5:elbowi15y7:forearmi16y4:handi17y9:upperBacki18y9:lowerBacki19gy4:namey8:Humanoidy11:targetZonesacy26:troshx.sos.core.TargetZoney11:descriptiony16:Downward%20Swingy12:weightsTotali10R26y4:Heady5:partsai4i2i1zhy11:partWeightsai3i2i2i3hgcR29R30y14:Upward%20SwingR32i10R26R33R34ai5i3i2i1hR35ai3i2i3i2hgcR29R30y0:R32i10R26y4:NeckR34ai4i3i2i1hR35ai3i3i2i2hgcR29R30R37R32i10R26y5:TorsoR34ai7i6i5hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20ArmR34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20ArmR34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26y11:Upper%20LegR34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26y11:Lower%20LegR34ai13i12i11hR35ai3i4i3hgcR29R30R37R32i10R26y5:GroinR34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R33R34ai3i1zhR35ai3i4i3hgcR29R30R37R32i10R26R38R34ai5i3i1hR35ai3i4i3hgcR29R30R37R32i10R26y5:ChestR34ai7i5i4i3hR35ai3i4i2i1hgcR29R30R37R32i10R26y5:BellyR34ai9i8i6i7hR35ai1i1i5i3hgcR29R30R37R32i10R26R40R34ai15i14i4hR35ai3i4i3hgcR29R30R37R32i10R26R41R34ai17i16i15hR35ai3i4i3hgcR29R30R37R32i10R26R44R34ai10i9i7hR35ai3i4i3hgcR29R30R37R32i10R26R42R34ai11i10i8hR35ai3i4i3hgcR29R30R37R32i10R26R43R34ai13i12i11hR35ai3i4i3hghy12:hitLocationsacy27:troshx.sos.core.HitLocationR26y12:Upper%20Heady2:idR6y8:twoSidedfgcR48R26y4:FaceR50R7R51fgcR48R26y12:Lower%20HeadR50R8R51fgcR48R26R38R50R9R51fgcR48R26y8:ShoulderR50R10R51tgcR48R26R45R50R11R51fgcR48R26y4:SideR50R12R51tgcR48R26R46R50R13R51fgcR48R26y3:HipR50R14R51tgcR48R26R44R50R15R51fgcR48R26y5:ThighR50R16R51tgcR48R26y4:KneeR50R17R51tgcR48R26y4:ShinR50R18R51tgcR48R26y4:FootR50R19R51tgcR48R26R40R50R20R51tgcR48R26y5:ElbowR50R21R51tgcR48R26y7:ForearmR50R22R51tgcR48R26y4:HandR50R23R51tgcR48R26y12:Upper%20BackR50R24R51fgcR48R26y12:Lower%20BackR50R25R51fghy16:thrustStartIndexi9y14:rearStartIndexi18y19:missileHitLocationsai-1i9i11i11i12i15i13i14i16i17hy10:thrustMaski261632y9:swingMaski511gy9:inventorycy25:troshx.sos.core.Inventoryy7:versioni3y14:shieldPositionzy7:weaponsaoy8:attachedfy3:keyi40y6:weaponcy22:troshx.sos.core.Weapony6:isAmmofy7:firearmny8:crossbowny11:requiredStrzy11:stuckChancezy14:missileSpecialny12:missileFlagszy11:damageTypeMi1y7:damageMzy4:atnMzy5:rangezy12:meleeSpecialny10:meleeFlagszy5:guardzy3:dtni7y11:damageTypeTi1y11:damageTypeSzy7:damageTi1y7:damageSi1y4:atnTi7y4:atnSi7y7:variantny5:reachi3y6:rangedfy11:profsCustomny5:profsi1y9:customiseny4:uniti1y12:costCurrencyi1y4:costi1y5:flagszy6:weightzR50R37R26y7:Gladiusgy4:heldzy6:unheldzy12:unheldRemarkR37y9:holding1HfgoR76fR77i42R78cR79R80fR81nR82nR83zR84zR85nR86zR87i1R88zR89zR90zR91cy28:troshx.sos.core.MeleeSpecialy6:customny12:spatulateTipi2y5:shockzy10:multiHit_Yzy8:multiHitzy4:drawzy8:crushingzy5:chainzy5:bleedzy8:APThrustzy7:APSwingzgR92i1024R93zR94i7R95i1R96zR97i1R98i-1R99i6R100i7R101nR102i2R103fR104nR105i64R106nR107i1R108zR109i6R110zR111zR50R37R26y5:PugiogR113zR114zR115R37R116fghy7:shieldsaoR77i26R76fy6:shieldcy22:troshx.sos.core.Shieldy9:strapTypezy10:durabilityi6y6:bashTNzy7:blockTNi7y4:sizei2y2:AVi6R107i1R108i1R109i5R110zR111i2R50R37R26y25:Scutum%20%3A6(%2B1b)%2012gR113zR114zR115R37ghy20:equipedNonMeleeItemsahy9:wornArmoraoR77i11R76fy5:armorcy21:troshx.sos.core.ArmorR106ny7:specialcy28:troshx.sos.core.ArmorSpecialy13:otherBodyTypeny11:hitModifiercy27:troshx.sos.core.HitModifiery5:addAVzy10:multiplyAVi1y14:targetZoneMaskzy12:locationMaskzgy8:wornWithny13:layerCoveragezy5:layerzy18:restrictsBreathingi3gy12:specialFlagsi2y2:ppi3y3:AVBi4y3:AVPi5y3:AVCi6R107i1R108i1R109i30R110zR111i5R50R37R26y13:Bucket%20Helmy8:coverageoR6zR7i1R8zR9i1ggR113zR114zR115R37goR77i19R76fR142cR143R106nR144nR157i2R158zy10:burdinadinnR159i4R160i5R161i6R107i1R108i1R109i12R110zR111i3R50R37R26y26:Iron%20Segmented%20TassetsR163oR15i1R14i1R16i1ggR113zR114zR115R37goR77i23R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y19:Lorica%20segmentataR163oR25i1R24i1R11i1R10i1R13i1R12i1ggR113zR114zR115R37goR77i25R76fR142cR143R106nR144nR157zR158zR164nR159i2R160i2R161i3R107i1R108zR109zR110zR111zR50R37R26y18:Leather%20CingulumR163oR16i2R13zggR113zR114zR115R37goR77i26R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y14:Iron%20GreevesR163oR17i1R18i1ggR113zR114zR115R37goR77i27R76fR142cR143R106nR144nR157zR158zR164nR159i2R160i1R161i2R107i1R108zR109zR110zR111zR50R37R26y16:Cloth%20BindingsR163oR18zR22zR13i2R15i2R17zggR113zR114zR115R37goR77i28R76fR142cR143R106nR144nR157i2R158zR164nR159i4R160i5R161i6R107i1R108zR109zR110zR111i3R50R37R26y13:Iron%20ManicaR163oR20i1R22i1R10i3R21i1ggR113zR114zR115R37ghy8:dropPackfy6:packedcy22:troshx.ds.IDMatchArrayy4:listahgy7:droppedcR173R174ahgy8:signalerngy7:arcFlawR37y8:arcGloryR37y9:arcBeliefR37y7:arcEpicR37y7:arcSagaR37y8:arcSpentzy14:arcPointsAccumzy5:banescy21:troshx.ds.HashedArrayy4:hashogR174ahgy5:boonscR185R186oy19:Hale%20and%20Heartycy26:troshx.sos.core.BoonAssigny12:_minRequiredi1y9:_canceledfy15:_forcePermanentfy8:discounti2y4:booncy28:troshx.sos.bnb.HaleAndHeartyR26R188y5:costsai2i4hR110zy9:clampRankfy13:multipleTimeszy8:channelszy13:superChannelszgy4:ranki1y11:_costCachedi2y16:_remainingCachedi999ggR174ar126hgy8:direPastfy7:talentsahy6:skillscy26:troshx.sos.core.SkillTabley9:skillHashoy9:Athleticsi5y8:Climbingi1y5:Drilli2y8:Swimmingi1y7:Tacticsi1gy15:requiresTrainedoy8:Craftingty11:Engineeringty7:Historyty10:NavigationtR212tR213ty8:Strategyty9:Etiquettetgy22:requiresSpecialisationoy10:Professionty9:KnowledgetR215ty11:Performancetggy22:wealthAssetAssignCountzy12:wealthAssetsahy11:socialClasscy27:troshx.sos.core.SocialClassy11:wealthIndexi1y10:classIndexi1R26y7:Peasanty5:moneycy21:troshx.sos.core.Moneyy2:cpzy2:spzy2:gpi5gy6:wealthzgR232cR233R234zR235i7R236zgy24:situationalModifierTableaahahahahahahahahahahahahahahahahahahahahahhy19:staticModifierTableaahahahahahahahahahahahahahahahahahahahahacy30:troshx.sos.core.StaticModifierR26y16:Warrior's%20Grity5:indexi20y8:multiplyi1y3:addi2ghhy6:ingamety7:fatiquezy11:talentNotesaR37R37R37hy20:masteryManueverNotesahy21:superiorManueverNotesaR37R37hR104ny11:profsRangedi17y10:profsMeleei507y11:schoolLeveli8y13:schoolBonusescy33:troshx.sos.schools.SoldierBonusesgy6:schoolcy26:troshx.sos.schools.Soldiery9:costMoneynR26y7:Soldiery9:profLimiti10y7:costArci1y15:staticModifiersr183gy9:gritAccumzy5:pronefy10:healthLosszR73i2y10:perceptioni6y12:intelligencei2y3:witi5y9:willpoweri2y6:healthi4y9:endurancei7y7:agilityi6y8:strengthi7y3:agei-1y10:leftHandedfy6:genderzy4:racecy22:troshx.sos.races.HumanR26y5:Humany5:magicfgy5:titleR37y5:notesR37y7:factionR37y8:nicknameR37R26y12:Crupellariusg","19/14 S CP:12-")]},Xa.prototype={__class__:Xa};var Qa=function(){};a["troshx.sos.races.Races"]=Qa,Qa.__name__=["troshx","sos","races","Races"],Qa.getTiers=function(){return null==Qa.TIERS?Qa.TIERS=Qa.getNewTiers():Qa.TIERS},Qa.getNewTiers=function(){return[[new $a,new Ja],[new es,new is],[new ts,new as],[new ss],[new os,new ns,new rs,new ls]]};var $a=function(){Qt.call(this,"Human")};a["troshx.sos.races.Human"]=$a,$a.__name__=["troshx","sos","races","Human"],$a.__super__=Qt,$a.prototype=i(Qt.prototype,{__class__:$a});var Ja=function(){Qt.call(this,"Goblin");var e=Kt.create(0,"Goblin",-1);this.staticModifiers=e,e=e.next=Kt.create(1,"Goblin",1),e=e.next=Kt.create(7,"Goblin",1),e=e.next=Kt.create(9,"Small",-2),e=e.next=Kt.create(14,"Small",-2)};a["troshx.sos.races.Goblin"]=Ja,Ja.__name__=["troshx","sos","races","Goblin"],Ja.__super__=Qt,Ja.prototype=i(Qt.prototype,{__class__:Ja});var es=function(){Qt.call(this,"Dwarf");var e=Kt.create(2,"Dwarf",2);this.staticModifiers=e,e=e.next=Kt.create(3,"Dwarf",1),e=e.next=Kt.create(14,"Short and Stout",-1),e=e.next=Kt.create(9,"Short and Stout",-2),e=e.next=Kt.create(12,"Sturdy Build",1)};a["troshx.sos.races.Dwarf"]=es,es.__name__=["troshx","sos","races","Dwarf"],es.__super__=Qt,es.prototype=i(Qt.prototype,{__class__:es});var is=function(){Qt.call(this,"Zell");var e=Kt.create(1,"Zell",1);this.staticModifiers=e,e=e.next=Kt.create(7,"Zell",2)};a["troshx.sos.races.Zell"]=is,is.__name__=["troshx","sos","races","Zell"],is.__super__=Qt,is.prototype=i(Qt.prototype,{__class__:is});var ts=function(){Qt.call(this,"Burdinadin");var e=Kt.create(6,"Burdinadin",1);this.staticModifiers=e,e=e.next=Kt.create(1,"Burdinadin",1)};a["troshx.sos.races.Burdinadin"]=ts,ts.__name__=["troshx","sos","races","Burdinadin"],ts.__super__=Qt,ts.prototype=i(Qt.prototype,{__class__:ts});var as=function(){Qt.call(this,"Ohanedin");var e=Kt.create(0,"Ohanedin",1);this.staticModifiers=e,e=e.next=Kt.create(1,"Ohanedin",1),e=e.next=Kt.create(7,"Ohanedin",1)};a["troshx.sos.races.Ohanedin"]=as,as.__name__=["troshx","sos","races","Ohanedin"],as.__super__=Qt,as.prototype=i(Qt.prototype,{__class__:as});var ss=function(){Qt.call(this,"Orredin"),this.magic=!0};a["troshx.sos.races.Orredin"]=ss,ss.__name__=["troshx","sos","races","Orredin"],ss.__super__=Qt,ss.prototype=i(Qt.prototype,{__class__:ss});var os=function(){Qt.call(this,"Star Vampire"),this.magic=!0};a["troshx.sos.races.StarVampire"]=os,os.__name__=["troshx","sos","races","StarVampire"],os.__super__=Qt,os.prototype=i(Qt.prototype,{__class__:os});var ns=function(){Qt.call(this,"Saturi Chosen")};a["troshx.sos.races.SaturiChosen"]=ns,ns.__name__=["troshx","sos","races","SaturiChosen"],ns.__super__=Qt,ns.prototype=i(Qt.prototype,{__class__:ns});var rs=function(){Qt.call(this,"Genosian Paladin")};a["troshx.sos.races.GenosianPaladin"]=rs,rs.__name__=["troshx","sos","races","GenosianPaladin"],rs.__super__=Qt,rs.prototype=i(Qt.prototype,{__class__:rs});var ls=function(){Qt.call(this,"Dessian Silver Guard")};a["troshx.sos.races.DessianSilverGuard"]=ls,ls.__name__=["troshx","sos","races","DessianSilverGuard"],ls.__super__=Qt,ls.prototype=i(Qt.prototype,{__class__:ls});var Rs=function(){$t.call(this,"Esoteric School",4,8)};a["troshx.sos.schools.EsotericSchool"]=Rs,Rs.__name__=["troshx","sos","schools","EsotericSchool"],Rs.__super__=$t,Rs.prototype=i($t.prototype,{customRequire:function(e){var i=null==Rs.TEST?Rs.TEST=new Ue:Rs.TEST,t=_.field(e.banes.hash,i.name);return!(null!=t)||0==t.rank},getSchoolBonuses:function(){return new ds},__class__:Rs});var ds=function(){this.__hasUIFields__=!0,this.flags=3,Jt.call(this)};a["troshx.sos.schools.EsotericSchoolBonuses"]=ds,ds.__name__=["troshx","sos","schools","EsotericSchoolBonuses"],ds.__super__=Jt,ds.prototype=i(Jt.prototype,{getTags:function(){var e=[],i=this.flags;return 0!=(1&i)&&e.push("Simplicity"),0!=(2&i)&&e.push("Flowing Water"),0!=(4&i)&&e.push("Raging Flame"),0!=(8&i)&&e.push("Biting Wind"),0!=(16&i)&&e.push("Stoic Earth"),e},getUIFields:function(){return[{prop:"flags",type:"SingleSelection",label:"Choose Element",labels:["Flowing Water","Raging Flame","Biting Wind","Stoic Earth"],values:[3,5,9,17]}]},__class__:ds});var cs=function(){$t.call(this,"Noble",3,5),this.costMoney=Ft.create(15,0,0)};a["troshx.sos.schools.Noble"]=cs,cs.__name__=["troshx","sos","schools","Noble"],cs.__super__=$t,cs.prototype=i($t.prototype,{getSchoolBonuses:function(){return new hs},__class__:cs});var hs=function(){Jt.call(this)};a["troshx.sos.schools.NobleBonuses"]=hs,hs.__name__=["troshx","sos","schools","NobleBonuses"],hs.__super__=Jt,hs.prototype=i(Jt.prototype,{getTags:function(){return["Superior Instruction","Confidence"]},getUIFields:function(){return[]},__class__:hs});var ys=function(){$t.call(this,"Officer",4,3),this.costMoney=Ft.create(5,0,0)};a["troshx.sos.schools.Officer"]=ys,ys.__name__=["troshx","sos","schools","Officer"],ys.__super__=$t,ys.prototype=i($t.prototype,{getSchoolBonuses:function(){return new gs},__class__:ys});var gs=function(){this.__hasUIFields__=!0,this.choice2="Protect the Banner!",Jt.call(this)};a["troshx.sos.schools.OfficerBonuses"]=gs,gs.__name__=["troshx","sos","schools","OfficerBonuses"],gs.__super__=Jt,gs.prototype=i(Jt.prototype,{getTags:function(){return["By Example!",this.choice2]},getUIFields:function(){return[{prop:"choice2",type:"SingleSelectionStr",label:"Choose Benefit #2",labels:["Protect the Banner!","Ride to Ruin!"]}]},__class__:gs});var ps=function(){};a["troshx.sos.schools.Schools"]=ps,ps.__name__=["troshx","sos","schools","Schools"],ps.getList=function(){return null==ps.LIST?ps.LIST=ps.getNewList():ps.LIST},ps.getNewList=function(){return[new _s,new ms,new ys,new cs,new bs,new xs,new Rs]};var _s=function(){$t.call(this,"Scrapper",4,0)};a["troshx.sos.schools.Scrapper"]=_s,_s.__name__=["troshx","sos","schools","Scrapper"],_s.__super__=$t,_s.prototype=i($t.prototype,{getSchoolBonuses:function(){return new us},__class__:_s});var us=function(){Jt.call(this)};a["troshx.sos.schools.ScrapperBonuses"]=us,us.__name__=["troshx","sos","schools","ScrapperBonuses"],us.__super__=Jt,us.prototype=i(Jt.prototype,{getTags:function(){return["Dirty Trick","Grapple"]},getUIFields:function(){return[]},__class__:us});var ms=function(){$t.call(this,"Soldier",10,1),this.staticModifiers=Kt.create(20,"Warrior's Grit",2)};a["troshx.sos.schools.Soldier"]=ms,ms.__name__=["troshx","sos","schools","Soldier"],ms.__super__=$t,ms.prototype=i($t.prototype,{getSchoolBonuses:function(){return new fs},__class__:ms});var fs=function(){Jt.call(this)};a["troshx.sos.schools.SoldierBonuses"]=fs,fs.__name__=["troshx","sos","schools","SoldierBonuses"],fs.__super__=Jt,fs.prototype=i(Jt.prototype,{getTags:function(){return["Discipline","Warrior's Grit"]},getUIFields:function(){return[]},__class__:fs});var bs=function(){$t.call(this,"Traditional Fencer",4,5),this.costMoney=Ft.create(10,0,0)};a["troshx.sos.schools.TraditionalFencer"]=bs,bs.__name__=["troshx","sos","schools","TraditionalFencer"],bs.__super__=$t,bs.prototype=i($t.prototype,{getSchoolBonuses:function(){return new Ss},__class__:bs});var Ss=function(){Jt.call(this)};a["troshx.sos.schools.TraditionalFencerBonuses"]=Ss,Ss.__name__=["troshx","sos","schools","TraditionalFencerBonuses"],Ss.__super__=Jt,Ss.prototype=i(Jt.prototype,{getTags:function(){return["Extreme Repetition","Centered"]},getUIFields:function(){return[]},__class__:Ss});var xs=function(){$t.call(this,"Unorthodox Fencer",6,5),this.costMoney=Ft.create(5,0,0)};a["troshx.sos.schools.UnorthodoxFencer"]=xs,xs.__name__=["troshx","sos","schools","UnorthodoxFencer"],xs.__super__=$t,xs.prototype=i($t.prototype,{getSchoolBonuses:function(){return new As},__class__:xs});var As=function(){Jt.call(this)};a["troshx.sos.schools.UnorthodoxFencerBonuses"]=As,As.__name__=["troshx","sos","schools","UnorthodoxFencerBonuses"],As.__super__=Jt,As.prototype=i(Jt.prototype,{getTags:function(){return["The Meisterhau","Treachery"]},getUIFields:function(){return[]},__class__:As});var vs=function(){this.woundHash={},this.wounds=[],this.body=Tt.getInstance(),this.inventory=new Wt,this.arcFlaw="",this.arcGlory="",this.arcBelief="",this.arcEpic="",this.arcSaga="",this.arcSpent=0,this.arcPointsAccum=0,this.banes=new be,this.boons=new be,this.direPast=!1,this.talents=[],this.skills=ta.getNewEmptySkillTable(ta.getDefaultSkillTable()),this.wealthAssetAssignCount=0,this.wealthAssets=[],this.socialClass=new aa("",new Ft(),0),this.money=new Ft,this.situationalModifierTable=Yt.getSituationalModifierSlots(),this.staticModifierTable=Yt.getStaticModifierSlots(),this.ingame=!1,this.fatique=0,this.talentNotes=[],this.masteryManueverNotes=[],this.superiorManueverNotes=[],this.profsCustom=null,this.profsRanged=0,this.profsMelee=0,this.schoolLevel=0,this.schoolBonuses=null,this.school=null,this.gritAccum=0,this.prone=!1,this.healthLoss=0,this.version=2,this.perception=1,this.intelligence=1,this.wit=1,this.willpower=1,this.health=1,this.endurance=1,this.agility=1,this.strength=1,this.age=-1,this.leftHanded=!1,this.gender=0,this.race=null,this.title="",this.notes="",this.faction="",this.nickname="",this.name=""};a["troshx.sos.sheets.CharSheet"]=vs,vs.__name__=["troshx","sos","sheets","CharSheet"],vs.getTotalLiquidity=function(e,t){null==t&&(t=0);for(var a=0==t?e.length:t,s=0;-1<--a;){var o=e[a];s+=o.liquidate?6*o.worth:0}return s},vs.dynSetField=function(e,i,t){e[i]=t},vs.dynDelField=function(e,i){_.deleteField(e,i)},vs.prototype={get_uid:function(){return(""==this.title?"":this.title+" ")+this.name+(""==this.nickname?"":" \""+this.nickname+"\"")+(""==this.faction?"":" of "+this.faction)},set_race:function(e){var i=this.race;if(i!=e){if(null!=i){var a=i.staticModifiers;if(null!=a)for(var o=this.staticModifierTable[a.index],n=o.splice(o.indexOf(a),1),r=a.next;null!=r;)o=this.staticModifierTable[r.index],n=o.splice(o.indexOf(r),1),r=r.next;var l=i.situationalModifiers;if(null!=l)for(var R=this.situationalModifierTable[l.index],d=R.splice(R.indexOf(l),1),c=l.next;null!=c;)R=this.situationalModifierTable[c.index],d=R.splice(R.indexOf(c),1),c=c.next}if(null!=e){var h=e.staticModifiers;if(null!=h){var y=this.staticModifierTable[h.index];y.push(h);for(var g=h.next;null!=g;)y=this.staticModifierTable[g.index],y.push(g),g=g.next}var p=e.situationalModifiers;if(null!=p){var _=this.situationalModifierTable[p.index];_.push(p);for(var u=p.next;null!=u;)_=this.situationalModifierTable[u.index],_.push(u),u=u.next}}this.race=e}return e},get_labelGender:function(){return 0==this.gender?"Male":"Female"},postSerialization:function(){this.postSerialize_2(),this.body=Tt.getInstance(),this.inventory.postSerialization()},postSerialize_2:function(){if(null==this.version||2>this.version)this.version=2;else return!1;return this.ingame||(this.ingame=!0),null==this.healthLoss&&(this.healthLoss=0),null==this.prone&&(this.prone=!1),!0},get_STR:function(){return this.clampIntZero(this.getModifiedValue(0,this.strength))},get_AGI:function(){return this.clampIntZero(this.getModifiedValue(1,this.agility))},get_END:function(){return this.clampIntZero(this.getModifiedValue(2,this.endurance))},get_HLT:function(){return Math.floor(this.getModifiedValue(3,this.health))-this.healthLoss},get_WIP:function(){return this.clampIntZero(this.getModifiedValue(4,this.willpower))},get_WIT:function(){return this.clampIntZero(this.getModifiedValue(5,this.wit))},get_INT:function(){return this.clampIntZero(this.getModifiedValue(6,this.intelligence))},get_PER:function(){return this.clampIntZero(this.getModifiedValue(7,this.perception))},set_school:function(e){var i=this.school;if(i!=e){if(null!=i){var a=i.staticModifiers;if(null!=a)for(var o=this.staticModifierTable[a.index],n=o.splice(o.indexOf(a),1),r=a.next;null!=r;)o=this.staticModifierTable[r.index],n=o.splice(o.indexOf(r),1),r=r.next;var l=i.situationalModifiers;if(null!=l)for(var R=this.situationalModifierTable[l.index],d=R.splice(R.indexOf(l),1),c=l.next;null!=c;)R=this.situationalModifierTable[c.index],d=R.splice(R.indexOf(c),1),c=c.next}if(null!=e){var h=e.staticModifiers;if(null!=h){var y=this.staticModifierTable[h.index];y.push(h);for(var g=h.next;null!=g;)y=this.staticModifierTable[g.index],y.push(g),g=g.next}var p=e.situationalModifiers;if(null!=p){var _=this.situationalModifierTable[p.index];_.push(p);for(var u=p.next;null!=u;)_=this.situationalModifierTable[u.index],_.push(u),u=u.next}}this.school=e}return e},set_schoolBonuses:function(e){var i=this.schoolBonuses;if(i!=e){if(null!=i){var a=i.situationalModifiers;if(null!=a)for(var o=this.situationalModifierTable[a.index],n=o.splice(o.indexOf(a),1),r=a.next;null!=r;)o=this.situationalModifierTable[r.index],n=o.splice(o.indexOf(r),1),r=r.next}if(null!=e){var l=e.situationalModifiers;if(null!=l){var R=this.situationalModifierTable[l.index];R.push(l);for(var d=l.next;null!=d;)R=this.situationalModifierTable[d.index],R.push(d),d=d.next}}this.schoolBonuses=e}return e},getTotalProfeciencies:function(){for(var e=0,t=0,a=Xt.getCoreMelee().length;t<a;){var s=t++;e+=0==(this.profsMelee&1<<s)?0:1}for(var i=0,o=(null==Xt.CORE_RANGED?Xt.CORE_RANGED=Xt.getNewCoreRanged():Xt.CORE_RANGED).length;i<o;){var n=i++;e+=0==(this.profsRanged&1<<n)?0:1}return e},get_assetWorth:function(){for(var e=this.wealthAssets.length,t=0;-1<--e;)t+=this.wealthAssets[e].worth;return t},getAssetsWithWorth:function(e){for(var t=[],a=0,s=this.wealthAssets.length;a<s;){var o=a++,i=this.wealthAssets[o];i.worth==e&&t.push(i)}return t},getEmptyWealthAssetAssign:function(e){var i={name:"",liquidate:!1,uid:this.wealthAssetAssignCount,worth:e};return this.wealthAssetAssignCount++,i},get_assetLiquidateTotal:function(){return vs.getTotalLiquidity(this.wealthAssets)},get_boonsArray:function(){return this.boons.list},addBoon:function(e){this.boons.add(e)},removeBoon:function(e){this.boons["delete"](e)},get_banesArray:function(){return this.banes.list},addBane:function(e){this.banes.add(e)},removeBane:function(e){this.banes["delete"](e)},mayRemoveBane:function(e){this.banes.contains(e)&&this.banes["delete"](e)},boonRankUpdated:function(e,i,a){if(0<a){if(null!=e.boon.staticModifiers&&e.boon.staticModifiers.length>=a){var o=e.boon.staticModifiers[a-1];if(null!=o)for(var n=this.staticModifierTable[o.index],r=n.splice(n.indexOf(o),1),l=o.next;null!=l;)n=this.staticModifierTable[l.index],r=n.splice(n.indexOf(l),1),l=l.next}if(null!=e.boon.situationalModifiers&&e.boon.situationalModifiers.length>=a){var R=e.boon.situationalModifiers[a-1];if(null!=R)for(var d=this.situationalModifierTable[R.index],c=d.splice(d.indexOf(R),1),h=R.next;null!=h;)d=this.situationalModifierTable[h.index],c=d.splice(d.indexOf(h),1),h=h.next}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=a){var y=e.situationalModifiers[a-1];if(null!=y)for(var g=this.situationalModifierTable[y.index],p=g.splice(g.indexOf(y),1),_=y.next;null!=_;)g=this.situationalModifierTable[_.index],p=g.splice(g.indexOf(_),1),_=_.next}}if(0<i){if(null!=e.boon.staticModifiers&&e.boon.staticModifiers.length>=i){var u=e.boon.staticModifiers[i-1];if(null!=u){var f=this.staticModifierTable[u.index];f.push(u);for(var b=u.next;null!=b;)f=this.staticModifierTable[b.index],f.push(b),b=b.next}}if(null!=e.boon.situationalModifiers&&e.boon.situationalModifiers.length>=i){var S=e.boon.situationalModifiers[i-1];if(null!=S){var x=this.situationalModifierTable[S.index];x.push(S);for(var A=S.next;null!=A;)x=this.situationalModifierTable[A.index],x.push(A),A=A.next}}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=i){var v=e.situationalModifiers[i-1];if(null!=v){var z=this.situationalModifierTable[v.index];z.push(v);for(var T=v.next;null!=T;)z=this.situationalModifierTable[T.index],z.push(T),T=T.next}}}},baneRankUpdated:function(e,i,a){if(0<a){if(null!=e.bane.staticModifiers&&e.bane.staticModifiers.length>=a){var o=e.bane.staticModifiers[a-1];if(null!=o)for(var n=this.staticModifierTable[o.index],r=n.splice(n.indexOf(o),1),l=o.next;null!=l;)n=this.staticModifierTable[l.index],r=n.splice(n.indexOf(l),1),l=l.next}if(null!=e.bane.situationalModifiers&&e.bane.situationalModifiers.length>=a){var R=e.bane.situationalModifiers[a-1];if(null!=R)for(var d=this.situationalModifierTable[R.index],c=d.splice(d.indexOf(R),1),h=R.next;null!=h;)d=this.situationalModifierTable[h.index],c=d.splice(d.indexOf(h),1),h=h.next}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=a){var y=e.situationalModifiers[a-1];if(null!=y)for(var g=this.situationalModifierTable[y.index],p=g.splice(g.indexOf(y),1),_=y.next;null!=_;)g=this.situationalModifierTable[_.index],p=g.splice(g.indexOf(_),1),_=_.next}}if(0<i){if(null!=e.bane.staticModifiers&&e.bane.staticModifiers.length>=i){var u=e.bane.staticModifiers[i-1];if(null!=u){var f=this.staticModifierTable[u.index];f.push(u);for(var b=u.next;null!=b;)f=this.staticModifierTable[b.index],f.push(b),b=b.next}}if(null!=e.bane.situationalModifiers&&e.bane.situationalModifiers.length>=i){var S=e.bane.situationalModifiers[i-1];if(null!=S){var x=this.situationalModifierTable[S.index];x.push(S);for(var A=S.next;null!=A;)x=this.situationalModifierTable[A.index],x.push(A),A=A.next}}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=i){var v=e.situationalModifiers[i-1];if(null!=v){var z=this.situationalModifierTable[v.index];z.push(v);for(var T=v.next;null!=T;)z=this.situationalModifierTable[T.index],z.push(T),T=T.next}}}},boonRankCanceledChange:function(e,i,t){this.boonRankUpdated(e,i?0:e.rank,t?0:e.rank)},baneRankCanceledChange:function(e,i,t){this.baneRankUpdated(e,i?0:e.rank,t?0:e.rank)},boonAssignReplaced:function(e,i){if(null!=i.boon.staticModifiers&&i.boon.staticModifiers.length>=i.rank){var a=i.boon.staticModifiers[i.rank-1];if(null!=a)for(var o=this.staticModifierTable[a.index],n=o.splice(o.indexOf(a),1),r=a.next;null!=r;)o=this.staticModifierTable[r.index],n=o.splice(o.indexOf(r),1),r=r.next}if(null!=i.boon.situationalModifiers&&i.boon.situationalModifiers.length>=i.rank){var l=i.boon.situationalModifiers[i.rank-1];if(null!=l)for(var R=this.situationalModifierTable[l.index],d=R.splice(R.indexOf(l),1),c=l.next;null!=c;)R=this.situationalModifierTable[c.index],d=R.splice(R.indexOf(c),1),c=c.next}if(null!=i.situationalModifiers&&i.situationalModifiers.length>=i.rank){var h=i.situationalModifiers[i.rank-1];if(null!=h)for(var y=this.situationalModifierTable[h.index],g=y.splice(y.indexOf(h),1),p=h.next;null!=p;)y=this.situationalModifierTable[p.index],g=y.splice(y.indexOf(p),1),p=p.next}if(null!=e.boon.staticModifiers&&e.boon.staticModifiers.length>=e.rank){var _=e.boon.staticModifiers[e.rank-1];if(null!=_){var u=this.staticModifierTable[_.index];u.push(_);for(var f=_.next;null!=f;)u=this.staticModifierTable[f.index],u.push(f),f=f.next}}if(null!=e.boon.situationalModifiers&&e.boon.situationalModifiers.length>=e.rank){var b=e.boon.situationalModifiers[e.rank-1];if(null!=b){var S=this.situationalModifierTable[b.index];S.push(b);for(var x=b.next;null!=x;)S=this.situationalModifierTable[x.index],S.push(x),x=x.next}}if(null!=e.situationalModifiers&&e.situationalModifiers.length>=e.rank){var A=e.situationalModifiers[e.rank-1];if(null!=A){var v=this.situationalModifierTable[A.index];v.push(A);for(var z=A.next;null!=z;)v=this.situationalModifierTable[z.index],v.push(z),z=z.next}}},removeStaticModifier:function(e){if(null!=e)for(var i=this.staticModifierTable[e.index],a=i.splice(i.indexOf(e),1),o=e.next;null!=o;)i=this.staticModifierTable[o.index],a=i.splice(i.indexOf(o),1),o=o.next},removeSituationalModifier:function(e){if(null!=e)for(var i=this.situationalModifierTable[e.index],a=i.splice(i.indexOf(e),1),o=e.next;null!=o;)i=this.situationalModifierTable[o.index],a=i.splice(i.indexOf(o),1),o=o.next},addStaticModifier:function(e){if(null!=e){var i=this.staticModifierTable[e.index];i.push(e);for(var a=e.next;null!=a;)i=this.staticModifierTable[a.index],i.push(a),a=a.next}},addSituationalModifier:function(e){if(null!=e){var i=this.situationalModifierTable[e.index];i.push(e);for(var a=e.next;null!=a;)i=this.situationalModifierTable[a.index],i.push(a),a=a.next}},getModifiedValue:function(e,t){for(var a=this.staticModifierTable[e],o=t,n=0,r=a.length;n<r;){var l=n++,i=a[l];o*=i.multiply}for(var s=0,R=a.length;s<R;){var d=s++,c=a[d];o+=c.add}for(var h=this.situationalModifierTable[e],y=0,g=h.length;y<g;){var p=y++,_=h[p];o=_.getModifiedValueMultiply(this,t,o)}for(var u=0,m=h.length;u<m;){var f=u++,b=h[f];o=b.getModifiedValueAdd(this,t,o)}return o},get_totalWeight:function(){return this.inventory.calculateTotalWeight()},applyWound:function(e){var i=e.getUID(this.body);if(!Object.prototype.hasOwnProperty.call(this.woundHash,i))vs.dynSetField(this.woundHash,i,e),this.wounds.push(e);else{var t=this.woundHash[i];t.updateAgainst(e)}},hasWound:function(e){var i=e.getUID(this.body);return Object.prototype.hasOwnProperty.call(this.woundHash,i)},getWound:function(e){return this.woundHash[e.getUID(this.body)]},removeWound:function(e){var i=e.getUID(this.body);Object.prototype.hasOwnProperty.call(this.woundHash,i)?vs.dynDelField(this.woundHash,i):console.log("Warning: No wound found to be removed for uid:"+e.getUID(this.body));var t=this.wounds.indexOf(e);0<=t?this.wounds.splice(t,1):console.log("Warning: No wound found to be removed for array index:"+t)},wealthAssetsWorth:function(){for(var e=this.wealthAssets.length,t=0;-1<--e;)t+=this.wealthAssets[e].worth;return t},get_pain:function(){var e=this.get_totalPain()-(0|this.clampIntZero(this.getModifiedValue(20,0|this.willpower/2))+this.gritAccum);return 0>e?0:e},get_totalPain:function(){for(var e=0,t=!1,a=0,s=this.wounds.length;a<s;){var o=a++,i=this.wounds[o];e+=0==(2&i.flags)?i.pain:Math.floor(.5*i.pain),0>i.pain&&(t=!0)}return t?999999999:e},get_totalBloodLost:function(){for(var e=0,t=0,a=this.wounds.length;t<a;){var s=t++,i=this.wounds[s];e+=0==(3&i.flags)?i.BL:0}return e},get_adr:function(){return 0|(this.get_AGI()+this.get_WIT())/2},get_mob:function(){return 0|(this.get_STR()+this.get_AGI()+this.get_END())/2},get_car:function(){return this.get_STR()+this.get_END()},get_cha:function(){return 0|(this.get_WIP()+this.get_WIT()+this.get_PER())/2},get_tou:function(){return 4},get_ADR:function(){return this.clampIntZero(this.getModifiedValue(8,0|(this.get_AGI()+this.get_WIT())/2))},get_MOB:function(){var e=this.get_encumbranceLvlRow();return e.mobMult*this.clampIntZero(this.getModifiedValue(9,0|(this.get_STR()+this.get_AGI()+this.get_END())/2)+e.mob+Ts.getTable()[this.get_fatiqueLevel()].mob)},get_CAR:function(){return this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END()))))},get_CHA:function(){return this.clampIntZero(this.getModifiedValue(11,0|(this.get_WIP()+this.get_WIT()+this.get_PER())/2))},get_startingGrit:function(){return this.clampIntZero(this.getModifiedValue(20,0|this.willpower/2))},get_GRIT:function(){return 0|this.clampIntZero(this.getModifiedValue(20,0|this.willpower/2))+this.gritAccum},get_baseGrit:function(){return 0|this.willpower/2},clampIntZero:function(e){var i=0|e;return 0>i?0:i},hasStaticModifier:function(e){return 0<=this.staticModifierTable[e.index].indexOf(e)},hasSituationalCharModifier:function(e){return 0<=this.situationalModifierTable[e.index].indexOf(e)},get_TOU:function(){return this.clampIntZero(this.getModifiedValue(12,4))},get_SDB:function(){return 0|this.get_STR()/2},get_labelRace:function(){return null==this.race?"Unspecified":this.race.name},get_labelSchool:function(){return null==this.school?"":this.school.name},get_labelSocialClass:function(){return null==this.socialClass?"":this.socialClass.name},get_baseCP:function(){return(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,0|(this.get_AGI()+this.get_WIT())/2))},get_CP:function(){var e=this.get_encumbranceLvlRow();return e.cpMult*this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,0|(this.get_AGI()+this.get_WIT())/2)))*(this.prone?.5:1)+e.cp+Ts.getTable()[this.get_fatiqueLevel()].cp)},get_fullCP:function(){return this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,0|(this.get_AGI()+this.get_WIT())/2))))},get_meleeCP:function(){var e=this.get_encumbranceLvlRow();return e.cpMult*this.clampIntZero(this.getModifiedValue(13,(1<=this.schoolLevel?this.schoolLevel:0)+this.clampIntZero(this.getModifiedValue(8,0|(this.get_AGI()+this.get_WIT())/2)))*(this.prone?.5:1)+e.cp+Ts.getTable()[this.get_fatiqueLevel()].cp)-this.get_pain()},get_schoolCP:function(){return 1<=this.schoolLevel?this.schoolLevel:0},get_arcPointsAvailable:function(){var e=this.arcPointsAccum-this.arcSpent;return 0<=e?e:0},get_skillPenalty:function(){return this.get_encumbranceLvlRow().skill+Ts.getTable()[this.get_fatiqueLevel()].skill},get_recoveryRate:function(){return this.clampIntZero(this.get_encumbranceLvlRow().recovery)},get_encumbranceLvlRow:function(){var e=zs.getTable();return e[Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))>=e.length?e.length-1:0>Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))?0:Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))]},get_encumbranceLvl:function(){return Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))},get_encumberedBeyond:function(){return 5<=Math.floor(this.inventory.calculateTotalWeight()/this.clampIntZero(this.getModifiedValue(10,this.clampIntZero(this.getModifiedValue(16,this.get_STR()+this.get_END())))))},get_exhaustionRate:function(){return this.get_encumbranceLvlRow().exhaustion},get_fatiqueLevel:function(){var e=this.get_HLT();return e=0>e?0:e,Ts.getFatiqueLevel(this.fatique,e)},get_fatiqueSkillPenalty:function(){return Ts.getTable()[this.get_fatiqueLevel()].skill},get_fatiqueMobPenalty:function(){return Ts.getTable()[this.get_fatiqueLevel()].mob},get_fatiqueCPPenalty:function(){return Ts.getTable()[this.get_fatiqueLevel()].cp},__class__:vs};var zs=function(){};a["troshx.sos.sheets.EncumbranceTable"]=zs,zs.__name__=["troshx","sos","sheets","EncumbranceTable"],zs.getTable=function(){return null==zs.TABLE?zs.TABLE=zs.getNewTable():zs.TABLE},zs.getNewTable=function(){return[{name:"Unencumbered",cp:0,mob:0,skill:0,exhaustion:1,recovery:1,cpMult:1,mobMult:1},{name:"Light",cp:-1,mob:-2,skill:1,exhaustion:1.5,recovery:1,cpMult:1,mobMult:1},{name:"Medium",cp:-2,mob:-4,skill:2,exhaustion:2,recovery:.5,cpMult:1,mobMult:1},{name:"Heavy",cp:-3,mob:-6,skill:3,exhaustion:3,recovery:.25,cpMult:1,mobMult:1},{name:"Overloaded",cp:-4,mob:-8,skill:4,exhaustion:3.5,recovery:0,cpMult:1,mobMult:1},{name:"Beyond Overloaded!",cp:-4,mob:-8,skill:4,exhaustion:3.5,recovery:0,cpMult:0,mobMult:0}]};var Ts=function(){};a["troshx.sos.sheets.FatiqueTable"]=Ts,Ts.__name__=["troshx","sos","sheets","FatiqueTable"],Ts.getTable=function(){return null==Ts.TABLE?Ts.TABLE=Ts.getNewTable():Ts.TABLE},Ts.getFatiqueLevel=function(e,i){var t=Math.ceil((e-5-i)/5);return 0<=t?5>t?t:4:0},Ts.getNewTable=function(){return[{name:"Fresh",cp:0,mob:0,skill:0},{name:"Winded",cp:-1,mob:-1,skill:-1},{name:"Tired",cp:-2,mob:-2,skill:-2},{name:"Very Tired",cp:-4,mob:-4,skill:-4},{name:"Exhausted",cp:-6,mob:-6,skill:-6}]};var Ls=function(){};a["troshx.sos.vue.GlobalCanvas2D"]=Ls,Ls.__name__=["troshx","sos","vue","GlobalCanvas2D"],Ls.getContext=function(){return Ls.CONTEXT},Ls.__setupContext=function(e,i,t){return null==t&&(t=!1),null==Ls.CANVAS?void(Ls.CANVAS=e,Ls.CONTEXT=i,t&&(window.addEventListener("resize",Ls.canvasResizeHandler),Ls.canvasResizeHandler())):void console.log("GlobalCanvas2D:: Global canvas already set! Cannot set again")},Ls.canvasResizeHandler=function(){var e=window,i=Ls.CANVAS;i.width=e.innerWidth,i.height=e.innerHeight};var ws=function(e){this.thrustAvailabilityMask=0,this.swingAvailabilityMask=0,this.defaultThrustAvailMask=0,this.defaultSwingAvailMask=0,this.focusOpponentIndex=0,this.currentPlayerIndex=-1,this.actingState=-1,this.DOLL_SWING_IsLefts=0,this.DOLL_SWING_Indices=[],this.DOLL_SWING_Slugs=[],this.DOLL_GENERAL_FOCUS_DESC=new L,this.DOLL_PART_IsLefts=0,this.DOLL_PART_HitIndices=[],this.DOLL_PART_Indices=[],this.DOLL_PART_Slugs=[],this.draggedCP=0,this.advFocusedIndex=-1,this.focusedIndex=-1,this.observeIndex=-1,this.showFocusedTag=!1,this.observeOpponent=!1,this.incomingHeldDown=!1,this.isTouchDragMode=!1;var i=new M;null==to.SWING_LOWER_LEG?i.h.SWING_LOWER_LEG=!0:i.setReserved("SWING_LOWER_LEG",!0),null==to.SWING_UPPER_LEG?i.h.SWING_UPPER_LEG=!0:i.setReserved("SWING_UPPER_LEG",!0),null==to.KNEE?i.h.KNEE=!0:i.setReserved("KNEE",!0),null==to.LEG?i.h.LEG=!0:i.setReserved("LEG",!0),null==to.SHIN?i.h.SHIN=!0:i.setReserved("SHIN",!0),null==to.THIGH?i.h.THIGH=!0:i.setReserved("THIGH",!0),this.MAP_LOWER_BODY_PARTS=i,this.playerManueverSpec=new ue,this.browseManueverIndex=0,this.browseAttackManueverList3i=[!1,!1,!0,!0,!1,!1],this.browseAttackManueverList3=[1,3,1,2,0,7],this.trayPosFlipY=!1,this.trayPosFlip=!1,this.trayGridShelfX=8,this.trayGridShelfSize=10,this.trayGridSizeY=10,this.trayGridSizeX=10,this.trayPosY=0,this.trayPosX=0,this.boutModel=null==e?new ft:e,this.manueverRepo=Ut.getMap(),this.basicSwing=this.manueverRepo.swing,this.basicThrust=this.manueverRepo.thrust,this.basicShieldBash=this.manueverRepo.shieldBash;var t=this.manueverRepo;this.advSwingArr=["drawCut","cleavingBlow","hook","feint"].map(function(e){return t[e]});var a=this.manueverRepo;this.advThrustArr=["pushCut","jointThrust","hook","feint"].map(function(e){return a[e]});var s=this.manueverRepo;this.advShieldAttackArr=["","","","shieldFeint"].map(function(e){return s[e]});var o=this.manueverRepo;this.advAntiWeapWithWeaponArr=["disarm","beat","break",""].map(function(e){return o[e]});var n=this.manueverRepo;this.advAntiShieldWithWeaponArr=["hew","beat","hook",""].map(function(e){return n[e]});var r=this.manueverRepo;this.advAntiHandUnarmedArr=["disarmUnarmedAtk"].map(function(e){return r[e]});var l=this.manueverRepo;this.advAntiHandWithShieldArr=["shieldBeat"].map(function(e){return l[e]}),this.basicHookPunch=this.manueverRepo.hookPunch,this.basicStraightPunch=this.manueverRepo.straightPunch;var R=this.manueverRepo;this.advPuglismHandlessArr=["headbutt","elbow","knee","trip"].map(function(e){return R[e]});var d=this.manueverRepo;this.advPuglismThrustSwingArr=["oneTwoPunch","elbow","kick","trip"].map(function(e){return d[e]}),this.mOneTwoPunch=this.manueverRepo.oneTwoPunch,this.basicMeleeShoot=this.manueverRepo.meleeShoot,this.basicNetToss=this.manueverRepo.netToss,this.basicThrow=this.manueverRepo["throw"];var c=this.manueverRepo;this.advRangedArr=["","","blindToss","weaponThrow"].map(function(e){return c[e]}),this.basicVoid=this.manueverRepo["void"],this.basicParry=this.manueverRepo.parry,this.basicBlock=this.manueverRepo.block;var h=this.manueverRepo;this.advVoidArr=["hastyVoid","mobileVoid","","flee"].map(function(e){return h[e]});var y=this.manueverRepo;this.advParryArr=["disarmUnarmedDef","armParry","riposte",""].map(function(e){return y[e]});var g=this.manueverRepo;this.advBlockArr=["","shieldBind","","totalBlock"].map(function(e){return g[e]}),this.mStealInitiative=this.manueverRepo.stealInitiative,this.mDoNothing=this.manueverRepo.doNothing,this.mMasterStrike=this.manueverRepo.masterStrike,this.mDoubleAttack=this.manueverRepo.doubleAttack,this.mDoubleShot=this.manueverRepo.mDoubleShot,this.mQuickDefense=this.manueverRepo.quickDefense,this.mQuickDraw=this.manueverRepo.quickDraw,this.mAllyDefense=this.manueverRepo.allyDefense,this.mThreadNeedle=this.manueverRepo.threadNeedle,this.mRapidRise=this.manueverRepo.rapidRise,this.mGuardedAttack=this.manueverRepo.guardedAttack};a["troshx.sos.vue.combat.CombatViewModel"]=ws,ws.__name__=["troshx","sos","vue","combat","CombatViewModel"],ws.prototype={getDraggedCPAmountFromPos:function(e,i){var t=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,a=t.fight.cp,s=this.trayPosFlip?-1:1,o=this.trayPosFlipY?-1:1,n=this.trayPosX+this.trayGridShelfX*s,r=this.trayPosY+this.trayGridShelfSize*o,l=Math.floor((e-n)*s/this.trayGridSizeX),R=Math.floor((i-r)*o/this.trayGridSizeY);if(0>R||0>l)return 0;var d=5*R+(l+1);return d>a&&(d=a),d},cycleAttackManueverMode:function(e){null==e&&(e=!1);var i=this.browseAttackManueverList3;e?(this.browseManueverIndex--,0>this.browseManueverIndex&&(this.browseManueverIndex=i.length-1)):(this.browseManueverIndex++,this.browseManueverIndex>=i.length&&(this.browseManueverIndex=0))},getTarArr:function(){return this.browseAttackManueverList3},getBrowseAttackMode:function(){return this.browseAttackManueverList3[this.browseManueverIndex]},getBrowseAttackModeLabel:function(e){var i=this.browseAttackManueverList3,t=i[this.browseManueverIndex];switch(t){case 1:case 3:return"Weapon";case 2:return e?"Shield":"Weapon";break;case 0:case 7:return"Unarmed";}return"unfound"},isBrowseHighlightLeft:function(){var e=this.browseAttackManueverList3;return!!(this.playerManueverSpec.usingLeftLimb&&1==e[this.browseManueverIndex])||0!=(2&e[this.browseManueverIndex])},isBrowseHighlightRight:function(){var e=this.browseAttackManueverList3;return 0!=(1&e[this.browseManueverIndex])},getBasicTargetingLabels:function(){var e=this.playerManueverSpec.activeItem,i=null!=(0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null),t=this.browseAttackManueverList3[this.browseManueverIndex];if(i){var s=Y.__instanceof(e,Bt)?e:null,o=Y.__instanceof(e,ea)?e:null;if(null!=s){if(!s.ranged||s.isAmmo)return ws.TARGETING_LABELS_MELEE;var n=0!=(16&s.profs);return s.ranged&&n&&!s.isAmmo?ws.TARGETING_LABELS_THROW:ws.TARGETING_LABELS_SHOOT}return null==o?ws.TARGETING_LABELS_UNARMED:ws.TARGETING_LABELS_SHIELD}return 1===t||3===t?ws.TARGETING_LABELS_MELEE:2===t?ws.TARGETING_LABELS_SHIELD:0===t||7===t?ws.TARGETING_LABELS_UNARMED:ws.TARGETING_LABELS_MELEE},activatePlayerItem:function(e){null==e&&(e=!1);var i=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,t=e?i.charSheet.inventory.findOffHandItem():i.charSheet.inventory.findMasterHandItem();this.playerManueverSpec.activeItem=t},setIncomingHeldDown:function(e){this.incomingHeldDown=e},setObserveOpponent:function(e){var i=this.observeOpponent!=e;return this.observeOpponent=e,i},isDefBtnBlockAllowed:function(){var e=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null;return null!=e&&null!=e.charSheet.inventory.findHeldShieldAssign()},isDefBtnParryAllowed:function(){var e=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,i=this.playerManueverSpec.usingLeftLimb;if(null==e)return!1;var t=i?e.charSheet.inventory.getOffhandWeapon():e.charSheet.inventory.getMasterWeapon();return null!=t&&1<=t.dtn},setFocusedIndex:function(e){this.focusedIndex=e,this.playerManueverSpec.activeEnemyZone=this.getTargetZoneIndexFromFocIndex(e),this.showFocusedTag=0<=e},setAdvFocusedIndex:function(e){this.advFocusedIndex=e},resetAdvFocusedIndex:function(){this.advFocusedIndex=-1},getFocusManueverAtkType:function(){var e=this.focusedIndex;return this._swingMap.h.hasOwnProperty(e)?1:this._partMap.h.hasOwnProperty(e)?2:this.focusedIndex==this._enemyHandLeftIdx?-2:this.focusedIndex==this._enemyHandRightIdx?-3:-1},getTargetZoneIndexFromFocIndex:function(e){return this._swingMap.h.hasOwnProperty(e)?this.DOLL_SWING_Indices[this._swingMap.h[e]]:this._partMap.h.hasOwnProperty(e)?this.DOLL_PART_Indices[this._partMap.h[e]]:this.focusedIndex==this._enemyHandLeftIdx?-2:this.focusedIndex==this._enemyHandRightIdx?-3:-1},setObserveIndex:function(e){this.observeIndex=e},getAdvancedManuevers:function(e,i,t,a,s,o){var n=this.playerManueverSpec,r=n.activeEnemyZone,l=n.usingLeftLimb,R=this.focusedIndex;if(null==n.activeEnemyBody)return ws.EMPTY_ARR;if(null!=a&&(0>this.playerManueverSpec.activeEnemyZone&&-1!=this.playerManueverSpec.activeEnemyZone?-2==this.playerManueverSpec.activeEnemyZone?(null==s&&(s=a.charSheet.inventory.findOffHandItem()),this.playerManueverSpec.activeEnemyItem=s):-3==this.playerManueverSpec.activeEnemyZone?(null==o&&(o=a.charSheet.inventory.findMasterHandItem()),this.playerManueverSpec.activeEnemyItem=o):this.playerManueverSpec.activeEnemyItem=null:this.playerManueverSpec.activeEnemyItem=null),0<=r){if(null==e){var d=this.browseAttackManueverList3[this.browseManueverIndex];if(1==d||3==d)return n.activeEnemyBody.isThrusting(r)?this.advThrustArr:this.advSwingArr;if(7==d||0==d)return 7==d?this.advPuglismThrustSwingArr:this.advPuglismHandlessArr;if(2==d)return this.advShieldAttackArr}return n.activeEnemyBody.isThrusting(r)?this.advThrustArr:this.advSwingArr}if(R==this._enemyHandLeftIdx||R==this._enemyHandRightIdx){if(null==e){var c=this.browseAttackManueverList3[this.browseManueverIndex];if(1==c||3==c)return Y.__instanceof(n.activeEnemyItem,ea)?this.advAntiShieldWithWeaponArr:this.advAntiWeapWithWeaponArr;if(7==c||0==c)return Y.__instanceof(n.activeEnemyItem,ea)?ws.EMPTY_ARR:this.advAntiHandUnarmedArr;if(2==c)return Y.__instanceof(n.activeEnemyItem,ea)?ws.EMPTY_ARR:this.advAntiHandWithShieldArr}else{if(Y.__instanceof(n.activeItem,Bt))return Y.__instanceof(n.activeEnemyItem,ea)?this.advAntiShieldWithWeaponArr:this.advAntiWeapWithWeaponArr;if(Y.__instanceof(n.activeItem,ea))return this.advAntiHandWithShieldArr}return this.advAntiHandUnarmedArr}return R==this.btnBlockInteract.index||R==this.btnParryInteract.index||R==this.btnVoidInteract.index?R==this.btnBlockInteract.index?this.advBlockArr:R==this.btnParryInteract.index?this.advParryArr:R==this.btnVoidInteract.index?this.advVoidArr:ws.EMPTY_ARR:ws.EMPTY_ARR},isFocusedEnemyLeftSide:function(){var e=this.focusedIndex,i=null;return this._swingMap.h.hasOwnProperty(e)?i=this.DOLL_SWING_Slugs[this._swingMap.h[e]]:this._partMap.h.hasOwnProperty(e)&&(i=this.DOLL_PART_Slugs[this._partMap.h[e]]),e==this._enemyHandLeftIdx||null!=i&&"-l"==R.substr(i,i.length-2,null)},isFocusedEnemyLower:function(){var e=this.focusedIndex,i=null;if(this._swingMap.h.hasOwnProperty(e)?i=this.DOLL_SWING_Slugs[this._swingMap.h[e]]:this._partMap.h.hasOwnProperty(e)&&(i=this.DOLL_PART_Slugs[this._partMap.h[e]]),null!=i&&(i=i.split("-")[0]),null!=i){var t=this.MAP_LOWER_BODY_PARTS;return null==to[i]?t.h.hasOwnProperty(i):t.existsReserved(i)}return!1},getFocusedLabel:function(e,t,a){var s=this.focusedIndex;return 0>s?"":this._swingMap.h.hasOwnProperty(s)?null==a?this.getDollSwingDescAt(this._swingMap.h[s]):this._body.getDescLabelTargetZone(this.DOLL_SWING_Indices[this._swingMap.h[s]],a[0],a[1],3<=a.length?a.slice(2):null):this._partMap.h.hasOwnProperty(s)?null==a?this.getDollPartThrustDescAt(this._partMap.h[s]):this._body.getDescLabelTargetZone(this.DOLL_PART_Indices[this._partMap.h[s]],a[0],a[1]):s==this._enemyHandLeftIdx||s==this._enemyHandRightIdx?s==this._enemyHandRightIdx?null==t?"enemy's right-hand item":t.name:null==e?"enemy's left-hand item":e.name:this.DOLL_GENERAL_FOCUS_DESC.h.hasOwnProperty(s)?this.DOLL_GENERAL_FOCUS_DESC.h[s]:"todo/missing"},focusIndexEnemyHandSide:function(e){return e==this._enemyHandLeftIdx?2:e==this._enemyHandRightIdx?1:0},getHitLocationAtFocusIndex:function(e){return this._body.hitLocations[this.DOLL_PART_HitIndices[this._partMap.h[e]]]},getDollIndexAtFocusIndex:function(e){return this._partMap.h[e]},getBodyPartLabel:function(e){if(null==e&&(e=-1),0>e&&(e=this.focusedIndex),0>e)return"";if(this._partMap.h.hasOwnProperty(e)){var t=this._body.hitLocations[this.DOLL_PART_HitIndices[this._partMap.h[e]]];return t.name}return null},setDraggedCP:function(e){this.draggedCP=e},getRemainingDisplayCP:function(){var e=this.draggedCP,i=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null,t=i.fight.cp-e;return 0<=t?t:0},isLeftPartAtDollIndex:function(e){return 0!=(this.DOLL_PART_IsLefts&1<<e)},getGeneralFocusDescAt:function(e){return this.DOLL_GENERAL_FOCUS_DESC.h[e]},isDefensiveFocusIndex:function(e){return e==this.btnBlockInteract.index||e==this.btnParryInteract.index||e==this.btnVoidInteract.index},getDollPartThrustDescAt:function(e){return e=this.DOLL_PART_Indices[e],0>e?null:this._body.getDescLabelTargetZone(e)},getDollPartHitLocationAt:function(e){return this._body.hitLocations[this.DOLL_PART_HitIndices[e]]},getDollPartThrustZoneAt:function(e){return e=this.DOLL_PART_Indices[e],0>e?null:this._body.targetZones[e]},isDollPartThrustable:function(e){return 0<=this.DOLL_PART_Indices[e]},getDollPartArmorValues:function(e){return null==e&&(e=[]),e},getDollPartHighestWoundLevels:function(e){return null==e&&(e=[]),e},getDollHighestWounds:function(e){return null==e&&(e=[]),e},getDollSwingDescAt:function(e){return this._body.getDescLabelTargetZone(this.DOLL_SWING_Indices[e])},getDollSwingZoneAt:function(e){return this._body.targetZones[this.DOLL_SWING_Indices[e]]},getDefaultPlayerSideIndex:function(){return 0},getDefaultEnemySideIndex:function(){return 1},setActingState:function(e){this.actingState=e},set_currentPlayerIndex:function(e){return this.playerManueverSpec.resetPlayer(),this.currentPlayerIndex=e},set_focusOpponentIndex:function(e){return this.playerManueverSpec.setNewEnemy(this.boutModel.bout.combatants[e].charSheet.body),this.focusOpponentIndex=e},getCurrentPlayer:function(){return 0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null},getCurrentOpponents:function(){return null==this.boutModel.bout?null:this.boutModel.bout.combatants.filter(function(e){return e.sideIndex!=0})},getCurrentActiveOpponents:function(){var e=0<=this.currentPlayerIndex?this.boutModel.bout.combatants[this.currentPlayerIndex]:null;if(null==this.boutModel.bout)return null;if(null!=e){this.boutModel.bout.linkUpdateCount;return this.boutModel.bout.findLinkedOpponents(e)}return null},getCurrentAllies:function(){return null==this.boutModel.bout?null:this.boutModel.bout.combatants.filter(function(e){return e.sideIndex!=0})},handleDisabledMask:function(e,t){for(var a=this._interactionMaps[0],s=0,o=t.length;s<o;){var n=s++;a.h[this._dollImageMapData.idIndices[t[n]]].disabled=0==(e&1<<n)}},setDisabledAll:function(e,t){null==t&&(t=!0);for(var a=this._interactionMaps[0],s=0,o=e.length;s<o;){var n=s++;a.h[this._dollImageMapData.idIndices[e[n]]].disabled=t}},onThrustAvailabilityChange:function(){this.handleDisabledMask(this.thrustAvailabilityMask,this.DOLL_PART_Slugs)},onSwingAvailabilityChange:function(){this.handleDisabledMask(this.swingAvailabilityMask,this.DOLL_SWING_Slugs)},onAdvAvailabilityChange:function(e){this.advInteract1.disabled=0!=(17&e),this.advInteract2.disabled=0!=(34&e),this.advInteract3.disabled=0!=(68&e),this.advInteract4.disabled=0!=(136&e)},partIndexAvailable:function(e){return 0!=(this.thrustAvailabilityMask&e<<1)},swingArcAvailableBetween:function(e){return 0!=(this.swingAvailabilityMask&(this._dollImageMapData.idIndices[e[0]]|this._dollImageMapData.idIndices[e[1]]))},getInteractionListByState:function(e){return this._interactionStates[e]},setupDollInteraction:function(e,t){this._interactionMaps=[],this._interactionStates=[],this._interactionStates[0]=e,this._interactionMaps[0]=Es.getIndexMapOfArray(e),this._interactionStates[1]=[],this._dollImageMapData=t,this._interactionStates[2]=[],(this.advInteract1=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever1]).disabled=!1,(this.advInteract2=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever2]).disabled=!1,(this.advInteract3=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever3]).disabled=!1,(this.advInteract4=this._interactionMaps[0].h[this._dollImageMapData.idIndices.advManuever4]).disabled=!1;var a=Tt.getInstance();this._body=a;this._swingMap=new L,this._partMap=new L;for(var s=0,n=t.layoutItemList.length;s<n;){var r=s++,i=t.classList[r],l=t.titleList[r];"part"==i?(this._partMap.h[r]=this.DOLL_PART_Slugs.length,this.DOLL_PART_Slugs.push(t.titleList[r])):"swing"==i?(this._swingMap.h[r]=this.DOLL_SWING_Slugs.length,this.DOLL_SWING_Slugs.push(t.titleList[r])):"enemyHandLeft"==l?this._enemyHandLeftIdx=r:"enemyHandRight"==l&&(this._enemyHandRightIdx=r)}for(var d=a.targetZones,c=new RegExp(" ([A-Z])","g"),h=new o("_([a-z])","g"),y={},g=y,p={},_=p,u=0,m=a.thrustStartIndex,f;u<m;){var b=u++;f=d[b].name.replace(c,"_$1").toUpperCase(),g["SWING_"+f]=b}for(var S=a.thrustStartIndex,x=d.length;S<x;){var A=S++;f=d[A].name.replace(c,"_$1").toUpperCase(),_[f]=A,"LOWER_ARM"==f?_.FOREARM=A:"UPPER_LEG"==f?_.THIGH=A:"HEAD"==f?_.FACE=A:"LOWER_LEG"==f&&(_.SHIN=A)}this.DOLL_PART_Slugs[0].charAt(0).toLowerCase()!=this.DOLL_PART_Slugs[0].charAt(0);for(var v=0,z=0,T=this.DOLL_PART_Slugs.length,w,M;z<T;)if(M=z++,w=this.DOLL_PART_Slugs[M].split("-"),f=w[0],this.DOLL_PART_IsLefts|=2<=w.length&&"l"==w[w.length-1]?1<<M:0,null==_[f]?this.DOLL_PART_Indices[M]=-1:(this.DOLL_PART_Indices[M]=_[f],v|=1<<M),f=h.map(f.toLowerCase(),function(i){return i.matched(1).toUpperCase()}),f=f.charAt(0).toLowerCase()+R.substr(f,1,null),Object.prototype.hasOwnProperty.call(a.hitLocationHash,f))this.DOLL_PART_HitIndices[M]=a.hitLocationHash[f];else throw new Z("FAILED TO FIND hit location index by key:"+f);this.thrustAvailabilityMask=v,v=0;for(var I=0,C=this.DOLL_SWING_Slugs.length,E;I<C;){if(E=I++,w=this.DOLL_SWING_Slugs[E].split("-"),this.DOLL_SWING_IsLefts|=2<=w.length&&"l"==w[w.length-1]?1<<E:0,f=w[0],"SWING_UPWARD_HEAD"==f)this.DOLL_SWING_Indices[E]=1;else if("SWING_DOWNWARD_HEAD"==f)this.DOLL_SWING_Indices[E]=0;else if(null!=g[f])this.DOLL_SWING_Indices[E]=g[f];else throw this.DOLL_SWING_Indices[E]=-1,new Z("FAILED TO FIND target zone index by key:"+f);v|=1<<E}this.swingAvailabilityMask=v,this.defaultSwingAvailMask=this.swingAvailabilityMask,this.defaultThrustAvailMask=this.thrustAvailabilityMask,this.onThrustAvailabilityChange(),this.onSwingAvailabilityChange(),(this.btnBlockInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnBlock]).disabled=!0,this.btnVoidInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnVoid],(this.btnParryInteract=this._interactionMaps[0].h[this._dollImageMapData.idIndices.btnParry]).disabled=!0,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnBlockInteract.index]=this.basicBlock.name,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnVoidInteract.index]=this.basicVoid.name,this.DOLL_GENERAL_FOCUS_DESC.h[this.btnParryInteract.index]=this.basicParry.name},__class__:ws};var Ms=function(e,i,a,s){this.requiredActs=0,this.DEFAULT_ACT_HOVER=new Es(-1,4096),this.pointerOffsetY=0,this.pointerOffsetX=0,this.activeTouches=new L;var o=new M;null==to.panup?o.h.panup=256:o.setReserved("panup",256),null==to.pandown?o.h.pandown=1024:o.setReserved("pandown",1024),null==to.tap?o.h.tap=4:o.setReserved("tap",4),null==to.press?o.h.press=8:o.setReserved("press",8),null==to.swipeleft?o.h.swipeleft=128:o.setReserved("swipeleft",128),null==to.swiperight?o.h.swiperight=32:o.setReserved("swiperight",32),null==to.swipeup?o.h.swipeup=16:o.setReserved("swipeup",16),this.hammerEventMap=o,this.cursorDomRef=s,this.callback=null==a?t(this,this.defaultCallback):a,this.imageMapData=i,this.hammer=new Hammer.Manager(e),this.hammer.add(new Hammer.Press),this.hammer.add(new Hammer.Swipe),this.hammer.add(new Hammer.Pan),this.hammer.add(new Hammer.Tap({taps:1})),this.cursorDomRef=s,this.defaultAct=this.DEFAULT_ACT_HOVER,this.interactionList=Cs.setupDollViewInteracts(i.layoutItemList,i.titleList,i.classList),this.hammer.on("hammer.input move panup pandown tap press swipeleft swiperight swipeup",t(this,this.handleUIGesture))};a["troshx.sos.vue.combat.HammerJSCombat"]=Ms,Ms.__name__=["troshx","sos","vue","combat","HammerJSCombat"],Ms.prototype={setNewInteractionList:function(e){this.interactionList=e},setCursorPos:function(e,i){null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+e+"px, "+i+"px, 0)")},defaultCallback:function(e,i){if(null==this.viewModel)return void console.log("Receiving event from:"+e+" ::"+i+" >"+this.currentGesture.type+" :"+this.currentGesture.eventType);var t=this.imageMapData.classList[e],a=this.imageMapData.titleList[e];if(1==this.viewModel.actingState){if(2==i)this.viewModel.draggedCP=this.viewModel.getDraggedCPAmountFromPos(this.currentGesture.center.x,this.currentGesture.center.y);else if(32768==i)this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.draggedCP=0,this.viewModel.advFocusedIndex=-1;else if(16384==i)this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.advFocusedIndex=-1,this.viewModel.draggedCP=0;else return;return}if("swing"==t||"part"==t||"enemyHandLeft"==a||"enemyHandRight"==a){if(0!=(266240&i)||e!=this.viewModel.focusedIndex){if(!this.viewModel.observeOpponent){var s=this.viewModel;s.focusedIndex=e,s.playerManueverSpec.activeEnemyZone=s.getTargetZoneIndexFromFocIndex(e),s.showFocusedTag=0<=e}else this.viewModel.observeIndex=e;}else if(1==i&&e==this.viewModel.focusedIndex){if("enemyHandLeft"!=a&&"enemyHandRight"!=a)this.viewModel.advFocusedIndex=-1;else if(!this.viewModel.advInteract1.disabled)this.viewModel.advFocusedIndex=0;else return;0<=this.viewModel.currentPlayerIndex&&this.startDragCP(a,t,this.viewModel.isFocusedEnemyLeftSide(),this.viewModel.isFocusedEnemyLower())}return}if("incomingManuevers"==a)0==(3840&i)?0==(2&i)?0==(49152&i)?0==(9&i)?0!=(131072&i)&&this.viewModel.setObserveOpponent(!0)&&this.onViewModelObservationChange(this.currentGesture):this.viewModel.setIncomingHeldDown(!0):(this.viewModel.setObserveOpponent(!1)&&this.onViewModelObservationChange(this.currentGesture),this.viewModel.setIncomingHeldDown(!1)):null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+this.currentGesture.center.x+"px, "+this.currentGesture.center.y+"px, 0)"):this.viewModel.showFocusedTag=!1;else if("vitals"!=a)if("advManuever1"==a||"advManuever2"==a||"advManuever3"==a||"advManuever4"==a)1==i&&0<=this.viewModel.currentPlayerIndex&&(this.viewModel.advFocusedIndex=u.parseInt(R.substr(a,a.length-1,null))-1,this.startDragCP(a,t,!0,"advManuever3"==a||"advManuever4"==a));else if("btnVoid"==a||"btnParry"==a||"btnBlock"==a){if(0==(1&i))0!=(49152&i)&&(this.viewModel.setActingState(0),this.defaultAct=this.DEFAULT_ACT_HOVER,this.requiredActs=0,this.viewModel.draggedCP=0,this.viewModel.advFocusedIndex=-1);else if(e!=this.viewModel.focusedIndex){var o=this.viewModel;o.focusedIndex=e,o.playerManueverSpec.activeEnemyZone=o.getTargetZoneIndexFromFocIndex(e),o.showFocusedTag=0<=e}else this.viewModel.advFocusedIndex=-1,this.startDragCP(a,t,"btnParry"==a,!0);}else if("handLeftAlt"!=a&&"handRightAlt"!=a)console.log("unhadnled:"+a+" ::"+i+" : "+this.currentGesture.type);else if(0!=(4&i)){var n=this.viewModel;null==(0<=n.currentPlayerIndex?n.boutModel.bout.combatants[n.currentPlayerIndex]:null)&&this.viewModel.cycleAttackManueverMode("handLeftAlt"==a)}},startDragCP:function(e,i,t,a){this.viewModel.draggedCP=0,this.viewModel.showFocusedTag=!0,this.viewModel.trayPosX=this.currentGesture.center.x,this.viewModel.trayPosY=this.currentGesture.center.y,this.calibrateDragCPTraySize(),this.viewModel.trayPosFlip=t,this.viewModel.trayPosFlipY=a,this.viewModel.setActingState(1),this.requiredActs=49154,this.defaultAct=null},calibrateDragCPTraySize:function(){var e=this,i=window.innerWidth,t=window.innerHeight,a=Math.min(i/2/5,t/2/6);64<a&&(a=64),36>a&&(a=36),this.viewModel.trayGridSizeY=Math.floor(a),this.viewModel.trayGridShelfSize=Math.floor(.65*a),this.viewModel.trayGridSizeX=this.viewModel.trayGridSizeY,null==this.cpTrayDom&&(this.cpTrayDom=window.document.getElementById("cpTray")),window.setTimeout(function(){e.viewModel.trayGridSizeX=e.cpTrayDom.clientWidth/5,console.log(e.viewModel.trayGridSizeX+" , "+e.viewModel.trayGridSizeX)})},onViewModelObservationChange:function(e){var i=this.viewModel,t=i.observeOpponent;if(t?(i.setDisabledAll(i.DOLL_PART_Slugs,!1),i.setDisabledAll(i.DOLL_SWING_Slugs,!0),i.showFocusedTag=!0):(i.handleDisabledMask(i.thrustAvailabilityMask,i.DOLL_PART_Slugs),i.handleDisabledMask(i.swingAvailabilityMask,i.DOLL_SWING_Slugs),i.observeIndex=-1,i.showFocusedTag=!0),null!=e){var a=t&&"touch"==e.pointerType;this.pointerOffsetY=a?-55:0,null!=this.cursorDomRef&&(this.cursorDomRef.style.transform="translate3d("+e.center.x+"px, "+e.center.y+"px, 0)"),this.viewModel.isTouchDragMode=a}},handleUIGesture:function(i){this.currentGesture=i;var e=i.changedPointers[0],t=null,a=null,s=this.imageMapData.scaleX*this.imageMapData.refWidth,o=this.imageMapData.scaleY*this.imageMapData.refHeight,n,r,l;Y.__instanceof(e,Touch)?(t=e,n=t.identifier,r=(t.pageX+this.pointerOffsetX)/s,l=(t.pageY+this.pointerOffsetY)/o):(a=e,n=a.pointerId,r=(a.pageX+this.pointerOffsetX)/s,l=(a.pageY+this.pointerOffsetY)/o);var R=this.requiredActs,d;if(i.isFirst&&"hammer.input"==i.type)d=Cs.findHit(r,l,this.imageMapData,this.interactionList),null==d?null!=this.defaultAct&&(this.activeTouches.h[n]=this.defaultAct):(R|=d.mask,0!=(1&R)&&this.callback(d.index,1),2<=d.mask&&(this.activeTouches.h[n]=d));else{if(!this.activeTouches.h.hasOwnProperty(n))return void console.log("OUT");if(d=this.activeTouches.h[n],null!=d)R|=d.mask;else if(d=this._inputActCache,R|=d.mask,this.activeTouches.remove(n),this._inputActCache=null,null==d)return;if("hammer.input"==i.type){if(i.eventType==Hammer.INPUT_MOVE){if((0!=i.deltaX||0!=i.deltaY)&&0!=(274434&d.mask)&&(0!=(2&R)&&this.callback(d.index,2),0!=(405504&d.mask))){var c=Cs.findHit(r,l,this.imageMapData,this.interactionList);null==c?0!=(131072&d.mask)&&this.callback(d.index,131072):0!=(8192&c.mask)&&c.index==d.index?this.callback(d.index,8192):0!=(266240&c.mask)&&c.index!=d.index&&(0!=(131072&d.mask)&&this.callback(d.index,131072),0!=(4096&d.mask)&&this.callback(c.index,4096),0!=(262144&d.mask)&&(this.activeTouches.h[n]=c,this.callback(c.index,262144)))}}else if(i.eventType==Hammer.INPUT_END||i.eventType==Hammer.INPUT_CANCEL)this._inputActCache=d,i.eventType==Hammer.INPUT_END?(0!=(65536&R)&&0<=Cs.checkHit(r,l,this.imageMapData,d)&&this.callback(d.index,65536),0!=(32768&R)&&this.callback(d.index,32768)):0!=(16384&R)&&this.callback(d.index,16384),this.activeTouches.h[n]=null;else throw new Z("Could not resolve event type:"+i.eventType);return}var h=this.hammerEventMap,y=i.type,g=null==to[y]?h.h[y]:h.getReserved(y);0!=(d.mask&g)&&(0==(65540&g)||0<=Cs.checkHit(r,l,this.imageMapData,d))&&!d.disabled&&this.callback(d.index,g)}},__class__:Ms};var Is=function(){};a["troshx.sos.vue.combat.LayoutConstraints"]=Is,Is.__name__=["troshx","sos","vue","combat","LayoutConstraints"],Is.applyDollView=function(e,t,a){for(var s=0,o=e.length;s<o;){var n=s++,i=e[n],r=t[n],l=a[n];("part"==l||"swing"==l||"enemyHandLeft"==r||"enemyHandRight"==r||"enemyStatus"==r)&&i.pin(Ks.createRelative(.5,.5)).aspect(qs.createRelative(1,1).enablePreflight());var R=.06;"advManuever1"===r||"advManuever2"===r||"advManuever3"===r||"advManuever4"===r?i.pin(Ks.createRelative(.5,.5).scaleMinRelative(.5,0).scaleMaxRelative(2,0)).pivot(Ks.createRelative(1,.5).scaleMinRelative(.5,.5).scaleMaxRelative(1.5,1.5)).aspect(qs.createRelative(1,.98)):"btnBlock"===r||"btnParry"===r||"btnVoid"===r?i.pin(Ks.createRelative(.5,.5).scaleMaxRelative(1.75,0)).pivot(Ks.createRelative("btnParry"==r?0:1,1).scaleMinRelative(.5,.5)).aspect(qs.createRelative(1,1)):"cpMeter"===r?i.pin(Ks.createRelative(0,0).scaleMinRelative(.5,.5).scaleMaxRelative(3,3)).pivot(Ks.createRelative(0,0).scaleMaxRelative(2.25,0)):"cpText"===r?i.pin(Ks.createRelative(0,0).scaleMinRelative(.5,.5).scaleMaxRelative(2.25,3)).pivot(Ks.createRelative(0,1).scaleMinRelative(.5,.5).scaleMaxRelative(1,1.1)):"handLeftText"===r||"handRightText"===r?(i.pin(Ks.createRelative(.5+R*("handLeftText"==r?-1:1),1).scaleMaxRelative(1,1)).pivot(Ks.createRelative("handLeftText"==r?1:0,1).scaleMaxRelative(0,1.2)),"handLeftText"==r?(i.border(3,0,1),i.border(1,0,1.1,.5+-1*R)):(i.border(1,0,1),i.border(3,0,1.1,.5+R))):"handLeftAlt"===r||"handRightAlt"===r?i.pin(Ks.createRelative(.5+R*("handLeftAlt"==r?-1:1),1).scaleMaxRelative(1,1)).pivot(Ks.createRelative("handLeftAlt"==r?1:0,1).scaleMaxRelative(1,1.1)).aspect(qs.createRelative(1,0)):"initRange"===r?i.pin(Ks.createRelative(.5,.5).scaleMinRelative(1,0)).pivot(Ks.createRelative(.5,1)).aspect(qs.createRelative(1,1).enablePreflight()):"opponentSwiper"===r?i.pivot(Ks.createRelative(0,0).scaleMinRelative(0,.5)):"roundCount"===r?i.pivot(Ks.createRelative(0,0).scaleMinRelative(0,.5)):"vitals"===r?i.pin(Ks.createRelative(0,0).scaleMinRelative(0,.5)).pivot(Ks.createRelative(0,0).scaleMinRelative(.85,.5).scaleMaxRelative(3,3)):void 0}};var Cs=function(){};a["troshx.sos.vue.combat.UIInteraction"]=Cs,Cs.__name__=["troshx","sos","vue","combat","UIInteraction"],Cs.requiresConfirmHit=function(e){return 0!=(65540&e)},Cs.requiresTracking=function(e){return 2<=e},Cs.requiresContinousHandling=function(e){return 0!=(12034&e)},Cs.isValidPoly=function(e){return 3<=e.length},Cs.weldPoly=function(e,t){for(var a={},s=0,o=t.length;s<o;){var n=s++;a[t[n]]=!0}for(var i=[],r=0,l=e.length;r<l;){var R=r++;a.hasOwnProperty(R)||i.push(e[R])}return i},Cs.setupDollViewInteracts=function(e,t,a){for(var s=[],o=0,n=e.length;o<n;){var r=o++,i=e[r],l=t[r],R=a[r];if(2==i.shape){var d=q.findDuplicatePoints(i.uvs,!0,!0);if(0!=d.length&&(i.uvs=Cs.weldPoly(i.uvs,d)),q.makeCW(i.uvs),!q.isConvex(i.uvs)){i.hitDecomposition=W.decomposePoly(i.uvs);var c=i.hitDecomposition.length;i.hitDecomposition=i.hitDecomposition.filter(Cs.isValidPoly),(0==i.hitDecomposition.length||i.hitDecomposition.length!=c)&&(console.log("WARNING!! invalid decomposition occured: "+l+" : "+i.hitDecomposition.length+" / "+c),i.hitDecomposition=null)}}if(("part"==R||"swing"==R)&&(i.hitPadding=5),"part"==R||"swing"==R||"enemyHandLeft"==l||"enemyHandRight"==l){s.push(new Es(r,311297));continue}switch(l){case"advManuever1":case"advManuever2":case"advManuever3":case"advManuever4":s.push(new Es(r,49155));break;case"btnBlock":case"btnParry":case"btnVoid":i.hitPadding=5,s.push(new Es(r,49155));break;case"cpMeter":break;case"cpText":break;case"handLeftText":case"handRightText":break;case"handLeftAlt":case"handRightAlt":s.push(new Es(r,172));break;case"incomingManuevers":s.push(new Es(r,184323));break;case"initRange":s.push(new Es(r,1));break;case"opponentSwiper":s.push(new Es(r,160));break;case"roundCount":break;case"vitals":s.push(new Es(r,1281));}}return s},Cs.findHit=function(e,t,a,s){for(var o=null,n=999999999999,r=0,l=s.length;r<l;){var R=r++,i=s[R];if(!i.disabled){var d=Cs.checkHit(e,t,a,i);if(0<=d){if(0==d)return i;d<n&&(o=i,n=d)}}}return o},Cs.checkHit=function(e,i,t,a){var s=t.layoutItemList[a.index],o=t.positionList[a.index],n=t.scaleList[a.index],l=t.scaleX*t.refWidth,R=t.scaleY*t.refHeight,c=e*l,h=i*R,y=o.x*l,g=o.y*R,_=y+n.x*l,u=g+n.y*R,m=s.hitPadding*t.scaleX*(n.x/s.uDim),f=s.hitPadding*t.scaleY*(n.y/s.vDim),b,S,x,A,v,z,T;if(c>=y&&c<=_&&h>=g&&h<=u){if(0==s.shape)return 0;}else if(0==s.shape)return 0>=s.hitPadding?-1:(x=c>_?c-_:c<y?c-y:0,A=h>u?h-u:h<g?h-g:0,z=x*x+A*A,T=m<f?f:m,x*=T/m,A*=T/f,v=x*x+A*A,v<=T*T?z:-1);if(1==s.shape){x=.5*(_-y),A=.5*(u-g),b=y+x,S=g+A,T=x<A?A:x;var L=1,w=1;if(0<s.hitPadding&&(L=T/x,w=T/A),x=c-b,A=h-S,x*=L,A*=w,v=x*x+A*A,v<=T*T)return 0;if(z=v,x+=(0>x?1:-1)*m*L,A+=(0>A?1:-1)*f*w,v=x*x+A*A,v<=T*T)return v=Math.sqrt(z)-T,v*v}else{var M=Cs.SAMPLE_PT;if(M.x=c,M.y=h,null==s.hitDecomposition)return T=Cs.checkHitPolygon(M,s.uvs,m,f,o,n,l,R),T;T=99999999999;for(var I=!1,C=0,E=s.hitDecomposition.length,P;C<E;){if(P=C++,x=Cs.checkHitPolygon(M,s.hitDecomposition[P],m,f,o,n,l,R),0==x)return 0;0<x&&x<T&&(I=!0,T=x)}return I?T:-1}return-1},Cs.checkHitPolygon=function(e,t,s,o,n,l,R,c){var h=t.length,g=n.x*R,_=n.y*c,y=l.x*R,u=l.y*c,m=Cs.SAMPLE_PT_A,a=Cs.SAMPLE_PT_B,f=0==s&&0==o,b=s<o?o:s,S=f?1:b/s,x=f?1:b/o,A,v,z;b*=b;for(var T=0;T<h;){if(A=t[T],v=T<h-1?t[T+1]:t[0],m.x=g+A.x*y,a.x=g+v.x*y,m.y=_+A.y*u,a.y=_+v.y*u,z=0<(m.x-e.x)*(a.y-e.y)-(a.x-e.x)*(m.y-e.y),!z){if(f)return-1;if(Cs.distanceToSegmentSquaredPaddScaled(e,m,a,S,x)<=b){var L=q.distanceToSegmentSquared(e,m,a);return L}return-1}++T}return 0},Cs.distanceSquaredPaddScaled=function(e,i,t,a){var s=(e.x-i.x)*t,o=(e.y-i.y)*a;return s*s+o*o},Cs.distanceToSegmentSquaredPaddScaled=function(e,i,a,s,o){var n=i.x-a.x,r=i.y-a.y,l=n*n+r*r;if(0==l){var R=(e.x-i.x)*s,d=(e.y-i.y)*o;return R*R+d*d}var c=((e.x-i.x)*(a.x-i.x)+(e.y-i.y)*(a.y-i.y))/l;if(0>c){var t=(e.x-i.x)*s,h=(e.y-i.y)*o;return t*t+h*h}if(1<c){var y=(e.x-a.x)*s,g=(e.y-a.y)*o;return y*y+g*g}var p=Cs.SAMPLE_PT2;p.x=i.x+c*(a.x-i.x),p.y=i.y+c*(a.y-i.y);var _=Cs.SAMPLE_PT2,u=(e.x-_.x)*s,m=(e.y-_.y)*o;return u*u+m*m};var Es=function(e,i){this.index=e,this.mask=i,this.disabled=!1};a["troshx.sos.vue.combat.UInteract"]=Es,Es.__name__=["troshx","sos","vue","combat","UInteract"],Es.getIndexMapOfArray=function(e){for(var t=new L,a=0,s=e.length;a<s;){var o=a++;t.h[e[o].index]=e[o]}return t},Es.prototype={__class__:Es};var Ps=function(){B.call(this)};a["troshx.sos.vue.combat.components.DollView"]=Ps,Ps.__name__=["troshx","sos","vue","combat","components","DollView"],Ps.getRenderTrackedImageData=function(){return{renderCount:0}},Ps.getBlankImageMapData=function(){return{layoutItemList:null,positionList:[],scaleList:[],titleList:[],classList:[],refWidth:0,refHeight:0,scaleX:1,scaleY:1}},Ps.__super__=B,Ps.prototype=i(B.prototype,{get_pregenHeader:function(){return 1==this.showPregens?"Select your character":"Select your opponent"},closePregens:function(){this.showPregens=0},quickStartDebug:function(){var e=this.boutModel;null==e.bout&&(e.bout=new oe);var i,t;i=Xa.get()[7];var a=i.label,s=this.deserializeSheet(i.savedData),o=this.viewModel;t=new ne(a,s,0);var n=e.bout.combatants.length;e.bout.pushNewFightNode(t);var r=this.viewModel;r.playerManueverSpec.resetPlayer(),r.currentPlayerIndex=n;var l=t.charSheet,R=l.get_encumbranceLvlRow(),d=R.cpMult*l.clampIntZero(l.getModifiedValue(13,(1<=l.schoolLevel?l.schoolLevel:0)+l.clampIntZero(l.getModifiedValue(8,0|(l.get_AGI()+l.get_WIT())/2)))*(l.prone?.5:1)+R.cp+Ts.getTable()[l.get_fatiqueLevel()].cp);t.fight.cp=d,t.charSheet.inventory.refreshHalfArmorLabels(),t.charSheet.inventory.cleanupShieldLabels(),t.charSheet.inventory.weildMeleeEquip(t.charSheet.profsMelee),this.viewModel.activatePlayerItem(),i=Xa.get()[7];var c=i.label,h=this.deserializeSheet(i.savedData),y=this.viewModel;t=new ne(c,h,1),e.bout.pushNewFightNode(t);var g=this.viewModel;g.playerManueverSpec.setNewEnemy(g.boutModel.bout.combatants[n].charSheet.body),g.focusOpponentIndex=n,t.charSheet.inventory.refreshHalfArmorLabels(),t.charSheet.inventory.cleanupShieldLabels(),t.charSheet.inventory.weildMeleeEquip(t.charSheet.profsMelee),this.showPregens=0},confirmPregens:function(e){var i=this.boutModel;null==i.bout&&(i.bout=new oe);var t=this.viewModel,a=this.showPregens,s=null;if(1==a){var o=e;s=new ne(o.label,this.deserializeSheet(o.savedData),0);var n=i.bout.combatants.length;i.bout.pushNewFightNode(s),t.playerManueverSpec.resetPlayer(),t.currentPlayerIndex=n;var r=s.charSheet,l=r.get_encumbranceLvlRow(),R=l.cpMult*r.clampIntZero(r.getModifiedValue(13,(1<=r.schoolLevel?r.schoolLevel:0)+r.clampIntZero(r.getModifiedValue(8,0|(r.get_AGI()+r.get_WIT())/2)))*(r.prone?.5:1)+l.cp+Ts.getTable()[r.get_fatiqueLevel()].cp);s.fight.cp=R}else if(4==a){var d=e,c=i.bout.combatants.length;s=new ne(d.label,this.deserializeSheet(d.savedData),1),i.bout.pushNewFightNode(s),t.playerManueverSpec.setNewEnemy(t.boutModel.bout.combatants[c].charSheet.body),t.focusOpponentIndex=c}null!=s&&(s.charSheet.inventory.refreshHalfArmorLabels(),s.charSheet.inventory.cleanupShieldLabels(),s.charSheet.inventory.weildMeleeEquip(s.charSheet.profsMelee),1==a&&t.activatePlayerItem()),this.showPregens=0},deserializeSheet:function(e){var i=new z(e),t=i.unserialize();return t},showSelfPregens:function(){this.showPregens=1},showOpponentPregens:function(){this.showPregens=4},get_boutModel:function(){return this.viewModel.boutModel},get_remainingDisplayCP:function(){return this.viewModel.getRemainingDisplayCP()},get_fatique:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.fatique},get_CP:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null,t=i.charSheet;return t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,0|(t.get_AGI()+t.get_WIT())/2))))},get_remCP:function(){return this.viewModel.getRemainingDisplayCP()},get_BL:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.get_totalBloodLost()},get_pain:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.get_totalBloodLost()},get_rightItem:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.inventory.findMasterHandItem()},get_leftItem:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.inventory.findOffHandItem()},get_rightItemAssign:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.inventory.findMasterHandAssign()},get_leftItemAssign:function(){var e=this.viewModel,i=0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null;return i.charSheet.inventory.findOffHandAssign()},get_rightItemHighlighted:function(){var e=this.viewModel.playerManueverSpec.usingLeftLimb,i=this.viewModel.playerManueverSpec.activeItem,t=this.rightItem;return!e&&t==i},get_leftItemHighlighted:function(){var e=this.viewModel.playerManueverSpec.usingLeftLimb,i=this.viewModel.playerManueverSpec.activeItem,t=this.leftItem,a=this.rightItemAssign;return e?t==i:null!=a&&3==a.held},getTypeTagForItem:function(e){var i=Y.__instanceof(e,Bt)?e:null,t=Y.__instanceof(e,ea)?e:null;return null==t?null==i?"":R.substr(i.profLabelStdFirst().split(" ").join(""),0,3):"<span class=\"fa\">&#xf132;</span>"},get_leftTypeTag:function(){return this.getTypeTagForItem(this.leftItem)},get_rightTypeTag:function(){return this.getTypeTagForItem(this.rightItem)},get_enemyRightItem:function(){var e=this.currentOpponent;return e.charSheet.inventory.findMasterHandItem()},get_enemyLeftItem:function(){var e=this.currentOpponent;return e.charSheet.inventory.findOffHandItem()},get_enemyLeftTypeTag:function(){return this.getTypeTagForItem(this.enemyLeftItem)},get_enemyRightTypeTag:function(){return this.getTypeTagForItem(this.enemyRightItem)},Data:function(){return{mapData:Ps.getRenderTrackedImageData(),viewModel:new ws,fightChars:new Xa,showPregens:0}},get_styleObservePartProps:function(){var e=this.mapData;return{fillColor:"transparent",strokeColor:"rgba(0,0,0,1)",strokeWidth:4*(e.scaleX<e.scaleY?e.scaleX:e.scaleY)}},get_focusManueverAtkType:function(){return this.viewModel.getFocusManueverAtkType()},get_advStyleProps:function(){return 1==this.focusManueverAtkType?this.styleSwingProps:this.stylePartProps},get_stylePartProps:function(){var e=this.mapData;return{fillColor:"rgba(0,200,255,0.3)",strokeColor:"rgba(0,200,255,0.3)",strokeWidth:4*(e.scaleX<e.scaleY?e.scaleX:e.scaleY)}},getArmorPartPropsOf:function(e,i){var t=this.armorDollColors,a=this.armorColorScale,s=null!=t[i],o=this.mapData,n={index:o.idIndices[e],mapData:o};return n.fillColor="transparent",n.strokeColor=s?t[i]:a[0],n.strokeWidth=3*(this.mapData.scaleX<this.mapData.scaleY?this.mapData.scaleX:this.mapData.scaleY),n.showShape=s,n},get_armorPartProps:function(){for(var e=[],t=this.viewModel.DOLL_PART_Slugs,a=0,s=t.length;a<s;){var o=a++;e[o]=this.getArmorPartPropsOf(t[o],o)}return e},get_styleSwingProps:function(){var e=this.mapData;return{fillColor:"rgba(0,255,255,0.3)",strokeColor:"rgba(0,255,255,0.3)",strokeWidth:8*(e.scaleX<e.scaleY?e.scaleX:e.scaleY)}},get_styleDefBtnProps:function(){this.mapData;return{fillColor:"rgba(0,255,255,0.3)",strokeColor:"rgba(0,255,255,0.3)",strokeWidth:4}},get_stylePlHandBtnProps:function(){return{fillColor:"rgba(161,244,210,1)",strokeWidth:0}},get_basicTargetingLabels:function(){return this.viewModel.getBasicTargetingLabels()},get_focusedTextLbl:function(){var e=this.viewModel,i=e.observeOpponent?this.partObserveLbl:e.getFocusedLabel(this.enemyLeftItem,this.enemyRightItem,this.basicTargetingLabels);return i},get_observePrompt:function(){return this.viewModel.observeOpponent?"observing...":"<span class=\"fa\">&#xf060;&#xf0a6;</span> to observe <span class=\"fa\">&#xf06e;</span>"},get_partObserveLbl:function(){var e=this.viewModel.observeIndex,i=this.viewModel.getDollIndexAtFocusIndex(e);if(0<=i){var t=this.getVisibleArmorAtDollPartIndex(i),a=this.carriedDollShield;return null==a||this.shieldCoveredAtDollHitLocation(i)||(a=null),this.viewModel.getBodyPartLabel(e)+(null!=a||null!=t?": "+(null==a?"":"<span class=\"fa\">&#xf132;</span> ")+(null==t?"":"<b>"+t.name+"</b>"):"")}var s=this.viewModel,o=e==s._enemyHandLeftIdx?2:e==s._enemyHandRightIdx?1:0;if(0!=o){var n=2==o?this.enemyLeftItem:this.enemyRightItem;if(null!=n)return n.name}return""},get_player:function(){var e=this.viewModel;return 0<=e.currentPlayerIndex?e.boutModel.bout.combatants[e.currentPlayerIndex]:null},get_opponents:function(){var e=this.viewModel;return null==e.boutModel.bout?null:e.boutModel.bout.combatants.filter(function(e){return e.sideIndex!=0})},get_dollScale:function(){var e=this.mapData.scaleX,i=this.mapData.scaleY,t=this.mapData.renderCount;return i<e?i:e},get_gotPregens:function(){return null!=this.fightChars&&0!=this.showPregens},get_thrustPointStyle:function(){var e=this.dollScale,i=9*e;return{width:i+"px",height:i+"px"}},get_clampedOpponentIndex:function(){var e=this.opponents,i=this.viewModel.focusOpponentIndex;return null==e||0==e.length?0:i<e.length?i:e.length-1},get_currentOpponent:function(){var e=this.opponents,i=this.player;return null==i?null==e?null:e[this.clampedOpponentIndex]:null==i.targetLink?null:i.targetLink.a==i?i.targetLink.b:i.targetLink.a},get_gotCurrentOpponent:function(){return null!=this.currentOpponent},Components:function(){return{zone:new Bs,pregens:new Ds}},get_advManuevers:function(){var e=null!=this.player,i=null!=this.currentOpponent;return this.viewModel.getAdvancedManuevers(this.player,e?this.leftItem:null,e?this.rightItem:null,this.currentOpponent,i?this.enemyLeftItem:null,i?this.enemyRightItem:null)},get_advTNArr:function(){var e=null!=this.player;return e?this.advTNs:this.advSimpTNs},get_advCostArr:function(){var e=null!=this.player;return e?this.advCosts:this.advSimpCosts},get_browseAttackModeLabel:function(){return this.viewModel.getBrowseAttackModeLabel(!1)},get_browseAttackModeLabel2:function(){return this.viewModel.getBrowseAttackModeLabel(!0)},get_isBrowseHighlightLeft:function(){return this.viewModel.isBrowseHighlightLeft()},get_isBrowseHighlightRight:function(){return this.viewModel.isBrowseHighlightRight()},get_advTNs:function(){for(var e=this.advManuevers,t=[],a=this.viewModel.playerManueverSpec,s=0,o=e.length;s<o;){var n=s++;t[n]=e[n].getTN(a)}return t},get_advSimpTNs:function(){for(var e=this.advManuevers,t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=e[o].tn}return t},get_advCosts:function(){for(var e=this.advManuevers,t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=e[o].getCost(this.boutModel.bout,this.player,null)}return t},get_advSimpCosts:function(){for(var e=this.advManuevers,t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=e[o].cost}return t},advHiddenAt:function(e){return 0!=(this.advNotAvailMask&1<<e)},advDisabledAt:function(e){return 0!=(this.advNotAvailMask&1<<e+4)},get_advNotAvailMask:function(){var e=this.advManuevers,t=this.advTNs,a=null!=this.player,s=0;if(a)for(var o=0,n=e.length,r;o<n;)r=o++,s|=0>t[r]||!e[r].getAvailability(this.boutModel.bout,this.player,this.viewModel.playerManueverSpec)?1<<r:0;return s},onNotAvailAdvMaskChange:function(e){this.viewModel.onAdvAvailabilityChange(e)},Mounted:function(){var e=this,i=this.$refs.image;0<i.width?this.handleImageMap(i):i.onload=function(){e.handleImageMap(i)},("file://"==R.substr(window.location.href,0,7)||"localhost"==window.location.host)&&window.setTimeout(function(){},100)},startGame:function(){},get_currentDollSheet:function(){return this.currentOpponent.charSheet},get_armorColorScale:function(){return["#ff0000","#c00000","#e26b0a","#f79646","#f1e70d","#9bbb59","#92d050","#00b050","#0070c0","#00b0f0"]},get_carriedDollShieldAssign:function(){return this.currentDollSheet.inventory.findHeldShieldAssign()},get_carriedDollShield:function(){var e=this.carriedDollShieldAssign;return null==e?null:e.shield},get_shieldIconStyle:function(){var e=this.carriedDollShield,i=-1,t=this.armorColorScale;return null!=e&&(i=e.AV-1,i>=t.length&&(i=t.length-1)),null!=e&&0<=i?{color:t[i]}:{}},get_shieldLowProfiles:function(){return ea.getLowCoverage()},get_shieldHighProfiles:function(){return ea.getHighCoverage()},get_dollShieldCoverage:function(){var e=this.carriedDollShield,i=null==e?0:e.size;return 1==this.currentDollSheet.inventory.shieldPosition?this.shieldHighProfiles[i]:this.shieldLowProfiles[i]},get_dollShieldCoverageBools:function(){for(var e=this.viewModel.DOLL_PART_Slugs,t=[],a=0,s=e.length;a<s;){var o=a++;t[o]=this.shieldCoveredAtDollHitLocation(o)}return t},shieldCoveredAtDollHitLocation:function(e){var i=this.viewModel,t=i._body.hitLocations[i.DOLL_PART_HitIndices[e]];return!(null==this.carriedDollShield||null==this.dollShieldCoverage[t.id])&&(!!this.dollShieldCoverage[t.id]||0!=(i.DOLL_PART_IsLefts&1<<e))},get_coverageHitLocations:function(){return this.currentDollSheet.body.hitLocations},get_hitLocationZeroAVValues:function(){return this.currentDollSheet.body.getNewEmptyAvsWithVis()},get_hitLocationZeroAVValues2:function(){return this.currentDollSheet.body.getNewEmptyAvsWithVis()},get_armorDollColors:function(){for(var e=[],t=this.viewModel.DOLL_PART_HitIndices,a=this.coverageHitLocations,s=this.hitLocationArmorValues,o=this.hitLocationArmorValues2,n=this.viewModel.DOLL_PART_IsLefts,r=0,l=t.length;r<l;){var R=r++,i=t[R],d=a[i],c=d.twoSided&&0!=(n&1<<R)?o:s,h=c[d.id],y=1*h.avc+1.4*h.avp+.6*h.avb,g=0<y;y/=3;var p=Math.floor(y)-1,_=this.armorColorScale;p>=_.length&&(p=_.length-1,0>p&&(p=0)),e[R]=g?_[p]:null}return e},getVisibleArmorAtDollPartIndex:function(e){var i=0==(this.viewModel.DOLL_PART_IsLefts&1<<e)?this.hitLocationArmorValues:this.hitLocationArmorValues2,t=this.viewModel.DOLL_PART_HitIndices[e],a=this.coverageHitLocations[t],s=i[a.id];return s.visArmor},getHitLocationArmorValues:function(e,t){null==t&&(t=7);for(var s=this.currentDollSheet.inventory,o=s.wornArmor,n=this.coverageHitLocations,r=this.currentDollSheet.body,l=0,R=!1,d=0,c=n.length;d<c;){var h=d++,i=n[h].id,y=e[i];y.avc=0,y.avp=0,y.avb=0}for(var g=0,p=o.length;g<p;){var _=g++,u=o[_];if(null==u.half||0!=(u.half&t)){var m=u.armor,a=0;null!=m.special&&null!=m.special.wornWith&&""!=m.special.wornWith.name&&(a=s.layeredWearingMaskWith(m,m.special.wornWith.name,r)),m.writeAVVAluesTo(e,r,a,R,l)}}return e},get_hitLocationArmorValues:function(){return this.getHitLocationArmorValues(this.hitLocationZeroAVValues,5)},get_hitLocationArmorValues2:function(){return this.getHitLocationArmorValues(this.hitLocationZeroAVValues2,6)},get_cpTrayCSSTransform:function(){var e=this.viewModel.trayPosFlip?-1:1,i=this.viewModel.trayPosFlipY?-1:1;return"translate("+(this.viewModel.trayPosX+this.viewModel.trayGridShelfX*e)+"px, "+(this.viewModel.trayPosY+this.viewModel.trayGridShelfSize*i)+"px)"+(" scale("+e+","+i+")")},get_cpMeterAmount:function(){var e=this.player.charSheet,i=e.get_encumbranceLvlRow();return i.cpMult*e.clampIntZero(e.getModifiedValue(13,(1<=e.schoolLevel?e.schoolLevel:0)+e.clampIntZero(e.getModifiedValue(8,0|(e.get_AGI()+e.get_WIT())/2)))*(e.prone?.5:1)+i.cp+Ts.getTable()[e.get_fatiqueLevel()].cp)},get_dragCPHtml:function(){var e=this.player,i=this.viewModel.draggedCP,t=e.charSheet,a=t.clampIntZero(t.getModifiedValue(13,(1<=t.schoolLevel?t.schoolLevel:0)+t.clampIntZero(t.getModifiedValue(8,0|(t.get_AGI()+t.get_WIT())/2)))),s=Math.floor(a/5);if(0<i){var o=Math.floor(i/5);return"<span>"+this.repeatTxt("\u25D8\u25D8\u25D8\u25D8\u25D8",o,"<br>")+"</span>"+this.repeatTxt("\u25D8",i-5*o)+this.getRemainingMid(i,"\u25CA",a)}return this.repeatTxt("\u25CA\u25CA\u25CA\u25CA\u25CA",s,"<br>")+this.repeatTxt("\u25CA",a-5*s)},getRemainingMid:function(e,i,t){var a=t-5*Math.floor(t/5);a=t-a;var o=(a-e)%5;0>o&&(o=0);var n=this.repeatTxt(i,o),r=t-e-o;0<r&&0<o&&(n+="<br>");var l=Math.floor(r/5);return n+this.repeatTxt(""+i+i+i+i+i,l,"<br>")+this.repeatTxt("\u25CA",r-5*l)},repeatTxt:function(e,i,t){null==t&&(t="");for(var a="",o=0;o<i;){o++;a+=e+t}return a},get_cpTrayStyle:function(){return{transform:this.cpTrayCSSTransform,"font-size":""+this.viewModel.trayGridSizeY+"px"}},setupUIInteraction:function(){this.hammerUI=new Ms(this.$refs.container,this.mapData,null,this.$refs.cursor),this.hammerUI.viewModel=this.viewModel,this.viewModel.setupDollInteraction(this.hammerUI.interactionList,this.mapData),this.viewModel.setActingState(2)},get_actingState:function(){return this.viewModel.actingState},get_isDefBtnBlockVisible:function(){var e=this.isDefBtnBlockAllowed,i=null==this.player,t=null!=this.currentOpponent;return!!t&&(!!e||i)},get_isDefBtnBlockAllowed:function(){return this.viewModel.isDefBtnBlockAllowed()},on_isDefBtnBlockVisible:function(e){this.viewModel.btnBlockInteract.disabled=!e},get_isDefBtnParryVisible:function(){var e=this.isDefBtnParryAllowed,i=null==this.player,t=null!=this.currentOpponent;return!!t&&(!!e||i)},on_isDefBtnParryVisible:function(e){this.viewModel.btnParryInteract.disabled=!e},get_isDefBtnParryAllowed:function(){return this.viewModel.isDefBtnParryAllowed()},get_isDraggingCP:function(){return 1==this.viewModel.actingState},onActingStateChanged:function(e){var i=this.viewModel.getInteractionListByState(e);this.hammerUI.interactionList=null==i?this.viewModel.getInteractionListByState(2):i},onOpponentsStateChange:function(e){e?this.viewModel.setActingState(0):this.viewModel.setActingState(2)},handleImageMap:function(e){var i=this.$refs.map,a=i.firstChild,s=this.mapData;s.refWidth=e.width,s.refHeight=e.height,s.layoutItemList=[],s.positionList=[],s.scaleList=[],s.titleList=[],s.classList=[];for(var o={},n=o,r=0,l=[];null!=a;){if("area"==a.nodeName.toLowerCase()){var R=a;s.positionList.push(V._new()),s.scaleList.push(V._new()),s.classList.push(R.getAttribute("alt"));var d=R.getAttribute("title");s.titleList.push(d),n[d]=r++,l.push(Ys.fromHTMLImageMapArea(e.width,e.height,R.getAttribute("shape"),R.getAttribute("coords")))}a=a.nextSibling}s.layoutItemList=l,s.idIndices=n,Is.applyDollView(l,s.titleList,s.classList,s.refWidth,s.refHeight),window.addEventListener("resize",t(this,this.onResize)),this.onResize(),this.setupUIInteraction()},onResize:function(){var e=this.$refs.container,i=parseFloat(e.clientWidth),t=parseFloat(e.clientHeight),a=this.mapData;a.scaleX=i/a.refWidth,a.scaleY=t/a.refHeight,this.refreshLayout()},refreshLayout:function(){for(var e=this.mapData,t=0,a=e.layoutItemList.length;t<a;){var s=t++;e.layoutItemList[s].solve(e.positionList[s],e.scaleList[s],e.scaleX,e.scaleY)}e.renderCount++},Template:function(){return"<div class=\"dollview\" style=\"position:absolute;top:0;left:0;width:100%;height:100%\"  ref=\"container\">\r\n\t<div class=\"mouse-cursor\" ref=\"cursor\" :class=\"{observe:viewModel.observeOpponent}\" />\r\n\t<div v-if=\"mapData.renderCount!=0\" style=\"width:100%;height:100%;top:0;left;0;position:absolute;\">\r\n\t\t<div class=\"bg\" v-show=\"gotCurrentOpponent\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat; background-image:url(images/dollscreen_clear2.png); background-position:50% 50%; background-size:contain\"></div>\r\n\t\t<zone :index=\"mapData.idIndices['vitals']\" :mapData=\"mapData\" style=\"padding:5px\" class=\"textarea-region\" :class=\"{'enableinput':!player}\">\r\n\t\t\t<div v-if=\"player\">\r\n\t\t\t\t<div>F: <span>{{fatique}}</span></div>\r\n\t\t\t\t<div>Pain: <span>{{pain}}</span></div>\r\n\t\t\t\t<div>BL: <span>{{BL}}</span></div>\r\n\t\t\t</div>\r\n\t\t\t<div v-else>\r\n\t\t\t\t<button @click=\"showSelfPregens\" style=\"width:100%; height:100%; position:absolute;top:0;left:0;width:100%;height:100%\">Select your character</button>\r\n\t\t\t</div>\r\n\t\t</zone>\r\n\r\n\t\t<zone :index=\"mapData.idIndices['incomingManuevers']\" :mapData=\"mapData\" style=\"padding:5px\" class=\"textarea-region\">\r\n\t\t\t<div class=\"observe-indicator\" v-if=\"gotCurrentOpponent\" v-show=\"viewModel.incomingHeldDown || (!viewModel.showFocusedTag)\" v-html=\"observePrompt\"></div>\r\n\t\t\t<div class=\"hover-tag\" v-if=\"gotCurrentOpponent\" v-show=\"viewModel.showFocusedTag\" v-html=\"focusedTextLbl\"></div>\r\n\t\t</zone>\r\n\r\n\t\t<div v-if=\"player\">\r\n\t\t\t<zone :index=\"mapData.idIndices['cpMeter']\" :mapData=\"mapData\">\r\n\t\t\t\t<div v-for=\"i in cpMeterAmount\">\r\n\t\t\t\t\t<component :is=\"i <= player.fight.cp ? 'span' : 'del'\">{{i}}</component>\r\n\t\t\t\t</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone :index=\"mapData.idIndices['cpText']\" :mapData=\"mapData\">\r\n\t\t\t\t<div> {{CP}}cp</div>\r\n\t\t\t\t<div v-show=\"viewModel.draggedCP\">-{{viewModel.draggedCP}}</div>\r\n\t\t\t\t<div v-show=\"viewModel.draggedCP\"> {{remCP}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone v-bind=\"stylePlHandBtnProps\"  :index=\"mapData.idIndices['handLeftAlt']\" :mapData=\"mapData\" class=\"textarea-region\" v-if=\"leftItem\" :showShape=\"leftItemHighlighted\">\r\n\t\t\t\t<div class=\"lbl\" v-html=\"leftTypeTag\"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index=\"mapData.idIndices['handLeftText']\" :mapData=\"mapData\" v-if=\"leftItem\">\r\n\t\t\t\t<div class=\"lbl\">{{leftItem.name}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone v-bind=\"stylePlHandBtnProps\" :index=\"mapData.idIndices['handRightAlt']\" :mapData=\"mapData\" class=\"textarea-region\" v-if=\"rightItem\" :showShape=\"rightItemHighlighted\">\r\n\t\t\t\t<div class=\"lbl\" v-html=\"rightTypeTag\"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index=\"mapData.idIndices['handRightText']\" :mapData=\"mapData\" v-if=\"rightItem\">\r\n\t\t\t\t<div class=\"lbl\">{{rightItem.name}}</div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t\r\n\r\n\t\t\t<div class=\"cp-tray\" id=\"cpTray\" v-show=\"isDraggingCP\" v-html=\"dragCPHtml\" :style=\"cpTrayStyle\">\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"gotCurrentOpponent\">\r\n\r\n\t\t\t<zone v-bind=\"advStyleProps\"  :index=\"mapData.idIndices['advManuever'+(i+1)]\" :key=\"i\" :class=\"{disabled:advDisabledAt(i)}\" :mapData=\"mapData\" v-for=\"(manuever, i) in advManuevers\" class=\"adv-manuever-btn\" :showShape=\"viewModel.advFocusedIndex === i\" v-if=\"!advHiddenAt(i) && manuever.name !==''\">\r\n\t\t\t\t<div class=\"lbl\">{{manuever.name}}<span class=\"cost\" v-show=\"advCostArr[i]!=0\"> [{{advCostArr[i]}}]</span><span class=\"tn\" v-show=\"advTNArr[i]!=7 && advTNArr[i]!=0\"> &gt;{{advTNArr[i]}}</span></div>\r\n\t\t\t</zone>\r\n\t\t\t\t\r\n\t\t\t<zone v-bind=\"styleDefBtnProps\" :index=\"mapData.idIndices['btnBlock']\" :mapData=\"mapData\" class=\"def-manuever-btn\" v-show=\"isDefBtnBlockVisible\" :showShape=\"viewModel.focusedIndex==mapData.idIndices['btnBlock']\">\r\n\t\t\t\t<div class=\"lbl\">B</div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind=\"styleDefBtnProps\" :index=\"mapData.idIndices['btnParry']\" :mapData=\"mapData\" class=\"def-manuever-btn\" v-show=\"isDefBtnParryVisible\" :showShape=\"viewModel.focusedIndex==mapData.idIndices['btnParry']\">\r\n\t\t\t\t<div class=\"lbl\">P</div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind=\"styleDefBtnProps\" :index=\"mapData.idIndices['btnVoid']\" :mapData=\"mapData\" class=\"def-manuever-btn\" v-show=\"true\" :showShape=\"viewModel.focusedIndex==mapData.idIndices['btnVoid']\">\r\n\t\t\t\t<div class=\"lbl\">V</div>\r\n\t\t\t</zone>\r\n\t\r\n\t\t\t\t\t\r\n\t\t\t<zone v-bind=\"stylePartProps\" :index=\"mapData.idIndices[li]\" :mapData=\"mapData\" v-for=\"(li, i) in viewModel.DOLL_PART_Slugs\" :key=\"li\" :showShape=\"viewModel.focusedIndex==mapData.idIndices[li]\">\r\n\t\t\t\t<div class=\"thrust-point\" v-if=\"viewModel.isDollPartThrustable(i)\" :style=\"thrustPointStyle\"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone v-bind=\"styleSwingProps\" :index=\"mapData.idIndices[li]\" :mapData=\"mapData\" v-for=\"(li, i) in viewModel.DOLL_SWING_Slugs\" :key=\"li\" :showShape=\"viewModel.focusedIndex==mapData.idIndices[li]\"></zone>\r\n\r\n\r\n\r\n\t\t\t<zone v-bind=\"armorPartProps[i]\" v-for=\"(li, i) in viewModel.DOLL_PART_Slugs\" :key=\"li\">\r\n\t\t\t\t<div class=\"shieldmark\" v-show=\"dollShieldCoverageBools[i]\" :style=\"shieldIconStyle\"></div>\r\n\t\t\t</zone>\r\n\r\n\r\n\t\t\t<zone :index=\"mapData.idIndices[li]\" :mapData=\"mapData\" v-bind=\"styleObservePartProps\" v-for=\"(li, i) in viewModel.DOLL_PART_Slugs\" :key=\"li\" :showShape=\"viewModel.observeIndex==mapData.idIndices[li]\"></zone>\r\n\r\n\t\t\t<zone :index=\"mapData.idIndices['enemyHandLeft']\" :mapData=\"mapData\" v-bind=\"stylePartProps\" class=\"enemy-handbox\" v-if=\"enemyLeftItem\" :showShape=\"viewModel.focusedIndex==mapData.idIndices['enemyHandLeft']\">\r\n\t\t\t\t<div class=\"lbl\" v-html=\"enemyLeftTypeTag\"></div>\r\n\t\t\t</zone>\r\n\t\t\t<zone :index=\"mapData.idIndices['enemyHandRight']\" :mapData=\"mapData\" v-bind=\"stylePartProps\" class=\"enemy-handbox\" v-if=\"enemyRightItem\" :showShape=\"viewModel.focusedIndex==mapData.idIndices['enemyHandRight']\">\r\n\t\t\t\t<div class=\"lbl\" v-html=\"enemyRightTypeTag\"></div>\r\n\t\t\t</zone>\r\n\r\n\t\t\t<zone :index=\"mapData.idIndices['enemyHandLeft']\" :mapData=\"mapData\" v-bind=\"styleObservePartProps\" class=\"enemy-handbox dummy\" v-if=\"enemyLeftItem\" :showShape=\"viewModel.observeIndex==mapData.idIndices['enemyHandLeft']\"></zone>\r\n\t\t\t<zone :index=\"mapData.idIndices['enemyHandRight']\" :mapData=\"mapData\" v-bind=\"styleObservePartProps\" class=\"enemy-handbox dummy\" v-if=\"enemyRightItem\" :showShape=\"viewModel.observeIndex==mapData.idIndices['enemyHandRight']\"></zone>\r\n\r\n\t\t\t<zone :index=\"mapData.idIndices['opponentSwiper']\" :mapData=\"mapData\" class=\"textarea-region\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"(li, i) in opponents\" :key=\"i\">{{li.label}}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</zone>\r\n\t\t\t\t\t\r\n\t\t\t<div v-if=\"!player\">\r\n\t\t\t\t<zone v-bind=\"stylePlHandBtnProps\" :index=\"mapData.idIndices['handLeftAlt']\" :mapData=\"mapData\" class=\"textarea-region\" :showShape=\"isBrowseHighlightLeft\">\r\n\t\t\t\t\t<div class=\"lbl\"></div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone :index=\"mapData.idIndices['handLeftText']\" :mapData=\"mapData\">\r\n\t\t\t\t\t<div class=\"lbl\">{{browseAttackModeLabel2}}</div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone v-bind=\"stylePlHandBtnProps\" :index=\"mapData.idIndices['handRightAlt']\" :mapData=\"mapData\" class=\"textarea-region\" :showShape=\"isBrowseHighlightRight\">\r\n\t\t\t\t\t<div class=\"lbl\"></div>\r\n\t\t\t\t</zone>\r\n\t\t\t\t<zone :index=\"mapData.idIndices['handRightText']\" :mapData=\"mapData\">\r\n\t\t\t\t\t<div class=\"lbl\">{{browseAttackModeLabel}}</div>\r\n\t\t\t\t</zone>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-else>\r\n\t\t\t<div class=\"select-opponent\">\r\n\t\t\t\t<button @click=\"showOpponentPregens\">Select opponent</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"gotCurrentOpponent && player && player.targetLink\">\r\n\t\t\t<zone :index=\"mapData.idIndices['initRange']\" :mapData=\"mapData\" style=\"overflow:visible\">\r\n\t\t\t\t<div class=\"bger\"></div>\r\n\t\t\t</zone>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div v-if=\"gotPregens\">\r\n\t\t\t<pregens :header=\"pregenHeader\" :characters=\"fightChars.pool\" @close=\"closePregens\" @singleCharSelected=\"confirmPregens\" @multiCharSelected=\"confirmPregens\"></pregens>\r\n\t\t</div>\r\n\r\n\t\t<!--<div v-for=\"(li, i) in armorColorScale\" :key=\"i\" :style=\"{color:li}\">-</div>-->\r\n\r\n\t</div>\r\n\t<div class=\"image-map-holder\" style=\"position:relative; display:none\" v-if=\"mapData.renderCount==0\">\r\n\t\t<img src=\"images/dollscreen.png\" style=\"transform-origin:0 0; pointer-events:none; opacity:0.12\" usemap=\"#map\" ref=\"image\" />\r\n\t\t<map name=\"map\" ref=\"map\">\r\n\t\t\t<area shape=\"rect\" coords=\"401, 334, 435, 391\" title=\"enemyHandLeft\" />\r\n\t\t\t<area shape=\"rect\" coords=\"59, 336, 92, 393\" title=\"enemyHandRight\" />\r\n\t\t\t<area shape=\"poly\" coords=\"316, 519, 314, 580, 305, 622, 317, 659, 374, 585\" alt=\"swing\" title=\"SWING_LOWER_LEG-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"124, 567, 170, 525, 172, 576, 179, 619, 160, 663\" alt=\"swing\" title=\"SWING_LOWER_LEG-r\" />\r\n\t\t\t<area shape=\"rect\" coords=\"224, 478, 261, 585\" title=\"enemyStatus\" />\r\n\t\t\t<area shape=\"poly\" coords=\"238, 76, 254, 78, 262, 85, 267, 115, 262, 115, 255, 96, 244, 95, 234, 97, 223, 115, 217, 115, 223, 85, 238, 76\" alt=\"part\" title=\"UPPER_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"309, 400, 310, 483, 313, 506, 378, 574, 366, 421\" alt=\"swing\" title=\"SWING_UPPER_LEG-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"124, 432, 172, 409, 175, 499, 115, 557\" alt=\"swing\" title=\"SWING_UPPER_LEG-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"302, 332, 351, 364, 364, 413, 306, 390\" alt=\"swing\" title=\"SWING_GROIN-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"142, 358, 181, 334, 171, 392, 124, 418\" alt=\"swing\" title=\"SWING_GROIN-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"302, 254, 331, 307, 361, 333, 349, 349, 307, 318, 300, 315\" alt=\"swing\" title=\"SWING_TORSO-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"137, 319, 172, 278, 183, 259, 185, 322, 141, 351\" alt=\"swing\" title=\"SWING_TORSO-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"356, 263, 399, 235, 411, 300, 387, 311\" alt=\"swing\" title=\"SWING_LOWER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"319, 168, 352, 254, 399, 224, 366, 168\" alt=\"swing\" title=\"SWING_UPPER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"271, 77, 272, 127, 306, 83\" alt=\"swing\" title=\"SWING_DOWNWARD_HEAD-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"166, 82, 213, 132, 210, 77\" alt=\"swing\" title=\"SWING_DOWNWARD_HEAD-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"313, 83, 269, 144, 285, 158, 366, 162\" alt=\"swing\" title=\"SWING_NECK-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"219, 78, 242, 46, 264, 79, 267, 91, 220, 93\" alt=\"swing\" title=\"SWING_UPWARD_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"89, 226, 133, 258, 101, 309, 67, 310\" alt=\"swing\" title=\"SWING_LOWER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"87, 213, 139, 250, 159, 186, 170, 164, 115, 162\" alt=\"swing\" title=\"SWING_UPPER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"153, 85, 219, 144, 200, 159, 120, 157\" alt=\"swing\" title=\"SWING_NECK-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"224, 124, 228, 144, 247, 149, 258, 142, 269, 123, 263, 123, 250, 134, 237, 134, 228, 124\" alt=\"part\" title=\"LOWER_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"322, 192, 339, 250, 315, 256, 308, 243, 306, 223, 322, 192\" alt=\"part\" title=\"UPPER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"99, 318, 105, 318, 115, 332, 98, 371, 94, 376, 95, 358, 85, 377, 80, 377, 86, 360, 83, 358, 68, 378, 70, 366, 62, 366, 77, 343, 71, 343, 70, 338, 81, 326, 99, 318\" alt=\"part\" title=\"HAND-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"381, 320, 405, 327, 417, 340, 411, 346, 424, 366, 424, 370, 417, 371, 417, 378, 402, 359, 404, 379, 392, 360, 392, 375, 388, 371, 372, 334, 372, 327, 381, 320\" alt=\"part\" title=\"HAND-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"356, 283, 381, 313, 368, 324, 347, 311, 327, 279, 349, 270\" alt=\"part\" title=\"FOREARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"334, 253, 345, 263, 325, 273, 318, 260\" alt=\"part\" title=\"ELBOW-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"138, 267, 155, 281, 116, 327, 105, 317\" alt=\"part\" title=\"FOREARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"284, 620, 294, 619, 299, 650, 312, 666, 309, 671, 284, 672, 279, 637\" alt=\"part\" title=\"FOOT-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"188, 619, 202, 619, 207, 633, 205, 668, 199, 673, 169, 669, 183, 647, 188, 630\" alt=\"part\" title=\"FOOT-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"250, 383, 267, 368, 297, 367, 302, 390, 298, 457, 298, 480, 286, 481, 271, 486, 261, 421\" alt=\"part\" title=\"THIGH-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"301, 517, 306, 520, 308, 534, 306, 580, 297, 622, 284, 621, 275, 563, 274, 519, 291, 524, 301, 517\" alt=\"part\" title=\"SHIN-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"180, 516, 195, 523, 210, 518, 211, 558, 202, 614, 186, 614, 182, 600, 177, 571, 180, 516\" alt=\"part\" title=\"SHIN-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"274, 496, 289, 492, 301, 494, 302, 508, 292, 520, 273, 511\" alt=\"part\" title=\"KNEE-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"193, 488, 213, 497, 211, 509, 199, 516, 183, 508, 185, 492, 193, 488\" alt=\"part\" title=\"KNEE-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"189, 367, 220, 367, 237, 381, 213, 491, 205, 484, 191, 484, 186, 480, 183, 385, 189, 367\" alt=\"part\" title=\"THIGH-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"243, 343, 258, 367, 248, 379, 239, 380, 228, 366, 243, 343\" alt=\"part\" title=\"GROIN\" />\r\n\t\t\t<area shape=\"poly\" coords=\"287, 326, 293, 332, 295, 363, 262, 363, 253, 350, 253, 342, 269, 331, 287, 326\" alt=\"part\" title=\"HIP-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"197, 324, 220, 331, 235, 341, 223, 363, 188, 363, 197, 324\" alt=\"part\" title=\"HIP-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"195, 259, 218, 266, 208, 295, 213, 325, 197, 319, 195, 259\" alt=\"part\" title=\"SIDE-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"288, 259, 292, 259, 293, 266, 289, 315, 286, 320, 271, 324, 278, 294, 269, 266, 288, 259\" alt=\"part\" title=\"SIDE-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"237, 256, 257, 261, 271, 287, 268, 317, 261, 328, 246, 337, 224, 329, 212, 302, 217, 273, 237, 256\" alt=\"part\" title=\"BELLY\" />\r\n\t\t\t<area shape=\"poly\" coords=\"240, 99, 254, 102, 258, 108, 259, 123, 250, 133, 238, 132, 231, 129, 225, 118, 231, 104, 240, 99\" alt=\"part\" title=\"FACE\" />\r\n\t\t\t<area shape=\"poly\" coords=\"259, 144, 262, 157, 270, 165, 245, 179, 209, 163, 225, 158, 230, 146, 244, 154, 258, 150\" alt=\"part\" title=\"NECK\" />\r\n\t\t\t<area shape=\"poly\" coords=\"286, 169, 307, 171, 317, 186, 305, 217\" alt=\"part\" title=\"SHOULDER-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"200, 174, 180, 217, 166, 186, 176, 171, 191, 168\" alt=\"part\" title=\"SHOULDER-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"164, 196, 180, 224, 169, 257, 151, 245, 164, 196\" alt=\"part\" title=\"UPPER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"151, 253, 166, 263, 158, 276, 140, 261, 149, 249\" alt=\"part\" title=\"ELBOW-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"276, 170, 299, 223, 294, 252, 264, 260, 242, 250, 221, 260, 190, 250, 188, 220, 210, 171, 246, 186, 276, 170\" alt=\"part\" title=\"CHEST\" />\r\n\t\t\t<area shape=\"rect\" coords=\"1, 177, 13, 723\" title=\"cpMeter\" />\r\n\t\t\t<area shape=\"rect\" coords=\"331, 3, 487, 106\" title=\"incomingManuevers\" />\r\n\t\t\t<area shape=\"rect\" coords=\"71, 3, 320, 34\" title=\"opponentSwiper\" />\r\n\t\t\t<area shape=\"rect\" coords=\"8, 3, 65, 31\" title=\"roundCount\" />\r\n\t\t\t<area shape=\"rect\" coords=\"7, 37, 74, 163\" title=\"vitals\" />\r\n\t\t\t<area shape=\"rect\" coords=\"21, 175, 72, 229\" title=\"cpText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"421, 143, 487, 203\" title=\"advManuever1\" />\r\n\t\t\t<area shape=\"rect\" coords=\"423, 239, 486, 298\" title=\"advManuever2\" />\r\n\t\t\t<area shape=\"rect\" coords=\"424, 425, 489, 481\" title=\"advManuever3\" />\r\n\t\t\t<area shape=\"rect\" coords=\"423, 517, 487, 576\" title=\"advManuever4\" />\r\n\t\t\t<area shape=\"rect\" coords=\"50, 509, 102, 560\" title=\"btnBlock\" />\r\n\t\t\t<area shape=\"rect\" coords=\"391, 610, 443, 661\" title=\"btnParry\" />\r\n\t\t\t<area shape=\"rect\" coords=\"49, 612, 101, 663\" title=\"btnVoid\" />\r\n\t\t\t<area shape=\"rect\" coords=\"39, 688, 118, 721\" title=\"handLeftText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"351, 688, 470, 721\" title=\"handRightText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"271, 684, 347, 721\" title=\"handRightAlt\" />\r\n\t\t\t<area shape=\"rect\" coords=\"123, 684, 199, 721\" title=\"handLeftAlt\" />\r\n\t\t\t<area shape=\"poly\" coords=\"239, 605, 219, 619, 210, 727, 266, 727, 258, 617\" title=\"initRange\" />\r\n\t\t</map>\r\n\t</div>\r\n</div>"},_Init:function(){var e=Ps.prototype;this.data=e.Data,this.components=this.Components(),this.mounted=e.Mounted,this.template=this.Template(),this.computed={pregenHeader:e.get_pregenHeader,boutModel:e.get_boutModel,remainingDisplayCP:e.get_remainingDisplayCP,fatique:e.get_fatique,CP:e.get_CP,remCP:e.get_remCP,BL:e.get_BL,pain:e.get_pain,rightItem:e.get_rightItem,leftItem:e.get_leftItem,rightItemAssign:e.get_rightItemAssign,leftItemAssign:e.get_leftItemAssign,rightItemHighlighted:e.get_rightItemHighlighted,leftItemHighlighted:e.get_leftItemHighlighted,leftTypeTag:e.get_leftTypeTag,rightTypeTag:e.get_rightTypeTag,enemyRightItem:e.get_enemyRightItem,enemyLeftItem:e.get_enemyLeftItem,enemyLeftTypeTag:e.get_enemyLeftTypeTag,enemyRightTypeTag:e.get_enemyRightTypeTag,styleObservePartProps:e.get_styleObservePartProps,focusManueverAtkType:e.get_focusManueverAtkType,advStyleProps:e.get_advStyleProps,stylePartProps:e.get_stylePartProps,armorPartProps:e.get_armorPartProps,styleSwingProps:e.get_styleSwingProps,styleDefBtnProps:e.get_styleDefBtnProps,stylePlHandBtnProps:e.get_stylePlHandBtnProps,basicTargetingLabels:e.get_basicTargetingLabels,focusedTextLbl:e.get_focusedTextLbl,observePrompt:e.get_observePrompt,partObserveLbl:e.get_partObserveLbl,player:e.get_player,opponents:e.get_opponents,dollScale:e.get_dollScale,gotPregens:e.get_gotPregens,thrustPointStyle:e.get_thrustPointStyle,clampedOpponentIndex:e.get_clampedOpponentIndex,currentOpponent:e.get_currentOpponent,gotCurrentOpponent:e.get_gotCurrentOpponent,advManuevers:e.get_advManuevers,advTNArr:e.get_advTNArr,advCostArr:e.get_advCostArr,browseAttackModeLabel:e.get_browseAttackModeLabel,browseAttackModeLabel2:e.get_browseAttackModeLabel2,isBrowseHighlightLeft:e.get_isBrowseHighlightLeft,isBrowseHighlightRight:e.get_isBrowseHighlightRight,advTNs:e.get_advTNs,advSimpTNs:e.get_advSimpTNs,advCosts:e.get_advCosts,advSimpCosts:e.get_advSimpCosts,advNotAvailMask:e.get_advNotAvailMask,currentDollSheet:e.get_currentDollSheet,armorColorScale:e.get_armorColorScale,carriedDollShieldAssign:e.get_carriedDollShieldAssign,carriedDollShield:e.get_carriedDollShield,shieldIconStyle:e.get_shieldIconStyle,shieldLowProfiles:e.get_shieldLowProfiles,shieldHighProfiles:e.get_shieldHighProfiles,dollShieldCoverage:e.get_dollShieldCoverage,dollShieldCoverageBools:e.get_dollShieldCoverageBools,coverageHitLocations:e.get_coverageHitLocations,hitLocationZeroAVValues:e.get_hitLocationZeroAVValues,hitLocationZeroAVValues2:e.get_hitLocationZeroAVValues2,armorDollColors:e.get_armorDollColors,hitLocationArmorValues:e.get_hitLocationArmorValues,hitLocationArmorValues2:e.get_hitLocationArmorValues2,cpTrayCSSTransform:e.get_cpTrayCSSTransform,cpMeterAmount:e.get_cpMeterAmount,dragCPHtml:e.get_dragCPHtml,cpTrayStyle:e.get_cpTrayStyle,actingState:e.get_actingState,isDefBtnBlockVisible:e.get_isDefBtnBlockVisible,isDefBtnBlockAllowed:e.get_isDefBtnBlockAllowed,isDefBtnParryVisible:e.get_isDefBtnParryVisible,isDefBtnParryAllowed:e.get_isDefBtnParryAllowed,isDraggingCP:e.get_isDraggingCP},this.methods={get_pregenHeader:e.get_pregenHeader,closePregens:e.closePregens,quickStartDebug:e.quickStartDebug,confirmPregens:e.confirmPregens,deserializeSheet:e.deserializeSheet,showSelfPregens:e.showSelfPregens,showOpponentPregens:e.showOpponentPregens,get_boutModel:e.get_boutModel,get_remainingDisplayCP:e.get_remainingDisplayCP,get_fatique:e.get_fatique,get_CP:e.get_CP,get_remCP:e.get_remCP,get_BL:e.get_BL,get_pain:e.get_pain,get_rightItem:e.get_rightItem,get_leftItem:e.get_leftItem,get_rightItemAssign:e.get_rightItemAssign,get_leftItemAssign:e.get_leftItemAssign,get_rightItemHighlighted:e.get_rightItemHighlighted,get_leftItemHighlighted:e.get_leftItemHighlighted,getTypeTagForItem:e.getTypeTagForItem,get_leftTypeTag:e.get_leftTypeTag,get_rightTypeTag:e.get_rightTypeTag,get_enemyRightItem:e.get_enemyRightItem,get_enemyLeftItem:e.get_enemyLeftItem,get_enemyLeftTypeTag:e.get_enemyLeftTypeTag,get_enemyRightTypeTag:e.get_enemyRightTypeTag,get_styleObservePartProps:e.get_styleObservePartProps,get_focusManueverAtkType:e.get_focusManueverAtkType,get_advStyleProps:e.get_advStyleProps,get_stylePartProps:e.get_stylePartProps,getArmorPartPropsOf:e.getArmorPartPropsOf,get_armorPartProps:e.get_armorPartProps,get_styleSwingProps:e.get_styleSwingProps,get_styleDefBtnProps:e.get_styleDefBtnProps,get_stylePlHandBtnProps:e.get_stylePlHandBtnProps,get_basicTargetingLabels:e.get_basicTargetingLabels,get_focusedTextLbl:e.get_focusedTextLbl,get_observePrompt:e.get_observePrompt,get_partObserveLbl:e.get_partObserveLbl,get_player:e.get_player,get_opponents:e.get_opponents,get_dollScale:e.get_dollScale,get_gotPregens:e.get_gotPregens,get_thrustPointStyle:e.get_thrustPointStyle,get_clampedOpponentIndex:e.get_clampedOpponentIndex,get_currentOpponent:e.get_currentOpponent,get_gotCurrentOpponent:e.get_gotCurrentOpponent,get_advManuevers:e.get_advManuevers,get_advTNArr:e.get_advTNArr,get_advCostArr:e.get_advCostArr,get_browseAttackModeLabel:e.get_browseAttackModeLabel,get_browseAttackModeLabel2:e.get_browseAttackModeLabel2,get_isBrowseHighlightLeft:e.get_isBrowseHighlightLeft,get_isBrowseHighlightRight:e.get_isBrowseHighlightRight,get_advTNs:e.get_advTNs,get_advSimpTNs:e.get_advSimpTNs,get_advCosts:e.get_advCosts,get_advSimpCosts:e.get_advSimpCosts,advHiddenAt:e.advHiddenAt,advDisabledAt:e.advDisabledAt,get_advNotAvailMask:e.get_advNotAvailMask,onNotAvailAdvMaskChange:e.onNotAvailAdvMaskChange,startGame:e.startGame,get_currentDollSheet:e.get_currentDollSheet,get_armorColorScale:e.get_armorColorScale,get_carriedDollShieldAssign:e.get_carriedDollShieldAssign,get_carriedDollShield:e.get_carriedDollShield,get_shieldIconStyle:e.get_shieldIconStyle,get_shieldLowProfiles:e.get_shieldLowProfiles,get_shieldHighProfiles:e.get_shieldHighProfiles,get_dollShieldCoverage:e.get_dollShieldCoverage,get_dollShieldCoverageBools:e.get_dollShieldCoverageBools,shieldCoveredAtDollHitLocation:e.shieldCoveredAtDollHitLocation,get_coverageHitLocations:e.get_coverageHitLocations,get_hitLocationZeroAVValues:e.get_hitLocationZeroAVValues,get_hitLocationZeroAVValues2:e.get_hitLocationZeroAVValues2,get_armorDollColors:e.get_armorDollColors,getVisibleArmorAtDollPartIndex:e.getVisibleArmorAtDollPartIndex,getHitLocationArmorValues:e.getHitLocationArmorValues,get_hitLocationArmorValues:e.get_hitLocationArmorValues,get_hitLocationArmorValues2:e.get_hitLocationArmorValues2,get_cpTrayCSSTransform:e.get_cpTrayCSSTransform,get_cpMeterAmount:e.get_cpMeterAmount,get_dragCPHtml:e.get_dragCPHtml,getRemainingMid:e.getRemainingMid,repeatTxt:e.repeatTxt,get_cpTrayStyle:e.get_cpTrayStyle,setupUIInteraction:e.setupUIInteraction,get_actingState:e.get_actingState,get_isDefBtnBlockVisible:e.get_isDefBtnBlockVisible,get_isDefBtnBlockAllowed:e.get_isDefBtnBlockAllowed,on_isDefBtnBlockVisible:e.on_isDefBtnBlockVisible,get_isDefBtnParryVisible:e.get_isDefBtnParryVisible,on_isDefBtnParryVisible:e.on_isDefBtnParryVisible,get_isDefBtnParryAllowed:e.get_isDefBtnParryAllowed,get_isDraggingCP:e.get_isDraggingCP,onActingStateChanged:e.onActingStateChanged,onOpponentsStateChange:e.onOpponentsStateChange,handleImageMap:e.handleImageMap,onResize:e.onResize,refreshLayout:e.refreshLayout},this.watch={advNotAvailMask:e.onNotAvailAdvMaskChange,isDefBtnBlockVisible:e.on_isDefBtnBlockVisible,isDefBtnParryVisible:e.on_isDefBtnParryVisible,actingState:e.onActingStateChanged,gotCurrentOpponent:e.onOpponentsStateChange}},__class__:Ps});var ks=function(){B.call(this)};a["troshx.sos.vue.combat.components.ImageMapTester"]=ks,ks.__name__=["troshx","sos","vue","combat","components","ImageMapTester"],ks.__super__=B,ks.prototype=i(B.prototype,{Data:function(){return Ps.getBlankImageMapData()},Components:function(){return{zone:new Hs}},setupUIInteraction:function(){new Ms(this.$refs.container,this.$data)},Mounted:function(){var e=this,i=this.$refs.image;0<i.width?this.handleImageMap(i):i.onload=function(){e.handleImageMap(i)}},handleImageMap:function(e){var i=this.$refs.map,a=i.firstChild;this.refWidth=e.width,this.refHeight=e.height;for(var s=[];null!=a;){if("area"==a.nodeName.toLowerCase()){var o=a;this.positionList.push(V._new()),this.scaleList.push(V._new()),this.classList.push(o.getAttribute("alt")),this.titleList.push(o.getAttribute("title")),s.push(Ys.fromHTMLImageMapArea(e.width,e.height,o.getAttribute("shape"),o.getAttribute("coords")))}a=a.nextSibling}this.$data.layoutItemList=s,Is.applyDollView(s,this.titleList,this.classList,this.refWidth,this.refHeight),window.addEventListener("resize",t(this,this.onResize)),this.onResize(),this.setupUIInteraction()},onResize:function(){var e=this.$refs.container,i=parseFloat(e.clientWidth),t=parseFloat(e.clientHeight);this.scaleX=i/this.refWidth,this.scaleY=t/this.refHeight,this.refreshLayout()},refreshLayout:function(){for(var e=0,t=this.layoutItemList.length;e<t;){var a=e++;this.layoutItemList[a].solve(this.positionList[a],this.scaleList[a],this.scaleX,this.scaleY)}},Template:function(){return"<div class=\"dollview\" style=\"position:fixed;top:0;left:0;width:100%;height:100%\"  ref=\"container\">\r\n\t<div style=\"width:100%;height:100%;top:0;left;0;position:absolute;background-repeat:no-repeat;background-image:url(images/dollscreen.png); background-position:50% 50%; background-size:contain\">\r\n\t\t<zone v-for=\"(li, i) in layoutItemList\" :title=\"titleList[i]\" :class=\"classList[i]\" :key=\"i\" :x=\"positionList[i].x*refWidth*scaleX\" :y=\"positionList[i].y*refHeight*scaleY\" :width=\"scaleList[i].x*refWidth*scaleX\" :height=\"scaleList[i].y*refHeight*scaleY\" :item=\"li\" :debug=\"true\" />\r\n\t</div>\r\n\t<div class=\"image-map-holder\" style=\"position:relative; display:none\">\r\n\t\t<img src=\"images/dollscreen.png\" style=\"transform-origin:0 0; pointer-events:none; opacity:0.12\" usemap=\"#map\" ref=\"image\" />\r\n\t\t<map name=\"map\" ref=\"map\">\r\n\t\t\t<!--<area shape=\"circle\" coords=\"155, 155, 32\" title=\"circle_test\" />-->\r\n\t\t\t<area shape=\"poly\" coords=\"316, 519, 314, 580, 305, 622, 317, 659, 374, 585\" alt=\"swing\" title=\"SWING_LOWER_LEG-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"124, 567, 170, 525, 172, 576, 179, 619, 160, 663\" alt=\"swing\" title=\"SWING_LOWER_LEG-r\" />\r\n\t\t\t<area shape=\"rect\" coords=\"224, 478, 261, 585\" title=\"enemyStatus\" />\r\n\t\t\t<area shape=\"poly\" coords=\"238, 76, 254, 78, 262, 85, 267, 115, 262, 115, 255, 96, 244, 95, 234, 97, 223, 115, 217, 115, 223, 85, 238, 76\" alt=\"part\" title=\"UPPER_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"309, 400, 310, 483, 313, 506, 378, 574, 366, 421\" alt=\"swing\" title=\"SWING_UPPER_LEG-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"124, 432, 172, 409, 175, 499, 115, 557\" alt=\"swing\" title=\"SWING_UPPER_LEG-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"302, 332, 351, 364, 364, 413, 306, 390\" alt=\"swing\" title=\"SWING_GROIN-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"142, 358, 181, 334, 171, 392, 124, 418\" alt=\"swing\" title=\"SWING_GROIN-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"302, 254, 331, 307, 361, 333, 349, 349, 307, 318, 300, 315\" alt=\"swing\" title=\"SWING_TORSO-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"137, 319, 172, 278, 183, 259, 185, 322, 141, 351\" alt=\"swing\" title=\"SWING_TORSO-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"356, 263, 399, 235, 411, 300, 387, 311\" alt=\"swing\" title=\"SWING_LOWER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"319, 168, 352, 254, 399, 224, 366, 168\" alt=\"swing\" title=\"SWING_UPPER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"271, 77, 272, 127, 306, 83\" alt=\"swing\" title=\"SWING_DOWNWARD_HEAD-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"166, 82, 213, 132, 210, 77\" alt=\"swing\" title=\"SWING_DOWNWARD_HEAD-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"313, 83, 269, 144, 285, 158, 366, 162\" alt=\"swing\" title=\"SWING_NECK-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"219, 78, 242, 46, 264, 79, 267, 91, 220, 93\" alt=\"swing\" title=\"SWING_UPWARD_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"89, 226, 133, 258, 101, 309, 67, 310\" alt=\"swing\" title=\"SWING_LOWER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"87, 213, 139, 250, 159, 186, 170, 164, 115, 162\" alt=\"swing\" title=\"SWING_UPPER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"153, 85, 219, 144, 200, 159, 120, 157\" alt=\"swing\" title=\"SWING_NECK-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"224, 124, 228, 144, 247, 149, 258, 142, 269, 123, 263, 123, 250, 134, 237, 134, 228, 124\" alt=\"part\" title=\"LOWER_HEAD\" />\r\n\t\t\t<area shape=\"poly\" coords=\"322, 192, 339, 250, 315, 256, 308, 243, 306, 223, 322, 192\" alt=\"part\" title=\"UPPER_ARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"98, 321, 106, 322, 111, 333, 97, 367, 94, 338, 79, 330, 98, 321\" alt=\"part\" title=\"HAND-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"393, 328, 399, 346, 395, 359, 384, 357, 370, 329, 386, 320\" alt=\"part\" title=\"HAND-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"356, 283, 381, 313, 368, 324, 347, 311, 327, 279, 349, 270\" alt=\"part\" title=\"FOREARM-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"334, 253, 345, 263, 325, 273, 318, 260\" alt=\"part\" title=\"ELBOW-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"138, 267, 155, 281, 116, 327, 105, 317\" alt=\"part\" title=\"FOREARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"284, 620, 294, 619, 299, 650, 312, 666, 309, 671, 284, 672, 279, 637\" alt=\"part\" title=\"FOOT-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"188, 619, 202, 619, 207, 633, 205, 668, 199, 673, 169, 669, 183, 647, 188, 630\" alt=\"part\" title=\"FOOT-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"250, 383, 267, 368, 297, 367, 302, 390, 298, 457, 298, 480, 286, 481, 271, 486, 261, 421\" alt=\"part\" title=\"THIGH-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"301, 517, 306, 520, 308, 534, 306, 580, 297, 622, 284, 621, 275, 563, 274, 519, 291, 524, 301, 517\" alt=\"part\" title=\"SHIN-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"180, 516, 195, 523, 210, 518, 211, 558, 202, 614, 186, 614, 182, 600, 177, 571, 180, 516\" alt=\"part\" title=\"SHIN-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"274, 496, 289, 492, 301, 494, 302, 508, 292, 520, 273, 511\" alt=\"part\" title=\"KNEE-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"193, 488, 213, 497, 211, 509, 199, 516, 183, 508, 185, 492, 193, 488\" alt=\"part\" title=\"KNEE-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"189, 367, 220, 367, 237, 381, 213, 491, 205, 484, 191, 484, 186, 480, 183, 385, 189, 367\" alt=\"part\" title=\"THIGH-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"243, 343, 258, 367, 248, 379, 239, 380, 228, 366, 243, 343\" alt=\"part\" title=\"GROIN\" />\r\n\t\t\t<area shape=\"poly\" coords=\"287, 326, 293, 332, 295, 363, 262, 363, 253, 350, 253, 342, 269, 331, 287, 326\" alt=\"part\" title=\"HIP-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"197, 324, 220, 331, 235, 341, 223, 363, 188, 363, 197, 324\" alt=\"part\" title=\"HIP-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"195, 259, 218, 266, 208, 295, 213, 325, 197, 319, 195, 259\" alt=\"part\" title=\"SIDE-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"288, 259, 292, 259, 293, 266, 289, 315, 286, 320, 271, 324, 278, 294, 269, 266, 288, 259\" alt=\"part\" title=\"SIDE-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"237, 256, 257, 261, 271, 287, 268, 317, 261, 328, 246, 337, 224, 329, 212, 302, 217, 273, 237, 256\" alt=\"part\" title=\"BELLY\" />\r\n\t\t\t<area shape=\"poly\" coords=\"240, 99, 254, 102, 258, 108, 259, 123, 250, 133, 238, 132, 231, 129, 225, 118, 231, 104, 240, 99\" alt=\"part\" title=\"FACE\" />\r\n\t\t\t<area shape=\"poly\" coords=\"259, 144, 262, 157, 270, 165, 245, 179, 209, 163, 225, 158, 230, 146, 244, 154, 258, 150\" alt=\"part\" title=\"NECK\" />\r\n\t\t\t<area shape=\"poly\" coords=\"286, 169, 307, 171, 317, 186, 305, 217\" alt=\"part\" title=\"SHOULDER-l\" />\r\n\t\t\t<area shape=\"poly\" coords=\"200, 174, 180, 217, 166, 186, 176, 171, 191, 168\" alt=\"part\" title=\"SHOULDER-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"164, 196, 180, 224, 169, 257, 151, 245, 164, 196\" alt=\"part\" title=\"UPPER_ARM-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"151, 253, 166, 263, 158, 276, 140, 261, 149, 249\" alt=\"part\" title=\"ELBOW-r\" />\r\n\t\t\t<area shape=\"poly\" coords=\"276, 170, 299, 223, 294, 252, 264, 260, 242, 250, 221, 260, 190, 250, 188, 220, 210, 171, 246, 186, 276, 170\" alt=\"part\" title=\"CHEST\" />\r\n\t\t\t<area shape=\"rect\" coords=\"1, 177, 13, 723\" title=\"cpMeter\" />\r\n\t\t\t<area shape=\"rect\" coords=\"331, 3, 487, 106\" title=\"incomingManuevers\" />\r\n\t\t\t<area shape=\"rect\" coords=\"71, 3, 320, 34\" title=\"opponentSwiper\" />\r\n\t\t\t<area shape=\"rect\" coords=\"8, 3, 65, 31\" title=\"roundCount\" />\r\n\t\t\t<area shape=\"rect\" coords=\"7, 37, 74, 163\" title=\"vitals\" />\r\n\t\t\t<area shape=\"rect\" coords=\"401, 334, 435, 391\" title=\"enemyHandLeft\" />\r\n\t\t\t<area shape=\"rect\" coords=\"59, 336, 92, 393\" title=\"enemyHandRight\" />\r\n\t\t\t<area shape=\"rect\" coords=\"21, 175, 72, 229\" title=\"cpText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"421, 143, 487, 203\" title=\"advManuever1\" />\r\n\t\t\t<area shape=\"rect\" coords=\"423, 239, 486, 298\" title=\"advManuever2\" />\r\n\t\t\t<area shape=\"rect\" coords=\"424, 425, 489, 481\" title=\"advManuever3\" />\r\n\t\t\t<area shape=\"rect\" coords=\"423, 517, 487, 576\" title=\"advManuever4\" />\r\n\t\t\t<area shape=\"rect\" coords=\"50, 509, 102, 560\" title=\"btnBlock\" />\r\n\t\t\t<area shape=\"rect\" coords=\"391, 610, 443, 661\" title=\"btnParry\" />\r\n\t\t\t<area shape=\"rect\" coords=\"49, 612, 101, 663\" title=\"btnVoid\" />\r\n\t\t\t<area shape=\"rect\" coords=\"39, 688, 118, 721\" title=\"handLeftText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"351, 688, 470, 721\" title=\"handRightText\" />\r\n\t\t\t<area shape=\"rect\" coords=\"271, 684, 347, 721\" title=\"handRightAlt\" />\r\n\t\t\t<area shape=\"rect\" coords=\"123, 684, 199, 721\" title=\"handLeftAlt\" />\r\n\t\t\t<area shape=\"poly\" coords=\"239, 605, 219, 619, 210, 727, 266, 727, 258, 617\" title=\"initRange\" />\r\n\t\t\t\r\n\t\t\t<area shape=\"rect\" coords=\"84, 43, 275, 78\" alt=\"phase\" title=\"targets_strip\" />\r\n\t\t\t<area shape=\"rect\" coords=\"288, 45, 320, 77\" alt=\"phase\" title=\"focus_target\" />\r\n\t\t\t<area shape=\"rect\" coords=\"332, 659, 364, 691\" alt=\"phase\" title=\"smallbottom4\" />\r\n\t\t\t<area shape=\"rect\" coords=\"118, 660, 150, 692\" alt=\"phase\" title=\"smallbottom2\" />\r\n\t\t\t<area shape=\"rect\" coords=\"21, 661, 53, 693\" alt=\"phase\" title=\"smallbottom1\" />\r\n\t\t\t<area shape=\"rect\" coords=\"6, 552, 356, 649\" alt=\"phase\" title=\"textlog\" />\r\n\t\t\t<area shape=\"rect\" coords=\"421, 229, 485, 291\" alt=\"phase\" title=\"sidebutton2\" />\r\n\t\t\t<area shape=\"circle\" coords=\"37, 511, 23\" alt=\"phase\" title=\"speedometer\" />\r\n\t\t\t<area shape=\"rect\" coords=\"432, 339, 475, 382\" alt=\"phase\" title=\"firerate\" />\r\n\t\t\t<area shape=\"rect\" coords=\"11, 243, 43, 275\" alt=\"phase\" title=\"focus_area\" />\r\n\t\t\t<area shape=\"rect\" coords=\"422, 432, 486, 494\" alt=\"phase\" title=\"sidebutton3\" />\r\n\t\t\t<area shape=\"rect\" coords=\"422, 539, 486, 601\" title=\"sidebutton4\" />\r\n\t\t\t<area shape=\"rect\" coords=\"414, 658, 472, 725\" alt=\"phase\" title=\"bottombutton5\" />\r\n\t\t\t<area shape=\"rect\" coords=\"318, 659, 376, 726\" alt=\"phase\" title=\"bottombutton4\" />\r\n\t\t\t<area shape=\"rect\" coords=\"211, 659, 269, 726\" alt=\"phase\" title=\"bottombutton3\" />\r\n\t\t\t<area shape=\"rect\" coords=\"105, 659, 163, 726\" alt=\"phase\" title=\"bottombutton2\" />\r\n\t\t\t<area shape=\"rect\" coords=\"11, 659, 69, 726\" alt=\"phase\" title=\"bottombutton1\" />\r\n\t\t</map>\r\n\t</div>\r\n</div>"},_Init:function(){var e=ks.prototype;this.data=e.Data,this.components=this.Components(),this.mounted=e.Mounted,this.template=this.Template(),this.methods={setupUIInteraction:e.setupUIInteraction,handleImageMap:e.handleImageMap,onResize:e.onResize,refreshLayout:e.refreshLayout}},__class__:ks});var Hs=function(){B.call(this)};a["troshx.sos.vue.combat.components.LayoutItemView"]=Hs,Hs.__name__=["troshx","sos","vue","combat","components","LayoutItemView"],Hs.drawEllipse=function(e,i,t,a,s){e.beginPath(),e.moveTo(i,t-.5*s),e.bezierCurveTo(i+.5*a,t-.5*s,i+.5*a,t+.5*s,i,t+s/2),e.bezierCurveTo(i-.5*a,t+.5*s,i-.5*a,t-.5*s,i,t-s/2),e.closePath(),e.fill(),e.stroke()},Hs.__super__=B,Hs.prototype=i(B.prototype,{get_computedStyle:function(){var e={left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",boxSizing:"border-box"};return null==Ls.CONTEXT?(!this.gotSVG&&(this.showShape||this.debug)&&(e.outline=this.strokeColor+" solid "+this.strokeWidth+"px",e.backgroundColor=this.fillColor,1==this.item.shape&&(e.borderRadius="50%",e.backgroundColor=this.fillColor,!this.debug&&(e.outline="none"))),e):e},get_gotSVG:function(){return!(null!=Ls.CONTEXT)&&2==this.item.shape},get_pStyle:function(){return{strokeWidth:this.strokeWidth+"px",stroke:this.strokeColor,fill:this.fillColor}},get_polyPoints:function(){return this.getPolyString(this.item.uvs)},getPolyString:function(e){for(var t=this.width,a=this.height,s=[],o=0,n=e.length;o<n;){var r=o++;s.push(e[r].x*t),s.push(e[r].y*a)}return s.join(" ")},Updated:function(){this.showShape&&null!=Ls.CONTEXT&&this.renderToCanvas()},renderToCanvas:function(){var e=Ls.CANVAS,t=Ls.CONTEXT;t.clearRect(0,0,e.width,e.height);var a=this.item.shape;t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth;var s=this.x,o=this.y,n=this.width,r=this.height;switch(a){case 0:t.fillRect(s,o,n,r),t.strokeRect(s,o,n,r);break;case 1:var l=.5*(s*this.width),R=.5*(o*this.height),d=this.width,c=this.height;t.beginPath(),t.moveTo(l,R-.5*c),t.bezierCurveTo(l+.5*d,R-.5*c,l+.5*d,R+.5*c,l,R+c/2),t.bezierCurveTo(l-.5*d,R+.5*c,l-.5*d,R-.5*c,l,R-c/2),t.closePath(),t.fill(),t.stroke();break;case 2:var h=this.item.uvs;t.beginPath(),t.moveTo(s+h[0].x*n,o+h[0].y*r);for(var y=1,g=h.length;y<g;){var p=y++;t.lineTo(s+h[p].x*n,o+h[p].y*r)}t.closePath(),t.fill(),t.stroke();}},get_polyDecompPoints:function(){return null==this.item.hitDecomposition?null:this.item.hitDecomposition.map(t(this,this.getPolyString))},get_titleClasses:function(){for(var e=this.title.split("-"),t=1,a=e.length;t<a;){var s=t++;e[s]="-"+e[s]}return e},Template:function(){return"<div class=\"layout-item\" :class=\"[{debug}, titleClasses]\" :data-vis=\"showShape\" :data-title=\"title\" style=\"position:absolute;z-index:1;\" :style=\"computedStyle\">\r\n\t\t\t<svg v-if=\"gotSVG\" v-show=\"debug || showShape\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.2\" baseProfile=\"tiny\" :width=\"width\" :height=\"height\" style=\"position:absolute\">\r\n\t\t\t\t<g style=\"transform-origin:0 0;\">\r\n\t\t\t\t\t<polygon :style=\"pStyle\" :points=\"polyPoints\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g v-if=\"debug\" style=\"transform-origin:0 0;position:absolute\" v-for=\"(p, i) in polyDecompPoints\">\r\n\t\t\t\t\t<polygon style=\"stroke-width:0.5, stroke:#ff0000; fill:transparent\" :points=\"p\" :key=\"i\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t<slot />\r\n\t\t</div>"},_Init:function(){var e=Hs.prototype;this.updated=e.Updated,this.template=this.Template(),this.computed={computedStyle:e.get_computedStyle,gotSVG:e.get_gotSVG,pStyle:e.get_pStyle,polyPoints:e.get_polyPoints,polyDecompPoints:e.get_polyDecompPoints,titleClasses:e.get_titleClasses},this.methods={get_computedStyle:e.get_computedStyle,get_gotSVG:e.get_gotSVG,get_pStyle:e.get_pStyle,get_polyPoints:e.get_polyPoints,getPolyString:e.getPolyString,renderToCanvas:e.renderToCanvas,get_polyDecompPoints:e.get_polyDecompPoints,get_titleClasses:e.get_titleClasses},this.props={item:{type:Object},debug:{default:!1,type:Boolean},fillColor:{default:"rgba(0,255,0,0.4)",type:String},strokeColor:{default:"#00F",type:String},showShape:{default:!1,type:Boolean},strokeWidth:{default:1,type:Number},title:{type:String},y:{type:Number},height:{type:Number},width:{type:Number},x:{type:Number}}},__class__:Hs});var Bs=function(){B.call(this)};a["troshx.sos.vue.combat.components.ZoneItemView"]=Bs,Bs.__name__=["troshx","sos","vue","combat","components","ZoneItemView"],Bs.drawEllipse=function(e,i,t,a,s){e.beginPath(),e.moveTo(i,t-.5*s),e.bezierCurveTo(i+.5*a,t-.5*s,i+.5*a,t+.5*s,i,t+s/2),e.bezierCurveTo(i-.5*a,t+.5*s,i-.5*a,t-.5*s,i,t-s/2),e.closePath(),e.fill(),e.stroke()},Bs.__super__=B,Bs.prototype=i(B.prototype,{get_computedStyle:function(){var e={left:this.x+"px",top:this.y+"px",width:this.width+"px",height:this.height+"px",boxSizing:"border-box"};return null==Ls.CONTEXT?(!this.gotSVG&&(this.showShape||this.debug)&&(e.outline=this.strokeColor+" solid "+this.strokeWidth+"px",e.backgroundColor=this.fillColor,1==this.item.shape&&(e.borderRadius="50%",e.backgroundColor=this.fillColor,!this.debug&&(e.outline="none"))),e):e},get_gotSVG:function(){return!(null!=Ls.CONTEXT)&&2==this.item.shape},get_pStyle:function(){return{strokeWidth:this.strokeWidth+"px",stroke:this.strokeColor,fill:this.fillColor}},get_polyPoints:function(){return this.getPolyString(this.item.uvs)},getPolyString:function(e){for(var t=this.width,a=this.height,s=[],o=0,n=e.length;o<n;){var r=o++;s.push(e[r].x*t),s.push(e[r].y*a)}return s.join(" ")},Updated:function(){this.showShape&&null!=Ls.CONTEXT&&this.renderToCanvas()},renderToCanvas:function(){var e=Ls.CANVAS,t=Ls.CONTEXT;t.clearRect(0,0,e.width,e.height);var a=this.item.shape;t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth;var s=this.x,o=this.y,n=this.width,r=this.height;switch(a){case 0:t.fillRect(s,o,n,r),t.strokeRect(s,o,n,r);break;case 1:var l=.5*(s*this.width),R=.5*(o*this.height),d=this.width,c=this.height;t.beginPath(),t.moveTo(l,R-.5*c),t.bezierCurveTo(l+.5*d,R-.5*c,l+.5*d,R+.5*c,l,R+c/2),t.bezierCurveTo(l-.5*d,R+.5*c,l-.5*d,R-.5*c,l,R-c/2),t.closePath(),t.fill(),t.stroke();break;case 2:var h=this.item.uvs;t.beginPath(),t.moveTo(s+h[0].x*n,o+h[0].y*r);for(var y=1,g=h.length;y<g;){var p=y++;t.lineTo(s+h[p].x*n,o+h[p].y*r)}t.closePath(),t.fill(),t.stroke();}},get_polyDecompPoints:function(){return null==this.item.hitDecomposition?null:this.item.hitDecomposition.map(t(this,this.getPolyString))},get_titleClasses:function(){for(var e=this.title.split("-"),t=1,a=e.length;t<a;){var s=t++;e[s]="-"+e[s]}return e},Template:function(){return"<div class=\"layout-item\" :class=\"[{debug}, titleClasses]\" :data-vis=\"showShape\" :data-title=\"title\" style=\"position:absolute;z-index:1;\" :style=\"computedStyle\">\r\n\t\t\t<svg v-if=\"gotSVG\" v-show=\"debug || showShape\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.2\" baseProfile=\"tiny\" :width=\"width\" :height=\"height\" style=\"position:absolute\">\r\n\t\t\t\t<g style=\"transform-origin:0 0;\">\r\n\t\t\t\t\t<polygon :style=\"pStyle\" :points=\"polyPoints\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t\t<g v-if=\"debug\" style=\"transform-origin:0 0;position:absolute\" v-for=\"(p, i) in polyDecompPoints\">\r\n\t\t\t\t\t<polygon style=\"stroke-width:0.5, stroke:#ff0000; fill:transparent\" :points=\"p\" :key=\"i\"></polygon>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t<slot />\r\n\t\t</div>"},get_item:function(){this.mapData;return this.mapData.layoutItemList[this.index]},get_x:function(){var e=this.mapData,t=e.renderCount,a=this.index;return e.positionList[a].x*e.refWidth*e.scaleX},get_y:function(){var e=this.mapData,t=e.renderCount,a=this.index;return e.positionList[a].y*e.refHeight*e.scaleY},get_width:function(){var e=this.mapData,t=e.renderCount,a=this.index;return e.scaleList[a].x*e.refWidth*e.scaleX},get_height:function(){var e=this.mapData,t=e.renderCount,a=this.index;return e.scaleList[a].y*e.refHeight*e.scaleY},get_title:function(){var e=this.mapData;return e.titleList[this.index]},_Init:function(){var e=Bs.prototype;this.updated=e.Updated,this.template=this.Template(),this.computed={computedStyle:e.get_computedStyle,gotSVG:e.get_gotSVG,pStyle:e.get_pStyle,polyPoints:e.get_polyPoints,polyDecompPoints:e.get_polyDecompPoints,titleClasses:e.get_titleClasses,item:e.get_item,x:e.get_x,y:e.get_y,width:e.get_width,height:e.get_height,title:e.get_title},this.methods={get_computedStyle:e.get_computedStyle,get_gotSVG:e.get_gotSVG,get_pStyle:e.get_pStyle,get_polyPoints:e.get_polyPoints,getPolyString:e.getPolyString,renderToCanvas:e.renderToCanvas,get_polyDecompPoints:e.get_polyDecompPoints,get_titleClasses:e.get_titleClasses,get_item:e.get_item,get_x:e.get_x,get_y:e.get_y,get_width:e.get_width,get_height:e.get_height,get_title:e.get_title},this.props={debug:{default:!1,type:Boolean},fillColor:{default:"rgba(0,255,0,0.4)",type:String},mapData:{},strokeColor:{default:"#00F",type:String},showShape:{default:!1,type:Boolean},strokeWidth:{default:1,type:Number},index:{type:Number}}},__class__:Bs});var Ds=function(){B.call(this)};a["troshx.sos.vue.pregen.PregenSelectView"]=Ds,Ds.__name__=["troshx","sos","vue","pregen","PregenSelectView"],Ds.__super__=B,Ds.prototype=i(B.prototype,{Data:function(){return{selectedChar:-1,selectedChars:[]}},onConfirm:function(){this.multiSelect?this.multiCharSelected():this.singleCharSelected()},singleCharSelected:function(){var e=this.selectedChar,i=this.characters[e];this.splice&&this.characters.splice(e,1),this.$emit("singleCharSelected",i)},multiCharSelected:function(){if(0!=this.selectedChars.length){for(var e=[],t=0,a=this.selectedChars.length,s;t<a;)s=t++,e.push(this.characters[this.selectedChars[s]]);if(this.splice)for(var o=0,n=e.length,r;o<n;)r=o++,this.characters.splice(this.characters.indexOf(e[r]),1);this.$emit("multiCharSelected",e)}},onClose:function(){this.$emit("close")},Template:function(){return"<div style=\"position:absolute;top:0;left:0;width:100%;height:100%;overflow:auto\" v-dragscroll class=\"pregen-select-view\">\r\n\t<h1 v-if=\"header\">{{header}}</h1>\r\n\t<ul v-if=\"characters\">\r\n\t\t<li v-for=\"(li, i) in characters\" :key=\"i\">\r\n\t\t\t<div class=\"checkbox-holder\">\r\n\t\t\t\t<input v-if=\"multiSelect\" type=\"checkbox\" v-model.number=\"selectedChars\" :value=\"i\" :id=\"'popup_cb_'+i\"></input>\r\n\t\t\t\t<input v-else type=\"radio\" :checked=\"selectedChar==i\" :value=\"i\" @click=\"selectedChar=i\" :id=\"'popup_cb_'+i\"></input>\r\n\t\t\t\t<label :for=\"'popup_cb_'+i\">{{li.label}}</label>\r\n\t\t\t\t<div class=\"desc\">{{li.description}}</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t</ul>\r\n\t<div class=\"btn-zone\">\r\n\t\t<a class=\"btn ok\" v-show=\"(multiSelect && selectedChars.length) || (!multiSelect && selectedChar>=0)\" v-on:click=\"onConfirm\"><span>[\u2713]</span> Okay</a>\r\n\t\t<a class=\"btn close\" v-on:click=\"onClose\"><span>[x]</span> Cancel</a>\r\n\t</div>\r\n\t\r\n</div>"},_Init:function(){var e=Ds.prototype;this.data=e.Data,this.template=this.Template(),this.methods={onConfirm:e.onConfirm,singleCharSelected:e.singleCharSelected,multiCharSelected:e.multiCharSelected,onClose:e.onClose},this.props={splice:{default:!1,type:Boolean},multiSelect:{default:!1,type:Boolean},header:{type:String},characters:{type:Array}}},__class__:Ds});var Ns=function(){this.boot=new D,window.document.body.style.padding="0",window.document.body.style.margin="0",window.document.body.style.overflow="hidden",window.document.body.style.width="100%",window.document.body.style.height="100%",window.document.body.style.backgroundColor="#e4e5e7",Vue.use(VueDragScroll);var e=window.document.getElementById("canvasGL");if(null!=e){e.style.pointerEvents="none",e.style.position="absolute",WebGL2D.enable(e);var i=e.getContext("webgl-2d");Ls.__setupContext(e,i,!0)}this.boot.startVueWithRootComponent("#app",new Ps)};a["troshx.sos.vue.tests.TestUI"]=Ns,Ns.__name__=["troshx","sos","vue","tests","TestUI"],Ns.main=function(){new Ns},Ns.prototype={__class__:Ns};var Os=function(){B.call(this)};a["troshx.sos.vue.tests.layout.AspectConstraintTest"]=Os,Os.__name__=["troshx","sos","vue","tests","layout","AspectConstraintTest"],Os.__super__=B,Os.prototype=i(B.prototype,{Mounted:function(){window.addEventListener("resize",t(this,this.onResize)),this.onResize()},Created:function(){this.aspectConstraint=qs.createRelative(2,0),console.log(this.aspect*this.aspectConstraint.max),console.log(this.aspect*this.aspectConstraint.min)},onResize:function(){var e=this.$refs.container;this.screenWidth=parseFloat(e.clientWidth),this.screenHeight=parseFloat(e.clientHeight),this.aspectConstraint.findScales(this.testScale,this.screenWidth/this.refWidth,this.screenHeight/this.refHeight),this.$refs.testAspect.attributes.style=this.testStyle,this.debugField=this.aspect+"<br/>"+this.$refs.testAspect.clientWidth/this.$refs.testAspect.clientHeight,console.log(this.debugField)},Data:function(){return{screenWidth:0,screenHeight:0,aspectConstraint:null,refWidth:150,refHeight:200,testScale:V._new(1,1),debugField:""}},get_aspect:function(){return this.refWidth/this.refHeight},get_testStyle:function(){var e=this.refWidth*this.testScale.x,i=this.refHeight*this.testScale.y;return{overflow:"hidden","background-color":"rgba(255,0,0,.5)",position:"absolute","box-sizing":"border-box",border:"1px solid #00ff00",width:e+"px",height:i+"px",top:0+"px",left:0+"px"}},Template:function(){return"<div>\r\n\t\t\t<div ref=\"container\" style=\"font-size:22px; background-color:orange; position:absolute; top:0; left;0; width:100%; height:100%\">\r\n\t\t\t\t<div ref=\"testAspect\" v-if=\"aspectConstraint\" :style=\"testStyle\" v-html=\"debugField\"></div>\r\n\t\t\t</div>\r\n\t\t</div>"},_Init:function(){var e=Os.prototype;this.mounted=e.Mounted,this.created=e.Created,this.data=e.Data,this.template=this.Template(),this.computed={aspect:e.get_aspect,testStyle:e.get_testStyle},this.methods={onResize:e.onResize,get_aspect:e.get_aspect,get_testStyle:e.get_testStyle}},__class__:Os});var Fs=function(){B.call(this)};a["troshx.sos.vue.tests.layout.LayoutItemTest"]=Fs,Fs.__name__=["troshx","sos","vue","tests","layout","LayoutItemTest"],Fs.__super__=B,Fs.prototype=i(B.prototype,{onResize:function(){var e=this.$refs.container;this.screenWidth=parseFloat(e.clientWidth),this.screenHeight=parseFloat(e.clientHeight)},Mounted:function(){var e=this.$refs.container;this.refWidth=parseFloat(e.clientWidth),this.refHeight=parseFloat(e.clientHeight);this.layoutItem=Ys.createRect(this.refWidth,this.refHeight,100,50,255,200).pin(Ks.createRelative(0,0).scaleMinRelative(0,0).scaleMaxRelative(3,3)).pivot(Ks.createRelative(0,0).scaleMinRelative(0,0).scaleMaxRelative(3,3)).aspect(qs.createRelative(1,1).enablePreflight()),window.addEventListener("resize",t(this,this.onResize)),this.onResize()},Data:function(){return{screenWidth:0,screenHeight:0,layoutItem:null,refWidth:550,refHeight:400,debugField:""}},get_testStyle:function(){var e=Fs.TEST_POS,i=Fs.TEST_SCALE;this.layoutItem.solve(e,i,this.screenWidth/this.refWidth,this.screenHeight/this.refHeight);var t=i.x*this.screenWidth,a=i.y*this.screenHeight,s=e.x*this.screenWidth,o=e.y*this.screenHeight;return{overflow:"hidden","background-color":"rgba(255,0,0,.5)",position:"absolute","box-sizing":"border-box",border:"1px solid #00ff00",width:t+"px",height:a+"px",top:o+"px",left:s+"px"}},Template:function(){return"<div>\r\n\t\t\t<div ref=\"container\" style=\"font-size:22px; background-color:orange; position:absolute; top:0; left;0; width:100%; height:100%\">\r\n\t\t\t\t<div ref=\"testItem\" v-if=\"layoutItem\" :style=\"testStyle\" v-html=\"debugField\"></div>\r\n\t\t\t</div>\r\n\t\t</div>"},_Init:function(){var e=Fs.prototype;this.mounted=e.Mounted,this.data=e.Data,this.template=this.Template(),this.computed={testStyle:e.get_testStyle},this.methods={onResize:e.onResize,get_testStyle:e.get_testStyle}},__class__:Fs});var Ws={};a["troshx.util._AbsStringMap.AbsStringMap_Impl_"]=Ws,Ws.__name__=["troshx","util","_AbsStringMap","AbsStringMap_Impl_"],Ws._new=function(){return{}},Ws.set=function(e,i,t){e[i]=t},Ws.get=function(e,i){return e[i]},Ws.exists=function(e,i){return null!=e[i]};var Gs=function(){};a["troshx.util.DiceRoller"]=Gs,Gs.__name__=["troshx","util","DiceRoller"],Gs.getRollNumSuccesses=function(e,t){var a;Gs.NUM_ONES=0;for(var s=e,o=0,n=0;-1<--s;)a=(0|10*Math.random())+1,1==a&&Gs.NUM_ONES++,o+=a>=t?1:0,n+=10<t&&10==a?1:0;if(0<n)for(s=n;-1<--s;)a=(0|10*Math.random())+1,o+=a>=t-10?1:0;return Gs.LAST_ROLL_SUCCESSES=o,o},Gs.makeChallengeRoll=function(e,i,t){var a=Gs.getRollNumSuccesses(e,i);return a>=t?a-t:Gs.NUM_ONES>=(1<e?2:1)?-2:-1},Gs.makeIndividualRoll=function(e,i,t){t=null==t?{successes:0,mayBotch:!1}:t;var a=Gs.getRollNumSuccesses(e,i);return t.successes=a,t.mayBotch=Gs.NUM_ONES>=(1<e?2:1),t};var Vs=function(){};a["troshx.util.LibUtil"]=Vs,Vs.__name__=["troshx","util","LibUtil"],Vs.validInt=function(e){return null!=e&&!isNaN(e)},Vs.as=function(e,i){return Y.__instanceof(e,i)?e:null},Vs.asNoInline=function(e,i){return Y.__instanceof(e,i)?e:null},Vs.tryParseFloat=function(e){return parseFloat(e)},Vs.tryParseInt=function(e){return u.parseInt(e)},Vs.sortAlphabetically=function(e,i){return e=e.toLowerCase(),i=i.toLowerCase(),e<i?-1:e>i?1:0},Vs.setArrayLength=function(e,i){e.splice(i,e.length-i)},Vs.field=function(e,i){return e[i]},Vs.setField=function(e,i,t){e[i]=t},Vs.override2ndObjInto=function(e,i){for(var t=0,a=_.fields(i);t<a.length;){var s=a[t];++t,e[s]=i[s]}return e},Vs.setFieldChain=function(e,i,t){return e[i]=t,t},Vs.arrayToList=function(e){for(var i=new y,t=0;t<e.length;){var a=e[t];++t,i.add(a)}return i},Vs.getArrayItemAtIndex=function(e,i){return e[i]},Vs.getListItemAtIndex=function(e,t){if(0>t||t>=e.length)return null;for(var a=e.h,s=0;s<t;){var o=s++,i=a.item;a=a.next}var n=a.item;return a=a.next,n},Vs.clearArray=function(e){e.length=0},Vs.truncateArray=function(e,i){e.length=i},Vs.findForList=function(e,t){for(var a=e.h;null!=a;){var s=a.item;a=a.next;var o=s;if(t(o))return o}return null},Vs.minI=function(e,i){return e<i?e:i},Vs.maxI=function(e,i){return e>=i?e:i},Vs.minI_=function(e,i){return e<i?e:i},Vs.maxI_=function(e,i){return e>=i?e:i},Vs.removeArrayItemAtIndex=function(e,i){e.splice(i,1)},Vs.toFixed=function(e,i){return e.toFixed(i)},Vs.getURLQueryStringParams=function(e){for(var i=e.split("?").pop(),t={},a=0,n=new o("[&;]","g").split(i);a<n.length;){var r=n[a];++a;var l=r.split("=");if(!(2>l.length)){var R=l.shift(),d=decodeURIComponent(R.split("+").join(" ")),c=l.join("=");t[d]=decodeURIComponent(c.split("+").join(" "))}}return t};var Us=function(){};a["troshx.util.UidStringMapCreator"]=Us,Us.__name__=["troshx","util","UidStringMapCreator"],Us.createStrMapFromArray=function(e){for(var t={},a=t,s=0,o=e.length;s<o;){var n=s++;a[e[n].get_uid()]=e[n]}return a};var qs=function(){this.preflight=!1,this.max=1,this.min=1};a["troshx.util.layout.AspectConstraint"]=qs,qs.__name__=["troshx","util","layout","AspectConstraint"],qs.createRelative=function(e,i){var t=new qs;return null!=e&&(1<e?t.max=e:1>e&&(t.min=e)),null!=i&&(1<i?i>t.max&&(t.max=i):1>i&&i<t.min&&(t.min=i)),t},qs.prototype={enablePreflight:function(){return this.preflight=!0,this},findScales:function(e,i,t){e.x=Math.min(i,this.max*t),e.y=0<this.min?Math.min(t,i/this.min):t},__class__:qs};var Zs=function(){};a["troshx.util.layout.BorderConstraint"]=Zs,Zs.__name__=["troshx","util","layout","BorderConstraint"],Zs.isHorizontal=function(e){return 0!=(1&e)},Zs.isMaximalSide=function(e){return!(1!=e)||2==e},Zs.createRelative=function(e,i,t){null==t&&(t=0),null==i&&(i=2);var a=new Zs;return a.coord=e,a.minScale=i,a.maxScale=t,a},Zs.prototype={solveCoord:function(e,i){var t=this.findScaleRatio(i);return this.coord+(e-this.coord)*t},findScaleRatio:function(e){var i=1;return 1<=this.maxScale&&1<e&&(i=1/e*Math.min(e,this.maxScale)),1>=this.minScale&&1>e&&(i=1/e*Math.max(e,this.minScale)),i},__class__:Zs};var Ys=function(){this.hitPadding=0,this.shape=0};a["troshx.util.layout.LayoutItem"]=Ys,Ys.__name__=["troshx","util","layout","LayoutItem"],Ys.createRectWIthUVs=function(e,i,t,a){var s=new Ys;return s.u=e,s.v=i,s.uDim=t,s.vDim=a,s},Ys.createRect=function(e,i,t,a,s,o){return Ys.createRectWIthUVs(t/e,a/i,s/e,o/i)},Ys.createCircle=function(e,i,t,a,s){var o=Ys.createRectWIthUVs((t-s)/e,(a-s)/i,2*s/e,2*s/i);return o.shape=1,o},Ys.createPolygon=function(e,t,a){var s=2147483647,o=2147483647,n=0,r=0,l=new Ys;l.shape=2;var R=0,d=a.length;l.uvs=[];for(var c;R<d;)c=V._new(a[R],a[R+1]),l.uvs.push(c),c.x<s&&(s=c.x),c.y<o&&(o=c.y),c.x>n&&(n=c.x),c.y>r&&(r=c.y),R+=2;l.u=s/e,l.v=o/t,l.uDim=n/e,l.vDim=r/t,l.uDim-=l.u,l.vDim-=l.v;for(var h=0,y=l.uvs.length;h<y;){var g=h++;c=l.uvs[g],c.x=(c.x/e-l.u)/l.uDim,c.y=(c.y/t-l.v)/l.vDim}return l},Ys.fromHTMLImageMapArea=function(e,i,t,a){var s=a.split(", ").map(function(e){return parseFloat(e)});return"rect"==t?Ys.createRect(e,i,s[0],s[1],s[2]-s[0],s[3]-s[1]):"circle"==t?Ys.createCircle(e,i,s[0],s[1],s[2]):Ys.createPolygon(e,i,s)},Ys.prototype={setUVs:function(e){this.uvs=e},solve:function(e,i,t,a){var s=Ys.SCRATCH,o,n;null==this._pivot?(o=this.u,n=this.v):(o=this.u+this._pivot.pt.x*this.uDim,n=this.v+this._pivot.pt.y*this.vDim),null!=this._pin&&(this._pin.findScaleRatios(s,t,a),null!=this._aspect&&this._aspect.preflight&&(this._aspect.findScales(i,t,a),i.x/=t,i.y/=a,s.x=Math.min(i.x,s.x),s.y=Math.min(i.y,s.y)),o=this._pin.pt.x+(o-this._pin.pt.x)*s.x,n=this._pin.pt.y+(n-this._pin.pt.y)*s.y),null==this._pivot?(i.x=1,i.y=1,e.x=o,e.y=n):(this._pivot.findScaleRatios(i,t,a),e.x=o-this._pivot.pt.x*this.uDim*i.x,e.y=n-this._pivot.pt.y*this.vDim*i.y);var r=e.x,l=e.y,R=r+i.x*this.uDim,d=l+i.y*this.vDim;if(null!=this._borders){var c;if(null!=this._borders[0]){c=this._borders[0];var h=this.v,y=c.findScaleRatio(a);l=c.coord+(h-c.coord)*y}if(null!=this._borders[1]){c=this._borders[1];var g=this.u+this.uDim,p=c.findScaleRatio(t);R=c.coord+(g-c.coord)*p}if(null!=this._borders[2]){c=this._borders[2];var _=this.v+this.vDim,u=c.findScaleRatio(a);d=c.coord+(_-c.coord)*u}if(null!=this._borders[3]){c=this._borders[3];var m=this.u,f=c.findScaleRatio(t);r=c.coord+(m-c.coord)*f}}e.x=r,e.y=l,i.x=R-r,i.y=d-l,null!=this._aspect&&(this._aspect.findScales(s,t,a),s.x/=t,s.y/=a,s.x*=this.uDim,s.y*=this.vDim,this._aspect.findScales(i,i.x/s.x,i.y/s.y),i.x*=s.x,i.y*=s.y,null!=this._pivot&&(e.x=o-this._pivot.pt.x*i.x,e.y=n-this._pivot.pt.y*i.y))},resolvePolygon:function(e,t,a){for(var s=0,o=0,n=this.uvs.length;o<n;){var r=o++;e[s++]=t.x+this.uvs[r].x*a.x,e[s++]=t.y+this.uvs[r].y*a.y}},pivot:function(e){return this._pivot=e,this},pin:function(e){return this._pin=e,this},aspect:function(e){return this._aspect=e,this},border:function(e,i,t,a){return null==a&&(a=-1),null==this._borders&&(this._borders=[null,null,null,null]),0>a?1==e||2==e?a=1:a=0:1==e||2==e?0==(1&e)?a<this.v+this.vDim&&(a=this.v+this.vDim):a<this.u+this.uDim&&(a=this.u+this.uDim):0==(1&e)?a>this.v&&(a=this.v):a>this.u&&(a=this.u),this._borders[e]=Zs.createRelative(a,i,t),this},__class__:Ys};var Ks=function(){this.pt=V._new()};a["troshx.util.layout.PointScaleConstraint"]=Ks,Ks.__name__=["troshx","util","layout","PointScaleConstraint"],Ks.createRelative=function(e,i){var t=new Ks;return t.pt.x=e,t.pt.y=i,t},Ks.prototype={findScaleRatios:function(e,i,t){e.x=1,e.y=1,null!=this.scaleMax&&(1<i&&1<=this.scaleMax.x&&(e.x=1/i*Math.min(i,this.scaleMax.x)),1<t&&1<=this.scaleMax.y&&(e.y=1/t*Math.min(t,this.scaleMax.y))),null!=this.scaleMin&&(1>i&&1>=this.scaleMin.x&&(e.x=1/i*Math.max(i,this.scaleMin.x)),1>t&&1>=this.scaleMin.y&&(e.y=1/t*Math.max(t,this.scaleMin.y)))},findScales:function(e,i,t){this.findScaleRatios(e,t,i),e.x*=i,e.y*=t},scaleMinRelative:function(e,i){return null==i&&(i=0),null==e&&(e=0),null==this.scaleMin&&(this.scaleMin=V._new()),this.scaleMin.x=e,this.scaleMin.y=i,this},scaleMaxRelative:function(e,i){return null==i&&(i=0),null==e&&(e=0),null==this.scaleMax&&(this.scaleMax=V._new()),this.scaleMax.x=e,this.scaleMax.y=i,this},__class__:Ks};var js=0;a.Math=Math,String.prototype.__class__=a.String=String,String.__name__=["String"],a.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=a.Date=Date,Date.__name__=["Date"];var Xs=a.Int={__name__:["Int"]},Qs=a.Dynamic={__name__:["Dynamic"]},$s=a.Float=Number;$s.__name__=["Float"];var Js=a.Bool=Boolean;Js.__ename__=["Bool"];var eo=a.Class={__name__:["Class"]},io={},to={},ao=e.ArrayBuffer||K;null==ao.prototype.slice&&(ao.prototype.slice=K.sliceImpl);var so=e.Uint8Array||j._new;se.NIL=new se(null,null),A.USE_CACHE=!1,A.USE_ENUM_INDEX=!1,A.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",z.DEFAULT_RESOLVER=new v,z.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",w.count=0,H.NAMES=new M,H.SINGLETON_CACHE=new M,N.stack=[],W.reflexVertices=[],W.steinerPoints=[],G.INFINITY=new G,q.point=V._new(),q.zero=V._new(0,0),q.EPSILON=1e-8,Y.__toStr={}.toString,j.BYTES_PER_ELEMENT=1,oe.STEP_NEXT=0,oe.STEP_NEW_CYCLE=1,oe.STEP_NEW_ROUND=2,re.SIDE_A=-1,re.SIDE_B=1,re.SIDE_NONE=0,Re.TYPE_NONE=0,Re.TYPE_PLAYERS_TURN=1,Re.TYPE_RESOLVE_MANUEVER=2,ue.NO_ZONE=-1,ue.LEFT_HAND_ZONE=-2,ue.RIGHT_HAND_ZONE=-3,Te.__GOOD_EYES__BAD_EYES=1,Te.__GOOD_EARS_BAD_EARS=2,Te.__GOOD_EARS_BAD_NOSE=4,Te.__RICH__POOR=8,Te.__TRUE_GRIT_SHELTERED=16,Te.__ROBUST_FRAIL=32,Te.__ONE_EYED=64,Te.__CRAVEN__HONORABLE=128,Te.__HONORABLE__COMPLETE_MONSTER=256,Te.__TALL__SHORT=512,Te.CHARACTER_CREATION_ONLY=1,Te.CANNOT_BE_REMOVED=2,Te.TIMES_INFINITE=-1,Te.TIMES_VARYING=-2,Te.COSTLESS_ARRAY=[0],we.COST_1=1,we.COST_2=5,we.COST_3=10,Be.MAX_BANE_EARNABLE=15,oi.ALIVE=1,oi.DEAD=2,oi.ALIVE_ALIVE=3,Hi.LEFT_ARM=1,Hi.RIGHT_ARM=2,Hi.LEFT_LEG=4,Hi.RIGHT_LEG=8,Hi.BOTH_LEGS=12,Oi.LEFT_ARM=1,Oi.RIGHT_ARM=2,Oi.LEFT_LEG=4,Oi.RIGHT_LEG=8,Oi.BOTH_LEGS=12,Oi.BOTH_ARMS=3,Wi.CASH_MULTIPLIERS=[1,1.5,2],Vi.BONUS_POINTS=10,qi.WEALTH_PER_QTY=2,qi.COST_PER_ESTATE=10,Zi.COUNT=0,Ki.COST_1=1,Ki.COST_2=3,Qi.COST=2,$i.POWERFUL=1,$i.GRATING=2,$i.SOOTHING=4,Ji.COST_SINGLE=1,Ji.COST_2=2,Ji.COST_3=3,it.COST_MINOR=4,it.COST_MAJOR=8,ct.COST_3=18,ct.COST_2=15,ct.COST_1=10,ht.HAND=131072,ht.LOWER_ARM=196608,ht.FULL_ARM=245776,ht.FOOT=8192,ht.LOWER_LEG=12288,ht.FULL_LEG=15360,ht.LEVEL_1_AREAS=139264,ht.LEVEL_2_AREAS=208896,ht.LEVEL_3_AREAS=261136,_t.INT_MAX=2147483647,_t.PROF_COST_BEYOND_MAX=2,_t.CATEGORY_RACE=0,_t.CATEGORY_ATTRIBUTES=1,_t.CATEGORY_BNB=2,_t.CATEGORY_SKILLS=3,_t.CATEGORY_SOCIAL_WEALTH=4,_t.CATEGORY_PROFECIENCIES=5,_t.ATTRIBUTE_START_MAX=8,_t.MORTAL_MAX=12,_t.PCP_COLUMN_ATTRIBUTES=[22,23,24,27,31,35,40,45,50,56],_t.MAX_PACKET_SKILL_LEVEL=5,mt.STEP_ORIENTATION=-2,mt.STEP_TARGET_SELECTION=-1,mt.STEP_DECLARE=0,mt.STEP_RESOLVE=1,bt.UID_COUNT=0,bt.FLAG_TWO_HANDED=1,bt.FLAG_STRAPPED=2,bt.EYE_CORRECTIVE=4,bt.PROSTHETIC=8,bt.MASK_HANDED=3,bt.CP=0,bt.SP=1,bt.GP=2,St.VISIBLE_WEIGHT_AVC=1,St.VISIBLE_WEIGHT_AVP=1.4,St.VISIBLE_WEIGHT_AVB=.6,St.WEAK_SPOT=1,St.HALF=2,St.THRUST_ONLY=4,St.HALF_SYMBOL="*",St.WEAK_SPOT_SYMBOL="\u03D5",St.THRUST_ONLY_SYMBOL="t",St.SUPERSCRIPT_MINUS="\u207B",St.SUPERSCRIPT_PLUS="\u207A",St.SUPERSCRIPT_NUMBERS="\u2070\xB9\xB2\xB3\u2074\u2075\u2076\u2077\u2078\u2079",xt.CREST_IDENTIFYING=1,xt.CREST_INTIMIDATING=2,xt.CREST_RUTHLESSLY_FASHIONABLE=3,At.MOVABLE=1,At.HARD=2,At.MAIL=4,At.TEXTILE=8,At.BULLETPROOF=16,zt.USE_AV_SELF=0,zt.USE_AV_OTHER=-1,wt.SWING_DOWNWARD_HEAD=0,wt.SWING_UPWARD_HEAD=1,wt.SWING_NECK=2,wt.SWING_TORSO=3,wt.SWING_UPPER_ARM=4,wt.SWING_LOWER_ARM=5,wt.SWING_UPPER_LEG=6,wt.SWING_LOWER_LEG=7,wt.SWING_GROIN=8,wt.thrustStartIndex=9,wt.THRUST_HEAD=9,wt.THRUST_NECK=10,wt.THRUST_CHEST=11,wt.THRUST_BELLY=12,wt.THRUST_UPPER_ARM=13,wt.THRUST_LOWER_ARM=14,wt.THRUST_GROIN=15,wt.THRUST_UPPER_LEG=16,wt.THRUST_LOWER_LEG=17,wt.UPPER_HEAD=0,wt.FACE=1,wt.LOWER_HEAD=2,wt.NECK=3,wt.SHOULDER=4,wt.CHEST=5,wt.SIDE=6,wt.BELLY=7,wt.HIP=8,wt.GROIN=9,wt.THIGH=10,wt.KNEE=11,wt.SHIN=12,wt.FOOT=13,wt.UPPER_ARM=14,wt.ELBOW=15,wt.FOREARM=16,wt.HAND=17,wt.rearStartIndex=18,wt.UPPER_BACK=18,wt.LOWER_BACK=19,wt.FULL_HEAD=7,wt.FULL_TORSO=480,wt.FULL_LEG=15360,wt.FULL_ARM=245776,wt.FRONT_ONLY=2,Et.HAND=0,Et.LEVER=1,Et.SCREW=2,Et.STIRRUP=3,Et.WINDLASS=4,Et.WINCH=5,Et.CRANK=6,Pt.CUTTING=0,Pt.PIERCING=1,Pt.BLUDGEONING=2,Pt.UNARMED=3,Pt.FALLING=4,Pt.BURN=5,Pt.ELECTRICAL=6,Pt.COLD=7,Ht.CAPLOCK=0,Ht.FIRELOCK=1,Ht.FLINTLOCK=2,Ht.MATCHLOCK=3,Ht.NEEDLEFIRE=4,Ht.SNAPLOCK=5,Ht.WHEELOCK=6,Bt.REACH_HA=1,Bt.REACH_H=2,Bt.REACH_S=3,Bt.REACH_M=4,Bt.REACH_L=5,Bt.REACH_VL=6,Bt.REACH_EL=7,Bt.REACH_LL=8,Dt.BALL=0,Dt.BUCK_AND_BALL=1,Dt.HEAVY_SHOT=2,Dt.RIFLE_BALL=3,Dt.SHOT=4,Dt.SPIKE=5,Nt.MANUAL=0,Nt.BRASS_CATRIDGE=1,Nt.PAPER_CATRIDGE=2,Nt.PAPER_MACHE_CATRIDGE=3,Ft.SP_TO_GP=.05,Ft.GP_TO_SP=20,Ft.CP_TO_SP=.08333333333333333,Ft.SP_TO_CP=12,Ft.CP_TO_GP=.004166666666666667,Ft.GP_TO_CP=240,Ft.ZERO=new Ft,Ft.TEMP=new Ft,Wt.HELD_MASTER=1,Wt.HELD_OFF=2,Wt.HELD_BOTH=3,Wt.UNHELD_UNSPECIFIED=0,Wt.UNHELD_SHEATH_HOLSTER=1,Wt.UNHELD_STRAPPED_ARM=2,Wt.UNHELD_STRAPPED_SHOULDER=3,Wt.UNHELD_BACK=4,Wt.UNHELD_CONCEALED=5,Wt.UNHELD_FORCE_DISABLED=6,Wt.PREFER_UNHELD_PACKED=1,Wt.PREFER_UNHELD_DROPPED=2,Wt.PREFER_UNHELD_EQUIPPED=4,Wt.WEAR_RIGHT=1,Wt.WEAR_LEFT=2,Wt.WEAR_WHOLE=4,Wt.UID_COUNT=0,Wt.MONEY_CALC_CACHE=[0,0,0],Wt.MONEY_REF=new Ft,Wt.LEFT_HALF_SUFFIX="_",Ut.TYPE_DEFENSIVE=1,Ut.TYPE_OFFENSIVE=2,Ut.TYPE_BOTH=3,Ut.TYPE_MOVEMENT=4,Ut.TYPE_TRANSFORMATION=8,Ut.TYPE_INITIATIVE=16,Ut.TYPE_PASSING=32,Ut.ORIENTATION_DEFENSIVE=3,Ut.ORIENTATION_CAUTIOUS=2,Ut.ORIENTATION_AGGRESSIVE=1,Ut.ATTACK_TYPE_SWING=1,Ut.ATTACK_TYPE_THRUST=2,Ut.ATTACK_TYPE_BOTH=3,Ut.ATTACK_TYPE_BUTT=4,Ut.ATTACK_TYPE_SHOOTING=8,Ut.REQ_WEAPON=1,Ut.REQ_SHIELD=2,Ut.REQ_UNARMED=4,Ut.REQ_STUFF=8,Ut.TARGET_ZONE_AUTO=0,Ut.TARGET_ZONE_WEAPON=1,Ut.TARGET_ZONE_SHIELD=2,Ut.TARGET_ZONE_OPPONENT=-1,Ut.TAG_CROSS_FIGHTING=1,Ut.TAG_GRAPPLE=2,Ut.TAG_CLINCHING=4,Ut.TAG_PUSH=8,Ut.TAG_GRAB=16,Ut.TAG_BASH=32,Ut.TAG_PARRY=64,Ut.TAG_VOID=128,Ut.TAG_BLOCK=256,Ut.TAG_ADVANCED=512,Ut.TAG_INSTANT=1024,Ut.TAG_MOVEMENT=2048,Ut.HANDS_NONE=0,Ut.HANDS_MASTER=1,Ut.HANDS_SECONDARY=2,Ut.HANDS_BOTH=3,Ut.NO_INVEST=-1,Ut.DEFER_COST=-2,qt.BRACE=1,qt.CALVARY_SWORD=2,qt.COMPANION_WEAPON=4,qt.COUCHED_CHARGE=8,qt.FLUID_THRUSTS=16,qt.FORWARD_SWEPT=32,qt.FREAKISHLY_LARGE=64,qt.HAND_OFF=128,qt.HEAVY_WEAPON=256,qt.HOOK=512,qt.LIGHT_BLADE=1024,qt.PARRYING_TEETH=2048,qt.SWINGING_SLOT=4096,qt.THIN_BLADE=8192,qt.THRUSTING_SLOT=16384,qt.TIGHT_GRIP=32768,qt.WEAPON_ATTACHMENT=65536,qt.TOTAL_FLAGS=17,Zt.BLUDGEON=1,Zt.NARROW=2,Zt.SHIELD_STICK=4,Zt.AP_FIRST_HIT_ONLY=8,Zt.CHEAT_ATTACHMENT=16,Zt.TOTAL_FLAGS=5,Yt.ATTR_STR=0,Yt.ATTR_AGI=1,Yt.ATTR_END=2,Yt.ATTR_HLT=3,Yt.ATTR_WIL=4,Yt.ATTR_WIT=5,Yt.ATTR_INT=6,Yt.ATTR_PER=7,Yt.CMP_ADR=8,Yt.CMP_MOB=9,Yt.CMP_CAR=10,Yt.CMP_CHA=11,Yt.CMP_TOU=12,Yt.CP=13,Yt.REACH=14,Yt.MP=15,Yt.CAR_END=16,Yt.FATIQUE_END=17,Yt.STARTING_WEALTH=18,Yt.STARTING_MONEY=19,Yt.STARTING_GRIT=20,Yt.TOTAL_SLOTS=21,Xt.TYPE_MELEE=0,Xt.TYPE_RANGED=1,Xt.MASK_ALL=2147483647,Xt.M_1H_SWORD=0,Xt.M_1H_BLUNT=1,Xt.M_2H_BLUNT=2,Xt.M_2H_SWORD=3,Xt.M_SPEAR=4,Xt.M_POLEARM=5,Xt.M_DAGGER=6,Xt.M_WRESTLING=7,Xt.M_PUGILISM=8,Xt.TOTAL_M=9,Xt.R_BOW=0,Xt.R_SLING=1,Xt.R_CROSSBOW=2,Xt.R_FIREARM=3,Xt.R_THROWING=4,Xt.TOTAL_R=5,Xt.SEPERATOR="_$_",$t.MAX_LEVELS=20,$t.MASTERY_LEVEL=20,ea.SIZE_SMALL=0,ea.SIZE_MEDIUM=1,ea.SIZE_LARGE=2,ea.STRAP_ARM=0,ea.STRAP_SHOULDER=1,ea.POSITION_LOW=0,ea.POSITION_HIGH=1,ia.STR=1,ia.AGI=2,ia.END=4,ia.HLT=8,ia.WIP=16,ia.WIT=32,ia.INT=64,ia.PER=128,ia.CHA=256,ia.TRAINED=1,ia.TEACHER=4,ia.MASTERY=10,ia.CHARS_SPECIAL_OPEN=" (",ia.CHARS_SPECIAL_CLOSE=")",ra.PISTOL=1,ra.DRAGON=2,ra.CUSTOM_HILT=1,ra.RIDICULOUSLY_SHARP=2,ra.EXQUISITE_DECORATION=4,ra.BIZARRE_GIMMICK=8,la.STAUNCHED=1,la.TREATED=2,la.MASK_OPENWOUND=3,la.UNIQUE_COUNT=0,Ia.STUFF=["Net (Retiarius)"],Qa.PCP_FOR_TIERS=[1,2,4,6,8],ds.SIMPLICITY=1,ds.FLOWING_WATER=2,ds.RAGING_FLAME=4,ds.BITING_WIND=8,ds.STOIC_EARTH=16,gs.PROTECT_THE_BANNER="Protect the Banner!",gs.RIDE_TO_RUIN="Ride to Ruin!",vs.GENDER_MALE=0,vs.GENDER_FEMALE=1,vs.VERSION=2,vs.LIQUIDATE_ASSET_BASE=6,ws.TRAY_TOTAL_COLS=5,ws.B_ATTACK_1H=1,ws.B_ATTACK_SHIELD=2,ws.B_ATTACK_2H=3,ws.B_ATTACK_UNARMED=0,ws.B_ATTACK_UNARMED_2=7,ws.TARGETING_LABELS_MELEE=["Thrust at","Swing at"],ws.TARGETING_LABELS_SHOOT=["Shoot at",null],ws.TARGETING_LABELS_THROW=["Throw at",null],ws.TARGETING_LABELS_SHIELD=["Shield bash at",null],ws.TARGETING_LABELS_UNARMED=["Straight punch at","Hook punch to","Downward hook to","Upward hook to"],ws.EMPTY_ARR=[],ws.ACTING_DOLL_DECLARE=0,ws.ACTING_DOLL_DRAG_CP=1,ws.ACTING_NONE=2,Ms.HIT_OFFSET_OBSERVE_Y=-55,Ms.MAX_GRID_SIZE=64,Ms.MIN_GRID_SIZE=36,Cs.DOWN=1,Cs.MOVE=2,Cs.TAP=4,Cs.HOLD=8,Cs.SWIPE_UP=16,Cs.SWIPE_RIGHT=32,Cs.SWIPE_DOWN=64,Cs.SWIPE_LEFT=128,Cs.SWIPE=240,Cs.PAN_UP=256,Cs.PAN_RIGHT=512,Cs.PAN_DOWN=1024,Cs.PAN_LEFT=2048,Cs.PAN=3840,Cs.HOVER=4096,Cs.MOVE_OVER=8192,Cs.CANCELED=16384,Cs.RELEASE=32768,Cs.RELEASE_OVER=65536,Cs.ROLL_OUT=131072,Cs.HOVER_SWITCH=262144,Cs.MASK_HOVER=266240,Cs.MASK_CANCELED_OR_RELEASE=49152,Cs.SAMPLE_PT=V._new(),Cs.SAMPLE_PT2=V._new(),Cs.SAMPLE_PT_A=V._new(),Cs.SAMPLE_PT_B=V._new(),Ps.PREGEN_SELECT_OPPONENT=4,Ps.PREGEN_SELECT_SELF=1,Ps.ICON_EYE="&#xf06e;",Ps.ICON_CHEV_LEFT="&#xf053;",Ps.ICON_ARROW_LEFT="&#xf060;",Ps.ICON_FINGER_UP="&#xf0a6;",Ps.ICON_SHIELD="&#xf132;",Ps.HTML_CHAR_DRAGGED="\u25D8",Ps.HTML_CHAR_DICE="\u25CA",Fs.TEST_POS=V._new(),Fs.TEST_SCALE=V._new(),Gs.NUM_ONES=0,Gs.LAST_ROLL_SUCCESSES=0,Gs.ROLL_RESULT_BOTCH=-2,Gs.ROLL_RESULT_DRAW=0,Gs.ROLL_RESULT_FAILED=-1,Zs.SIDE_TOP=0,Zs.SIDE_RIGHT=1,Zs.SIDE_BOTTOM=2,Zs.SIDE_LEFT=3,Ys.SHAPE_RECT=0,Ys.SHAPE_CIRCLE=1,Ys.SHAPE_POLYGON=2,Ys.SCRATCH=V._new(),Ns.main()})("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window);